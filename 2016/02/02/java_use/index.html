<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="SxtUWZeCB1kdMgucSmFlZL9HwwJmgQHGcp9w_p4Xtgc" />
<meta name="baidu-site-verification" content="Sil1fR2zak" />



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JAVA," />





  <link rel="alternate" href="/atom.xml" title="做最好的自己" type="application/atom+xml" />




      <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="主要内容:JAVA语言学习教程">
<meta property="og:type" content="article">
<meta property="og:title" content="JAVA学习篇">
<meta property="og:url" content="http://www.bestzhangjin.com/2016/02/02/java_use/index.html">
<meta property="og:site_name" content="做最好的自己">
<meta property="og:description" content="主要内容:JAVA语言学习教程">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/00.jpg">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/12.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/13.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/14.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/1.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/2.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/3.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/4.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/6.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/7.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/8.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/9.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/10.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/11.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/15.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/16.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/17.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/18.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/19.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/20.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/21.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/22.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/23.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/24.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/25.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/26.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/27.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/28.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/29.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/30.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/31.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/32.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/33.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/34.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/35.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/36.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/37.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/38.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/39.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/40.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/41.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/42.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/43.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/44.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/45.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/46.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/47.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/48.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/49.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/50.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/51.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/52.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/53.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/54.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/55.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/56.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/57.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/58.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/59.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/60.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/61.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/62.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/63.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/64.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/65.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/66.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/67.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/68.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/69.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/70.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/71.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/72.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/73.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/74.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/javause/keycode.jpg">
<meta property="og:updated_time" content="2016-03-03T07:30:35.964Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JAVA学习篇">
<meta name="twitter:description" content="主要内容:JAVA语言学习教程">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> JAVA学习篇 | 做最好的自己 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">做最好的自己</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JAVA学习篇
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-02-02T12:22:14+08:00" content="2016-02-02">
              2016-02-02
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/02/02/java_use/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/02/02/java_use/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>主要内容:JAVA语言学习教程<br><a id="more"></a></p>
<h1 id="u7B2C_u4E00_u7AE0_uFF1A_u4ECB_u7ECD"><a href="#u7B2C_u4E00_u7AE0_uFF1A_u4ECB_u7ECD" class="headerlink" title="第一章：介绍"></a>第一章：介绍</h1><h2 id="1-_u672C_u6559_u7A0B_u4ECB_u7ECD"><a href="#1-_u672C_u6559_u7A0B_u4ECB_u7ECD" class="headerlink" title="1.本教程介绍"></a>1.本教程介绍</h2><p>本教程使用的是MyEclipse+JDK1.8。<br>学习java已经半年了，很多东西虽然熟悉，却是朦朦胧胧，没有一个系统的总结，这里主要做一个系统的总结。本教程志在通过自己的学习与仿真写一篇系统的java学习笔记，以便后面复习或者查询用，本教程主要参考明日科技的JAVA 编程宝典一书。</p>
<h2 id="2-_u5E38_u7528_u5F00_u53D1_u73AF_u5883_u4ECB_u7ECD"><a href="#2-_u5E38_u7528_u5F00_u53D1_u73AF_u5883_u4ECB_u7ECD" class="headerlink" title="2.常用开发环境介绍"></a>2.常用开发环境介绍</h2><p>下面文章来自：<a href="http://blog.csdn.net/futureinhands/article/details/1329148" target="_blank" rel="external">http://blog.csdn.net/futureinhands/article/details/1329148</a><br>1995年3月23日，San Jose Mercury News登出一篇题为“Why Sun thinks Hot Java will give you a lift”的文章，在那篇文章里预言Java技术将是下一个重大事件，这个预言现在看来并不仅仅是商家的宣传伎俩，虽然文章是当时Sun的公关经理 Lisa Poulson安排撰写的。从世人知道Java那一刻起到现在，算起来已经过去整整十年，回顾过去的十年值得总结的东西有许多，但在这里笔者只想就Java开发环境谈些个人的想法与朋友们交流一下。</p>
<p>　　现在的软件开发人员在整个软件的开发生命周期里，也许会根据需要使用各式各样的开发工具来完成相对复杂的开发任务，而在几十年以前，人们还只是使用文本编辑器、编译器和Debugger进行开发，对于这个阶段的开发环境人们称之为CLEs(Command Line Environments)。 而当人们发现如果将那些单独分开的开发工具集成起来就可以有效的提高开发效率时，IDEs(Integrated Development Environments)就出现了。Java的出现尽管只有十年，但其开发环境也大至经历了从CLEs到IDEs再到XDEs这三个阶段，现在即将进入CDEs阶段。在上述Java开发环境发展过程中，有许多值得我们大家关注的地方。</p>
<p>　　Java开发环境的历史回顾</p>
<p>　　纵观过去十年Java开发环境的发展，大致可以粗略的划分为如下几个阶段:</p>
<p>　　●  1995，命令行开发环境CLEs</p>
<p>　　●  1996-2000，集成开发环境IDEs </p>
<p>　　●  2001-2004，扩展开发环境XDEs </p>
<p>　　●  2005至今，协同开发环境CDEs </p>
<p>　　1995年，不平凡的一年，这一年Java 获得了成功。可令人尴尬的是在1995年并没有一个令人满意的Java开发环境，开发人员在进行Java编程时，大多使用文本编辑器编辑源程序，然后再使用命令行的方式进行编译处理。那时的Java开发环境还处于CLEs时代，开发效率非常低，这预示着在Java开发工具上会有一番激烈的竞争。</p>
<p>　　有人称1996年为互联网年，有人却称之为Java年，还有人称之为Web开发年，但不论如何称呼1996年，它都反映了一个事实：Bill Joy将Java与互联网相结合的策略取得了成功。这一年的9月Sun推出了其Java开发环境-Java WorkShop，这是一款基于浏览器的Java开发工具，但由于当时 Java在许多方面还不成熟，所以实际上Java WorkShop并不成功，同年发布的Symantec Visual Cafe由于还是采用C/C++语言进行开发，所以性能与成熟度上就比WorkShop好得多。提到Visual Cafe就不能不提Eugene Wang，因为Eugene Wang常常是与计算机间谍这个词同时出现的人物，有人甚至讲当时Symantec的老板Gordon Eubanks与Eugene Wang签约时，也同时签下了监狱里的一个单元。Visual Cafe就是由Eugene Wang进行主要策划的，它是在同一年发布的Java开发环境中，唯一解决了与数据库连接问题的开发环境，带有一套可以与数据库相连接的组件，无需太多编程使用拖拽的方式就可完成大部分工作，这一优点使得Visual Cafe受到了Java开发人员的欢迎。这一年IBM收购了OTI公司，从而得到了Dave Thomas的弟子John Duimovich、Dave Thomson、Mike Wilson等一大批软件精英，这之中还包括“生活在技术刀锋上的开发者”Brian Barry。</p>
<p>　　1997年，由于微软垄断案，使得微软在Java开发环境上的努力受到了限制，Visual Cafe由于界面直观易用，可以很容易地连接各种数据源等功能再次受到开发人员的欢迎。这一年IBM发布VisualAge for Java。VisualAge for Java是面向代码库的开发环境，它提供代码库和项目管理以便于开发团队在 C/S环境下进行项目开发。但由于大多数Java开发人员比较熟悉面向文件的开发环境，还不太习惯面向代码库的开发，再加上VisalAge for Java对系统资源的要求比较高等因素，使得VisualAge for Java一开始未被Java开发人员所认可。</p>
<p>　　1998年至2000年比较成功的Java开发环境是JBuilder，这是由于Borland较好的把握住 J2SE、J2EE和J2ME发布后，Java技术升级的时机，全面支持Java1.1和Java1.2开发平台，它还提供了多种工具方便用户从旧的平台迁移到新的Java平台。JBuilder本身80%是基于JDK1.2进行开发的，它支持JavaBeans, Enterprise JavaBeans, JDBC等方面的应用开发，可以连接多种关系数据库。为支持分布式应用开发，JBuilder还集成了 VisiBroker ORB、JSP server、数据库和EJB AppServer，并提供Open Tools API便于第三方工具集成。上述种种的优点使得JBuilder一举超越Visual Cafe，成为当时最受欢迎的Java开发环境。在众多Java开发环境中，1999年IBM发布的VisualAge for Java Micro Edition是比较有特色的开发环境，它是由Erich Gamma和与Erich Gamma有“焦不离孟、孟不离焦”之称的John Wiegand共同进行设计的，采用了Java 扩展机制，并集成了JUnit测试框架，其当时所采用的架构深深地影响了后来Eclipse1.0所采用的架构。同时，通过VisualAge for Java Micro Edition的开发，那些来自“未来世界”(Smalltalk们总认为他们来自计算机的未来世界)的软件精英们，全面彻底地对Java技术进行了评估，得出了许多结论性的东西，这之中包括现在闹得沸沸扬扬的Swing和SWT对比。此外，Sun将其收购的NetBeans变成了开源的Java IDE也是一件不大不小的事情。</p>
<p>　　纵观1996年至2000年这五年时间里，随着Java及其相关开发应用的发展，Java开发环境也不断的完善，从CLEs进入到IDEs阶段。为了提高Java开发人员的开发效率，Java开发环境主要从两个方面进行改进与提高。一方面是提高集成在Java IDEs当中开发工具的性能和易用性，另一方面是将Java开发环境尽可能的覆盖到整个软件的开发生命周期。随着基于WEB，采用N-层结构的应用开发成为Java开发人员主要从事的开发任务，Java开发环境需要支持越来越多的技术，比如:XML、JSP、EJB和CORBA等，这就造成了Java IDEs的规模变得越来越大，许多Java开发环境都集成了数据库、JSP Server和AppServer，软件的研究人员将上述IDEs不断膨胀的现象称为“IDEs大爆炸”。</p>
<p>　　“IDEs大爆炸”现象发生以后，有关Java开发环境是走少而精的发展方向，还是走大而全的发展方向就成了广大Java开发人员关注的问题。2001年Java开发人员达到了200万，成为每个软件供应商都无法忽视的力量，这一年JetBrains推出了Java开发环境少而精的代表： IntelliJ IDEA。 IntelliJ IDEA明确的表示只做最好的Java代码编辑器，不做什么文件都可以编写的编辑器。它关注Java开发人员的工作实际并将这些工作进行了优化。由于减掉了一些可有可无的工具，所以价格上相对合理公道。当年IntelliJ IDEA击败JBuilder成为最受Java开发人员欢迎的Java开发环境，不过2002年随着JBuilder将大而全的功力再提升一步，将UML建模工具、JUnit测试框架以及Apache Struts等开发工具集成进来，大而全的发展方向又一次受到Java开发人员追捧。最全还是最好似乎使Java开发人员在选择Java开发环境时处于两难状况，但实际上当Eclipse 1.0发布时，这个问题已经得到了初步的解决，最好和最全是可以兼顾的。</p>
<p>　　Eclipse的出现不是从天上掉下来的，也不是某个天才拍脑袋想出来的，它是一群软件精英们集体智慧的结果。早在1998年IBM就打算开发新一代的工具平台以便将它现有的各种开发工具统一起来，并减少开发各种工具时重复的劳动，同时希望在新的平台上建立新的Java开发环境。经过一段时间的准备， IBM开始建立起一个开发团队，人员构成主要来自VisualAge for Java Micro Edition和VisualAge for Java两个项目的开发人员，选择的标准是过去10年至少开发过5到6个IDE。此外，IBM还联合了9家公司共同成立了一个开源组织Eclipse基金会，将Eclipse提供给开发人员使用，并在开源社区的帮助下进一步完善Eclipse本身。Eclipse在最初设计时，插件模型是静态的，不能实现插件的即插即用功能，即便是大受欢迎的Eclipse 2.1也还是静态的。所以到2004年发布Eclipse 3.0时，Eclipse进行了重大改进，采用OSGi的插件模型，初步实现了插件的即插即用功能，至此一个完美的、可扩展的开发环境展现在Java开发者面前，这时Java开发人员已经达到300万。</p>
<p>　　Java开发环境的现状</p>
<p>　　2004年Eclipse 3.0的发布极大刺激了Eclipse用户的增长，经过一年以后，Java开发人员现在使用Java开发环境的状况是如何的呢？看了下面的表格里的数据也许可以了解一个大致的状况。</p>
<p>　　首先需要指明的是上述的数据并不是当前Java用户使用Java开发环境的准确反映，但我们可以从中了解一个大致的状况。现在的Java环境可以分为三个集团，第一集团是Eclispe它大约占据1/3的份额，第二集团是 IntelliJ IDEA、NetBeans 和JBuilder占据另外1/3的份额，相互之间旗鼓相当，第三集团是以JDeveloper和WSAD为代表的十几种Java开发环境占据剩下的 1/3份额，但每种开发环境占总份额的比重不超过5%。我们考察Eclipse、intelliJ IDEA、NetBeans 和JBuilder这些主流开发环境，可以发觉它们有一个共同的特点那就是可扩展，尽管在实现手段上各有不同。这就是为什么称现在的Java开发环境为XDEs(eXtended Development Environments)的原因，IDEs已经死亡了4年，专业的开发人员需要了解这个事实，因为XDEs也快死了。</p>
<p>　　由于市场的压力，一个软件企业不仅要提高开发人员个体的工作效率，还要提高整个开发团队以及整个企业的开发效率，但在现有的Java开发环境XDEs下无法完全做到这些，所以新一代开发环境CDEs (Collaborative Development Environments)就产生。Grady Booch和Alan W. Brown的研究表明一个程序员一天工作时间的分配是这样的：分析占16%(从5%到40%不等)， 设计占14%(从1%到40%不等)，编程占16%(从0%到60%不等)，测试占10%，打电话占3%，阅读占7%(电子邮件，文档，月刊和杂志)，参加开发会议占10%，无关的会议占7% 。从这些数据可以发现，开发人员用于交流的时间约占工作时间的1/3，开发人员的相互交流非常重要。可是现有的主流Java开发环境一般仅将分析、设计、编程和测试等工具集成进来，却未包括用于交流的工具，这显然不合理。因此，所谓CDEs就是将用于人与人、人与团队以及团对于团队进行交流的工具集成进来的开发环境，比如，CDEs常具有发送电子邮件、进行及时通讯和屏幕分享等功能，通过实现无损耗过程的交流提高开发团队的开发效率。</p>
<p>　　现在已经商业化的CDEs是CodeBeamer Collaborative Development Platform和CodePro AnalytiX，上述两款软件都提供Eclipse的插件，可以与Eclipse集成在一起，使Eclipse升级成为一个CDEs。大家肯定知道Borland已经宣布开发基于Eclipse的新版JBuilder-“Peloton”，Peloton就是一个CDEs(Collaborative Development Environments)，当它明年上半年发布时，就意味着Java开发环境进入CDEs时代，现在Java开发环境还处于XDEs与CDEs交替的阶段。</p>
<p>　　Java开发环境的未来</p>
<p>　　在可以看得见的将来，Java的开发环境还会是以CDEs的形式存在。开源组织或开发工具供应商将会努力为软件的开发创建一个绝对光滑的平面 (Frictionless Surface)，实现无损耗的开发过程，以提高开发效率。为了实现无损耗的开发过程，Java的开发环境将会关注以下几个方面:</p>
<p>　　●  起步阶段方面 </p>
<p>　　●  协作开发方面 </p>
<p>　　●  维护开发团队有效沟通方面 </p>
<p>　　●  多个任务的时间协调方面 </p>
<p>　　●  相互协商方面 </p>
<p>　　●  资料有效性方面 </p>
<p>　　但这里必须承认未来Java开发环境是如何具体去实现无损耗的开发，还需要时间给与答案，因为现在所能采用的方法未必是最好的，比如，使用面向文件的 CVS进行协同开发就有需要改进的地方。</p>
<p>　　总结</p>
<p>　　罗里罗唆一大堆，归纳起来不过就是:一个目的、三种手段以及一条规律。</p>
<p>　　一个目的:十年Java开发环境的演变，其目的就是为了提高开发效率。</p>
<p>　　三种手段:</p>
<p>　　●  提高集成在Java开发环境中开发工具的性能和易用性 </p>
<p>　　●  将Java开发环境尽可能的覆盖到整个软件的开发生命周期 </p>
<p>　　●  集成人与人、人与团队以及团对于团队进行交流的工具 </p>
<p>　　一条规律:软件开发环境的发展过程是从CLEs到IDEs再到XDEs最后进入CDEs，这是由Grady Booch总结出来的，套在Java开发环境上也适用。 </p>
<h2 id="3-java_u5E94_u7528_u9886_u57DF"><a href="#3-java_u5E94_u7528_u9886_u57DF" class="headerlink" title="3.java应用领域"></a>3.java应用领域</h2><p>桌面应用系统开发<br>嵌入式系统开发<br>电子商务应用<br>企业级应用开发<br>交互式系统开发<br>多媒体系统开发<br>分布式系统开发<br>Web应用系统开发</p>
<h2 id="4-_u57FA_u672C_u77E5_u8BC6_u6784_u67B6"><a href="#4-_u57FA_u672C_u77E5_u8BC6_u6784_u67B6" class="headerlink" title="4.基本知识构架"></a>4.基本知识构架</h2><p>下图在网上看到的，具体地址遗忘：<br><img src="/img/javause/00.jpg" alt="图片"></p>
<table>
<thead>
<tr>
<th>NO</th>
<th>类别</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>操作系统</td>
<td>Windows –&gt; Linux</td>
</tr>
<tr>
<td>02</td>
<td>中间件</td>
<td>Tomcat –&gt; JBoss</td>
</tr>
<tr>
<td>03</td>
<td>数据库</td>
<td>MySQL –&gt; Oracle</td>
</tr>
<tr>
<td>04</td>
<td>JAVA SE</td>
<td>环境搭建 –&gt; 基础程序 –&gt; 面向对象 –&gt; 应用开发 –&gt; 高级应用 –&gt; Java新特性 –&gt; JDBC</td>
</tr>
<tr>
<td>05</td>
<td>JAVA EE</td>
<td>WEB    HTML –&gt; JavaScript –&gt; JSP –&gt; JavaBean –&gt; DAO –&gt; Smartupload –&gt; Servlet –&gt; MVC</td>
</tr>
<tr>
<td>06</td>
<td>开源框架</td>
<td>Struts 1.x –&gt; AJAX –&gt; ECSide报表组件 –&gt; Hibernate –&gt; Spring –&gt; Struts 2.0 –&gt; AJAX框架（DWR、JSON、JQuery）</td>
</tr>
<tr>
<td>07</td>
<td>XML      　</td>
<td>基础语法 –&gt; 解析（DOM/SAX/JDOM）</td>
</tr>
<tr>
<td>08</td>
<td>分布式开发</td>
<td>RMI –&gt; EJB 3.0 –&gt; XFire –&gt; Web Services</td>
</tr>
<tr>
<td>09</td>
<td>搜索引擎</td>
<td>Lucene、HTMLParser、Heritrix</td>
</tr>
<tr>
<td>10</td>
<td>工作流</td>
<td>JBPM</td>
</tr>
<tr>
<td>11</td>
<td>开发工具</td>
<td>Eclipse、Jboss IDE</td>
</tr>
</tbody>
</table>
<p>具体可以参考如下：<br><a href="http://blog.163.com/love_gzhj/blog/static/107086704201173135414127/?newFollowBlog" target="_blank" rel="external">http://blog.163.com/love_gzhj/blog/static/107086704201173135414127/?newFollowBlog</a></p>
<h1 id="u7B2C_u4E8C_u7AE0_uFF1A_u57FA_u672C_u77E5_u8BC6"><a href="#u7B2C_u4E8C_u7AE0_uFF1A_u57FA_u672C_u77E5_u8BC6" class="headerlink" title="第二章：基本知识"></a>第二章：基本知识</h1><h2 id="1-_u6570_u636E_u7C7B_u578B"><a href="#1-_u6570_u636E_u7C7B_u578B" class="headerlink" title="1.数据类型"></a>1.数据类型</h2><p>基本类型：<br>整数型：byte（1字节），short（2字节），int（4字节），long（8字节）<br>浮点型：float（4字节），double（8字节）<br>字符型：char——————————————-<br>Unicode码：’a’=97，char强制转换为int就可以得到<br>布尔类型：boolean（true，false）</p>
<p>自动类型转换：低精度向高精度，整数型与浮点型<br>byte-&gt;short-&gt;int-&gt;long-&gt;float-&gt;double</p>
<p>强制数据类型转换：容易造成数据丢失。boolean不能与其他类型强制转换</p>
<h2 id="2-_u8FD0_u7B97_u7B26"><a href="#2-_u8FD0_u7B97_u7B26" class="headerlink" title="2.运算符"></a>2.运算符</h2><p>赋值运算符：=<br>算术运算符：+,-,*,/,%<br>自增自减运算符：++，–      注意：a++;与++a;后者先加后运算，前者相反<br>比较运算符：&gt;,&lt;,==,&gt;=,&lt;=,!=<br>逻辑运算符:!,&amp;&amp;,&amp;,||,|        注意：&amp;&amp;存在短路：前面有false不会计算后面，而&amp;不存在短路，||与|区别一样<br>位运算符：按位运算符 ~,&amp;,|,^(异或)；移位运算符：&lt;&lt;,&gt;&gt;,&gt;&gt;&gt;(无符号右移位)<br>三元运算符：布尔表达式？表达式1：表达式2</p>
<h2 id="3-_u5E38_u91CF_u53D8_u91CF_uFF0C_u6807_u8BC6_u7B26_u5173_u952E_u5B57_uFF0C_u6CE8_u91CA"><a href="#3-_u5E38_u91CF_u53D8_u91CF_uFF0C_u6807_u8BC6_u7B26_u5173_u952E_u5B57_uFF0C_u6CE8_u91CA" class="headerlink" title="3.常量变量，标识符关键字，注释"></a>3.常量变量，标识符关键字，注释</h2><h2 id="4-_u6D41_u7A0B_u63A7_u5236_u8BED_u53E5"><a href="#4-_u6D41_u7A0B_u63A7_u5236_u8BED_u53E5" class="headerlink" title="4.流程控制语句"></a>4.流程控制语句</h2><p>if…else<br>if…else if…else<br>switch(){case: break;default:break;}<br>for<br>while<br>do…while<br>注意：区别continue与break，使用标签与标志位<br>break退出整个循环，continue退出本次循环，进入下一次；<br>标签应用实例如下：<br>打印出来的是5*5乘法表<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">loop</span>:</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i;i&lt;=<span class="number">9</span>;i++)&#123;</span><br><span class="line">   <span class="keyword">for</span>(<span class="built_in">int</span> j=<span class="number">1</span>;j&lt;=i;j++)&#123;</span><br><span class="line">		System.out.<span class="built_in">print</span>(i+<span class="string">"*"</span>+j+<span class="string">"="</span>+i*j+<span class="string">""</span>);</span><br><span class="line">		<span class="keyword">if</span>(j==<span class="number">5</span>)&#123;</span><br><span class="line">			<span class="keyword">break</span> <span class="built_in">loop</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.<span class="built_in">println</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-_u6570_u7EC4"><a href="#5-_u6570_u7EC4" class="headerlink" title="5.数组"></a>5.数组</h2><p>数组是相同类型的、用一个标识符封装到一起的对象序列或者基本类型数据序列，是效率最高的储存和随机访问对象引用序列的方式，他是一个简单的线性序列，所以访问速度快，缺点就是数组一旦创建大小就不可以改变。<br>可以是一维、二维、多维数组。</p>
<p>5.1 一维数组<br>声明<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数组类型 数组名<span class="string">[]</span>；</span><br><span class="line">或者</span><br><span class="line">数组类型<span class="string">[]</span> 数组名；</span><br></pre></td></tr></table></figure></p>
<p>分配空间<br><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数组名字=new 数组类型<span class="string">[数组长度]</span>；</span><br></pre></td></tr></table></figure></p>
<p>初始化<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> arr1[]=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;<span class="comment">//第一种</span></span><br><span class="line"><span class="keyword">int</span> arr2[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;<span class="comment">//第二种</span></span><br><span class="line"><span class="comment">//第三种</span></span><br><span class="line"><span class="keyword">int</span> arr3[]=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];\</span><br><span class="line">arr3[<span class="number">0</span>]=<span class="number">1</span>;arr3[<span class="number">1</span>]=<span class="number">2</span>;arr3[<span class="number">2</span>]=<span class="number">3</span>;arr3[<span class="number">3</span>]=<span class="number">4</span>;</span><br></pre></td></tr></table></figure></p>
<p>遍历<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span> <span class="built_in">day</span>[]=<span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"星期一"</span>,<span class="string">"星期二"</span>,<span class="string">"星期三"</span>,<span class="string">"星期四"</span>,<span class="string">"星期五"</span>,<span class="string">"星期六"</span>,<span class="string">"星期七"</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">day</span>.length;i++)&#123;</span><br><span class="line">	System.out.<span class="built_in">println</span>(<span class="built_in">day</span>[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>5.2 二维数组<br>声明<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数组类型 数组名<span class="attr_selector">[]</span><span class="attr_selector">[]</span>;</span><br><span class="line">或者</span><br><span class="line">数组类型<span class="attr_selector">[]</span><span class="attr_selector">[]</span> 数组名;</span><br></pre></td></tr></table></figure></p>
<p>分配空间<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数组名字=new 数组类型[<span class="link_label">行</span>][<span class="link_reference">列</span>]；</span><br></pre></td></tr></table></figure></p>
<p>初始化<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">数据类型 变量名称[][]=&#123;</span><br><span class="line"><span class="code">	&#123;value1,value2...&#125;</span></span><br><span class="line"><span class="code">	&#123;valu1,valu2,...&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">或者</span><br><span class="line">arr[<span class="link_label">i</span>][<span class="link_reference">j</span>]=value;</span><br></pre></td></tr></table></figure></p>
<p>遍历<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> arr[][]=&#123;&#123;<span class="string">"i"</span>,<span class="string">"you"</span>&#125;,&#123;<span class="string">"he"</span>&#125;,&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;&#125;<span class="comment">;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span><span class="comment">;i&lt;arr.length;i++)&#123;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="built_in">int</span> j=<span class="number">0</span><span class="comment">;j&lt;arr[i].length;j++)&#123;</span></span><br><span class="line">		System.out.print(arr[i][j]+<span class="string">" "</span>)<span class="comment">;</span></span><br><span class="line">		&#125;</span><br><span class="line">	System.out.println()<span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line">输出:</span><br><span class="line">i you </span><br><span class="line">he </span><br><span class="line">a b c</span><br></pre></td></tr></table></figure></p>
<p>5.3 foreach遍历数组<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">for</span>(元素变量:遍历对象)&#123;</span><br><span class="line">	循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">String arr[][]=&#123;&#123;<span class="string">"i"</span>,<span class="string">"you"</span>&#125;,&#123;<span class="string">"he"</span>&#125;,&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">for</span>(String[] <span class="keyword">is</span>:arr)&#123;</span><br><span class="line">	<span class="keyword">for</span>(String <span class="keyword">is</span><span class="number">2</span>:<span class="keyword">is</span>)&#123;</span><br><span class="line">		System.<span class="keyword">out</span>.print(<span class="keyword">is</span><span class="number">2</span>+<span class="string">" "</span>);</span><br><span class="line">	&#125;</span><br><span class="line">System.<span class="keyword">out</span>.println();</span><br><span class="line">&#125;</span><br><span class="line">输出:</span><br><span class="line">i you </span><br><span class="line">he </span><br><span class="line">a b c</span><br></pre></td></tr></table></figure></p>
<p>5.4 排序<br>冒泡排序：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mysort</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> arr[]=&#123;<span class="number">6</span>,<span class="number">4</span>,<span class="number">43</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(arr[i]&gt;arr[j])&#123;<span class="comment">//大的忘后面移动</span></span><br><span class="line">					<span class="keyword">int</span> c=arr[i];</span><br><span class="line">					arr[i]=arr[j];</span><br><span class="line">					arr[j]=c;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.print(arr[i]+<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">输出结果：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">43</span></span><br></pre></td></tr></table></figure></p>
<p>直接用Arrays提供的sort方法：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> arr[]=&#123;<span class="number">6</span>,<span class="number">4</span>,<span class="number">43</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">Arrays.sort(arr);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">	System.out.print(arr[i]+<span class="string">" "</span>);</span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">43</span></span><br></pre></td></tr></table></figure></p>
<p>Arrays提供的复制数组方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">copyOf</span><span class="params">(arr,int newlength)</span></span><span class="comment">//arr--要进行复制的数组，newlength-复制后的新数组长度 如果新数组长度大于arr数组，int用0填充，char用null填充</span></span><br><span class="line"><span class="function"><span class="title">copyOfRange</span><span class="params">(arr,int formIndex,int toIndex)</span></span><span class="comment">//arr-要进行复制的数组，formIndex-开始复制数组的索引位置，必须是0到数组长度之间，toIndex-复制范围的最后索引位置，可以大于arr长度，新数组包括索引为formIndex的位置，不包括索引为toIndex的位置</span></span><br></pre></td></tr></table></figure></p>
<h2 id="6-_u5B57_u7B26_u4E32"><a href="#6-_u5B57_u7B26_u4E32" class="headerlink" title="6.字符串"></a>6.字符串</h2><p>用java.lang包中的String类来创建字符串对象，String类有很多字符串处理方法</p>
<p>6.1 产生String对象<br>构造方法<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span>()   <span class="comment">//构造的对象是一个空字符串（""）,与空值null是两个概念；用new String();</span></span><br><span class="line">			<span class="comment">//注意："a"+null+"b"结果为"anullb"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>(<span class="built_in">byte</span>[] bytes)</span><br><span class="line">		[   <span class="built_in">byte</span>[] byteArr = <span class="keyword">new</span> <span class="built_in">byte</span>[]&#123;<span class="number">65</span>,<span class="number">66</span>,<span class="number">67</span>&#125;;</span><br><span class="line">    		<span class="keyword">String</span> <span class="built_in">str</span>=<span class="keyword">new</span> <span class="keyword">String</span>(byteArr);</span><br><span class="line">			System.out.<span class="built_in">print</span>(<span class="built_in">str</span>);</span><br><span class="line">		]<span class="comment">//输出：ABC</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>(<span class="built_in">byte</span>[] bytes,<span class="keyword">String</span> charsetName)<span class="comment">//指定charsetName编码格式和byte字节数组构造一个新的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>(<span class="built_in">char</span>[] value)<span class="comment">//新字符串是字符数组中所有元素连接的结果</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">String</span>(StringBuffer buffer)<span class="comment">//StringBuffer(缓冲字符串)对象缓冲区中的所有内容</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>(StringBuilder builder)<span class="comment">//StringBuilder(字符串生成器)对象中的内容</span></span><br></pre></td></tr></table></figure></p>
<p>6.2 字符串操作<br>获取长度：length（）<br>截取：substring(int beginIndex)//索引位置开始到字符串结尾<br>     substring(int beginIndex,int endIndex)//索引开始位置到结束位置（不包括结束位置上的字符串）<br>分割：split(String sign)//根据sign(分割符进行分割)//也可以使用正则表达式<br>     split(String sign,int limit)//根据分隔符进行分割，并限定拆分次数<br>如：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span> str1=<span class="string">"姓名：小明！年龄：20,性别：男"</span>;</span><br><span class="line"><span class="keyword">String</span>[] info=<span class="keyword">null</span>;</span><br><span class="line">info=str1.<span class="built_in">split</span>(<span class="string">"！|!|,"</span>);<span class="comment">//中英文!或者,分   </span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; info.length; i++) &#123;</span><br><span class="line">	System.out.<span class="built_in">println</span>(info[i]);</span><br><span class="line">&#125;</span><br><span class="line">输出：</span><br><span class="line">姓名：小明</span><br><span class="line">年龄：<span class="number">20</span></span><br><span class="line">性别：男</span><br></pre></td></tr></table></figure></p>
<p>去除前导空白和尾部空白：trim()<br>查找字符串：<br>indexOf(String str)//返回str在字符串中首次出现的位置，没有则返回-1<br>lastIndexOf(String str)//最后一次出现的位置<br>indexOf(int ch)//返回字符ch(如：105代表i 97代表a)在字符串中首次出现的位置，没有则返回-1<br>lastIndexOf(int ch)//最后一次出现的位置<br>indexOf(int ch,int startIndex)//指定搜索点，指定字符ch首次出现的位置<br>lastIndexOf(int ch,int startIndex)//指定搜索点，指定字符ch最后一次出现的位置<br>如：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span> s=<span class="string">"abcdefghijklmn"</span>;</span><br><span class="line"><span class="built_in">int</span> lastIndex=s.lastIndexOf(<span class="number">105</span>,<span class="number">8</span>);<span class="comment">//i所在的位置为8，如果将8改为小于8的数之后返回-1</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="string">"i所在的位置为"</span>+lastIndex);</span><br><span class="line">System.out.<span class="built_in">println</span>(s.indexOf(<span class="string">"i"</span>));</span><br></pre></td></tr></table></figure></p>
<p>判断是否相等：<br>==比较的是地址是否相同<br>equals（String）比较的是内容是否相同，区分大小写<br>equalsIgnoreCase（String）不区分大小写<br>toUpperCase()–转化为大写<br>toLowerCase()–转化为小写</p>
<p>6.3 可变字符串（StringBuffer类）<br>StringBuffer类创建的字符串可以进行增加、插入处理，可以转化为String对象<br>StringBuffer类的方法：<br>append()—–向字符串生成器中追加内容，此方法有多个重载形式的实现，可以接受任何类型数据<br>如：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer bf=<span class="built_in">new</span> StringBuffer(<span class="string">"java"</span>);</span><br><span class="line">bf.<span class="built_in">append</span>(<span class="string">"编程语言"</span>);</span><br><span class="line">System.out.<span class="built_in">println</span>(bf);<span class="comment">//java编程语言</span></span><br><span class="line">System.out.<span class="built_in">println</span>(bf.toString());<span class="comment">//java编程语言</span></span><br></pre></td></tr></table></figure></p>
<p>delete(start,end)//从StringBuffer对象中移除指定字符串，start-起点位置 end-终点位置<br>如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bf.<span class="keyword">delete</span>(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">System.out.println(bf);<span class="comment">//编程语言</span></span><br></pre></td></tr></table></figure></p>
<p>insert(offset,arg)//向StringBuffer对象中指定位置插入指定内容，offset-开始位置，arg-插入内容（可以是任意内容）<br>如：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bf</span>.<span class="built_in">insert</span>(<span class="number">0</span>,<span class="string">"java"</span>);</span><br><span class="line">System.out.println(<span class="keyword">bf</span>);//java编程语言</span><br></pre></td></tr></table></figure></p>
<p>toString()—将StringBuffer类对象转化为String对象</p>
<p>6.4 字符串反转<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">String</span> splitReverse(<span class="keyword">String</span> <span class="built_in">text</span>)&#123;<span class="comment">//使用split方法</span></span><br><span class="line">  <span class="keyword">String</span>[] <span class="built_in">split</span>= <span class="built_in">text</span>.<span class="built_in">split</span>(<span class="string">""</span>);<span class="comment">//实现截取字符串</span></span><br><span class="line">  <span class="keyword">String</span> newstr=<span class="string">""</span>;</span><br><span class="line">  <span class="built_in">int</span> len=<span class="built_in">split</span>.length;<span class="comment">//数组长度length区别于字符串长度length()</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">int</span> i = len-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">	newstr += <span class="built_in">split</span>[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> newstr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">String</span> chatAtReverse(<span class="keyword">String</span> <span class="built_in">text</span>)&#123;<span class="comment">//使用chatAt方法</span></span><br><span class="line">		<span class="keyword">String</span> newstr = <span class="string">""</span>;</span><br><span class="line">		<span class="built_in">int</span> len = <span class="built_in">text</span>.length();</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = len-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			newstr += <span class="built_in">text</span>.charAt(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> newstr;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u4E09_u7AE0__u7C7B_uFF08_u5BF9_u8C61_uFF09_u3001_u7EE7_u627F_u4E0E_u591A_u6001_u3001_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B"><a href="#u7B2C_u4E09_u7AE0__u7C7B_uFF08_u5BF9_u8C61_uFF09_u3001_u7EE7_u627F_u4E0E_u591A_u6001_u3001_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B" class="headerlink" title="第三章 类（对象）、继承与多态、接口与抽象类"></a>第三章 类（对象）、继承与多态、接口与抽象类</h1><h2 id="1-_u7C7B_u4E0E_u5BF9_u8C61"><a href="#1-_u7C7B_u4E0E_u5BF9_u8C61" class="headerlink" title="1.类与对象"></a>1.类与对象</h2><p>面向对象（OOP）：将数据和处理数据的方法紧密的结合一起，形成类，再将类实例化，就形成对象<br>在面向对象的世界，不再需要考虑数据结构和功能函数，只要关注对象就行<br>类是对某一事物的描述，是抽象的、概念的定义，对象是实际存在的该类事物的个体</p>
<p>通过创建类对象的方式来访问类的属性和行为</p>
<p>包：确保类名的唯一性<br>包定义：package 包名；<br>引入包名：import 包名；或者import 包名.类名；</p>
<p>静态方法与成员方法区别：<br>成员方法必须通过对象才能访问，而静态方法还可以直接通过类名调用</p>
<p>静态块：应用static关键字包围，不包含在任何方法中的静态代码块，当类被加载时，静态块就会被执行且只被执行一次<br>如：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mytest</span> &#123;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"静态块被执行"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> Mytest();</span><br><span class="line">		<span class="keyword">new</span> Mytest();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">上面不写<span class="keyword">new</span> Mytest();或者写多个<span class="keyword">new</span> Mytest();都只是执行一次</span><br><span class="line">输出：静态块被执行</span><br></pre></td></tr></table></figure></p>
<p>权限修饰符：<br>public–任意可访问<br>protected–只有本包内的该类的子类或者其他类可以访问<br>private–只能在本类中被使用，在子类中不可见，对其他包的类不可见</p>
<p>方法重载：一个类中，出现多个方法名相同，但是参数个数和参数类型不同的方法</p>
<p>构造方法：一定要与类名称相同，一定不含有返回值，定义中不可以用void标识，方法中不能用return语句</p>
<h2 id="2-_u7EE7_u627F_u4E0E_u591A_u6001"><a href="#2-_u7EE7_u627F_u4E0E_u591A_u6001" class="headerlink" title="2.继承与多态"></a>2.继承与多态</h2><p>继承：子类需要拓展父类的功能，加强或者改进原本类所没有定义的属性及方法<br>多态：一个类有其他的表现形式，但是彼此间必须是继承关系</p>
<p>定义子类：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="class"><span class="keyword">class</span> <span class="title">子类名</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">父类名</span></span></span><br></pre></td></tr></table></figure></p>
<p>//修饰符–指定类的访问权限，有public,abstract,final</p>
<p>继承原则：<br>（1）子类能够继承父类中被声明为public和protected的成员变量和成员方法，但不能继承被声明为private的成员变量和方法<br>（2）子类能够继承在同一个包的由默认修饰符修饰的成员变量和方法<br>（3）子类声明了一个与父类同名的成员变量或者方法，则子类不能继承父类的成员变量或者方法，此时称子类的成员变量隐藏了父类的成员变量或者方法</p>
<p>方法覆盖（方法重写）：被覆盖的方法必须与覆盖方法有相同的方法名称、参数以及返回值类型<br>方法覆盖限制：<br>（1）子类不能覆盖父类中声明为final或者static的方法<br>（2）子类必须覆盖父类声明为abstract的方法，或者子类也将该方法声明为abstract<br>（3）子类覆盖父类声明的同名方法时，子类中的方法声明必须与被覆盖方法的声明相同<br> 注意：子类不能使用比父类中被覆盖的方法更加严格的访问权限，子类的访问权限必须要比父类的大</p>
<p>super关键字：子类中访问被父类隐藏的成员变量或者方法，子类中使用父类的构造方法（子类并不继承父类的构造方法）<br>实例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">int</span> x=<span class="number">1</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">s</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Bird</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();<span class="comment">//写在构造方法内正确，写在其他地方错误</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> a=<span class="keyword">super</span>.x;<span class="comment">//父类中x为private则这里错误，可以是protected</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">supers</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.s();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//	super.s();//放在外面错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>多态是指程序中的同一操作在不同环境中有不同的语义解释</p>
<p>方法重载：一个类中，出现多个相同名称的方法，但是参数类型和参数个数不同<br>注意：方法返回值类型不能作为区分方法重载的标志</p>
<p>上转型：子类可以强转为父类<br>实例：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Animal</span> &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"动物的爬行行为"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bird</span> <span class="title">extends</span> <span class="title">Animal</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		System.<span class="keyword">out</span>.println(<span class="string">"鸟儿在天上飞"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Zoo</span> &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">free</span>(<span class="params">Animal animal</span>)</span>&#123;<span class="comment">//定义方式方法</span></span><br><span class="line">		animal.move();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		Zoo zoo = <span class="keyword">new</span> Zoo();</span><br><span class="line">		Bird bird = <span class="keyword">new</span> Bird();</span><br><span class="line">		zoo.free(bird);<span class="comment">//鸟儿在天上飞</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>计算圆形和矩形面积：用方法重载就行，用不同的参数就行，圆形传入一个半径r，而矩形传入长宽</p>
<p>重写equals()方法：<br>两个对象是存放在不同内存空间的两个数据结构，“==”对比的是两个对象的地址，而不能对比内容<br>判断内容是否相等必须用equals()方法，这个方法在Object类中定义，它是所有类的父类，任何类都隐式地继承了该方法，只是没有具体的实现代码，一个完整的数据储存类都应该重写该方法，实现自己的相等性判断<br>实例：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bird</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">equals</span>(<span class="params">Object obj</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>==obj)<span class="comment">//当前对象</span></span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(obj==<span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		Bird other = (Bird)obj;</span><br><span class="line">		<span class="keyword">if</span>(id != other.id)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">null</span>==name)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="keyword">null</span>!=other.name)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;<span class="function"><span class="keyword">else</span> <span class="title">if</span>(<span class="params">!name.equals(other.name</span>))<span class="comment">//注意：字符串比较不能用==</span></span><br><span class="line">			return <span class="keyword">false</span></span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span>(<span class="params">String name</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span>(<span class="params"><span class="keyword">int</span> id</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Zoo</span> &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		Bird a=<span class="keyword">new</span> Bird();</span><br><span class="line">		Bird b=<span class="keyword">new</span> Bird();</span><br><span class="line">		a.setName(<span class="string">"a"</span>);</span><br><span class="line">		a.setId(<span class="number">1</span>);</span><br><span class="line">		b.setName(<span class="string">"b"</span>);</span><br><span class="line">		b.setId(<span class="number">1</span>);</span><br><span class="line">		System.<span class="keyword">out</span>.println(a.equals(b));<span class="comment">//false</span></span><br><span class="line">		b.setName(<span class="string">"a"</span>);</span><br><span class="line">		System.<span class="keyword">out</span>.println(a.equals(b));<span class="comment">//true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意：java C#使用单继承，而C++使用多继承</p>
<h2 id="3-_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B"><a href="#3-_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B" class="headerlink" title="3.接口与抽象类"></a>3.接口与抽象类</h2><p>抽象方法：只定义方法名而没有定义方法体的方法<br>一个类中定义了抽象方法，则这个类一定是抽象类，但是抽象类不一定含有抽象方法<br>接口：接口中所有方法都是抽象的，是一个完全抽象的类，接口就是一种标准和规范，只定义了方法名而没有方法体，接口只定义了类应该做什么，而不关心如何去做。</p>
<p>接口定义：接口必须被定义为public,否则没有意义，接口文件的文件名必须与接口名相同<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="class"><span class="keyword">interface</span> 接口名 [<span class="keyword">extends</span> 父接口列表]</span>&#123;</span><br><span class="line">	[<span class="keyword">public</span>] [<span class="keyword">static</span>] [<span class="keyword">final</span>] 常量；</span><br><span class="line">	[<span class="keyword">public</span>] [<span class="keyword">abstract</span>] 方法；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实现接口：<br>继承（extends）只能使用单继承，而一次可以实现多个接口（implements）,每个接口用“,”分隔<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="class"><span class="keyword">class</span> &lt;类名&gt; [<span class="keyword">extends</span> 父类名] [<span class="keyword">implements</span> 接口列表]</span>&#123;&#125;</span><br><span class="line">修饰符--访问权限,可选参数：<span class="keyword">public</span>,<span class="keyword">abstract</span>,<span class="keyword">final</span>;</span><br></pre></td></tr></table></figure></p>
<p>注意：实现接口时，方法名字、返回值类型、参数个数和类型必须与接口一样，必须实现接口中所有方法</p>
<p>抽象类（特殊类）：抽象类不能被实例化，即不能使用new关键字来创建对象<br>定义：<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> 类名</span>&#123;</span><br><span class="line">	类体；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意：abstract只能用在类和方法上，不能用在属性和一般变量上</p>
<p>抽象方法：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> &lt;方法返回值类型&gt; 方法名（参数列表）;</span><br><span class="line">eg:<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> eat();</span><br></pre></td></tr></table></figure></p>
<p>内部类（嵌套类）:在一个类的内部定义在另一个类，其使用范围只是这个类的内部<br>实例：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Outer</span> &#123;</span><br><span class="line">	String outStr=<span class="string">"外部变量"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">outTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		Inner inner=<span class="keyword">new</span> Inner();</span><br><span class="line">		inner.innerTest();<span class="comment">//调用内部类方法</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">class</span> <span class="title">Inner</span>&#123;<span class="comment">//同一包中的其他类都不能访问</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">innerTest</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			System.<span class="keyword">out</span>.println(<span class="string">"内部类调用外部变量:"</span>+outStr);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		Outer <span class="keyword">out</span> = <span class="keyword">new</span> Outer();</span><br><span class="line">		<span class="keyword">out</span>.outTest();<span class="comment">//内部类调用外部变量:外部变量</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u56DB_u7AE0__u96C6_u5408_u7C7B_uFF08_u5BB9_u5668_uFF09"><a href="#u7B2C_u56DB_u7AE0__u96C6_u5408_u7C7B_uFF08_u5BB9_u5668_uFF09" class="headerlink" title="第四章 集合类（容器）"></a>第四章 集合类（容器）</h1><p>数组长度固定，而集合长度固定<br>集合中储存的是对象，不是基本数据类型<br>集合类：用来存放java对象，常见的有List、Set、Map,其中List和Set实现了Collection接口<br>继承关系如下：<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HashMap类，TreeMap类<span class="subst">-&gt;</span><span class="built_in">Map</span>接口<span class="subst">-&gt;</span>java<span class="built_in">.</span>lang<span class="built_in">.</span>Object</span><br><span class="line">HashSet类，TreeSet类<span class="subst">-&gt;</span><span class="built_in">Set</span>接口<span class="subst">-&gt;</span>Collection接口<span class="subst">-&gt;</span>java<span class="built_in">.</span>lang<span class="built_in">.</span>Object</span><br><span class="line">ArrayList类，LinkedList类<span class="subst">-&gt;</span><span class="built_in">List</span>接口<span class="subst">-&gt;</span>Collection接口<span class="subst">-&gt;</span>java<span class="built_in">.</span>lang<span class="built_in">.</span>Object</span><br></pre></td></tr></table></figure></p>
<h2 id="1-Collection_u63A5_u53E3"><a href="#1-Collection_u63A5_u53E3" class="headerlink" title="1.Collection接口"></a>1.Collection接口</h2><p>Collection接口常用方法：<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">add(<span class="type">Object</span>)---将指定的对象添加到集合中</span><br><span class="line">remove（<span class="type">Object</span>）--将指定的对象移出集合</span><br><span class="line">isEmpty()---返回boolean,用于判断当前集合是否为空</span><br><span class="line"><span class="keyword">iterator</span>()--返回在此<span class="type">Collection</span>元素上进行迭代的迭代器，用于遍历集合中的对象</span><br><span class="line">size（）--返回<span class="type">int</span>型，获取该集合中元素的个数</span><br><span class="line">clear（）--清空该集合</span><br><span class="line">contains（<span class="type">Object</span> obj）--集合中是否存在指定对象，存在返回<span class="literal">true</span>，否则<span class="literal">false</span></span><br><span class="line">sort()---排序</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class Zoo &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="keyword">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="keyword">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		Collection&lt;<span class="keyword">String</span>&gt; list=<span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		list.<span class="built_in">add</span>(bird);<span class="comment">//add方法</span></span><br><span class="line">		list.<span class="built_in">add</span>(cat);</span><br><span class="line">		list.<span class="built_in">add</span>(dog);</span><br><span class="line">		Collection&lt;<span class="keyword">String</span>&gt; list2=<span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		list2.addAll(list);<span class="comment">//addAll方法</span></span><br><span class="line">		Iterator&lt;<span class="keyword">String</span>&gt; it=list2.iterator();<span class="comment">//iterator() </span></span><br><span class="line">		<span class="comment">//可以用isEmpty判断是否为空</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"是否为空"</span>+list2.isEmpty());<span class="comment">//是否为空false</span></span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;<span class="comment">//遍历输出</span></span><br><span class="line">			System.out.<span class="built_in">println</span>(it.next());<span class="comment">//bird cat dog</span></span><br><span class="line">		&#125;</span><br><span class="line">		list2.removeAll(list);</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"是否为空"</span>+list2.isEmpty());<span class="comment">//是否为空true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u5E38_u89C1_u96C6_u5408_u7C7B"><a href="#2-_u5E38_u89C1_u96C6_u5408_u7C7B" class="headerlink" title="2.常见集合类"></a>2.常见集合类</h2><p>List、Set、Map区别：<br>List中对象可以重复，按照插入顺序排列<br>Set中对象没有顺序，对象不允许重复<br>Map按照Key-value形式储存</p>
<p>2.1 List集合<br>（1）list接口<br>列表类型，以线性方式储存，可以通过对象的索引操作对象<br>常用方法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">add(int index,Object obj)<span class="comment">---向集合的索引位置添加对象，索引位置从0开始，其他对象索引位置后移</span></span><br><span class="line">addAll(int index,Collection coll)<span class="comment">--向集合中的索引位置添加指定集合中的所有对象</span></span><br><span class="line">remove（int index）<span class="comment">--清除集合中指定索引位置的对象</span></span><br><span class="line"><span class="operator"><span class="keyword">set</span>（<span class="built_in">int</span> <span class="keyword">index</span>，<span class="keyword">Object</span> obj）<span class="comment">--将指定位置改为指定对象</span></span><br><span class="line"><span class="keyword">get</span>（<span class="built_in">int</span> <span class="keyword">index</span>）<span class="comment">--获得指定位置的对象</span></span><br><span class="line">indexOf(<span class="keyword">Object</span> obj)<span class="comment">--获取对象的第一个索引位置，不存在返回-1</span></span><br><span class="line">lastIndexOf(<span class="keyword">Object</span> obj)<span class="comment">--获取对象的最后一个索引位置，不存在返回-1</span></span></span><br></pre></td></tr></table></figure></p>
<p>（2）ArrayList类<br>ArrayList类实现的List集合采用数组结构保存对象，<br>数组结构优点：便于快速随机访问，如果经常需要根据索引位置访问对象，ArrayList类效率高<br>数组结构缺点：向指定索引位置插入、删除对象速度较慢，插入或者删除对象的索引位置越小效率越低，因为后面的对象要移动位置<br>eg：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class Zoo &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="keyword">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="keyword">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		List&lt;<span class="keyword">String</span>&gt; list=<span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		list.<span class="built_in">add</span>(bird);<span class="comment">//add方法</span></span><br><span class="line">		list.<span class="built_in">add</span>(cat);</span><br><span class="line">		list.<span class="built_in">add</span>(dog);</span><br><span class="line">		List&lt;<span class="keyword">String</span>&gt; list2=<span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		list2.addAll(list);<span class="comment">//addAll方法</span></span><br><span class="line">		Iterator&lt;<span class="keyword">String</span>&gt; it=list2.iterator();<span class="comment">//iterator() </span></span><br><span class="line">		<span class="comment">//可以用isEmpty判断是否为空</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"是否为空"</span>+list2.isEmpty());<span class="comment">//是否为空false</span></span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;<span class="comment">//遍历输出</span></span><br><span class="line">			System.out.<span class="built_in">println</span>(it.next());<span class="comment">//bird cat dog</span></span><br><span class="line">		&#125;</span><br><span class="line">		list2.removeAll(list);</span><br><span class="line">		System.out.<span class="built_in">println</span>(<span class="string">"是否为空"</span>+list2.isEmpty());<span class="comment">//是否为空true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(3)LinkedList类<br>LinkedList类实现List接口使用链表结构保存对象<br>链表结构优点：便于向集合中插入删除对象<br>链表结构缺点：随机访问对象的数据较慢<br>常用方法<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">addFirst</span><span class="params">(E obj)</span></span>--将指定对象插入列表的开头</span><br><span class="line"><span class="function"><span class="title">addLast</span><span class="params">(E obj)</span></span>--将指定对象插入列表的结尾</span><br><span class="line"><span class="function"><span class="title">getFirst</span><span class="params">()</span></span>--获得列表开头的对象</span><br><span class="line"><span class="function"><span class="title">getLast</span><span class="params">()</span></span>--获得列表结尾的对象</span><br><span class="line"><span class="function"><span class="title">removeFirst</span><span class="params">()</span></span>--移除列表开头对象</span><br><span class="line"><span class="function"><span class="title">removeLast</span><span class="params">()</span></span>--移除列表结尾对象</span><br></pre></td></tr></table></figure></p>
<p>eg：<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class <span class="type">Zoo</span> &#123;</span><br><span class="line">	public <span class="keyword">static</span> <span class="type">void</span> main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="type">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="type">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		<span class="type">LinkedList</span>&lt;<span class="type">String</span>&gt; list=new <span class="type">LinkedList</span>&lt;<span class="type">String</span>&gt;();</span><br><span class="line">		list.add(bird);//add方法</span><br><span class="line">		list.add(cat);</span><br><span class="line">		list.addFirst(dog);</span><br><span class="line">		<span class="type">Iterator</span>&lt;<span class="type">String</span>&gt; it=list.<span class="keyword">iterator</span>();//<span class="keyword">iterator</span>() </span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;//遍历输出</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.println(it.next());//dog bird cat</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.2 Set集合<br>Set集合为集类型，集是最简单的一种集合，集中的对象不按特定的方式排序，只是简单地把对象加入集合中，集中对象的访问操作是通过对象的引用进行的，故而在集中不能放重复对象<br>所以add()方法添加set对象存在对象时，不会进行操作<br>其实现类有HashSet和TreeSet类<br>（1）此类实现Set接口，由哈希表(实际上是一个HashMap实例)支持，它不保证Set的迭代顺序，此类允许用null元素<br>(2)TreeSet类不仅实现了Set接口，还实现了java.util.SortedSet接口，因此其在遍历集合时按照自然顺序递增排序，也可以是按照指定比较器递增排序<br>TreeSet类增加的方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">first</span><span class="params">()</span></span>--返回set中当前第一个（最低）元素</span><br><span class="line"><span class="function"><span class="title">last</span><span class="params">()</span></span>--返回set中当前最后一个（最高）元素</span><br><span class="line"><span class="function"><span class="title">comparator</span><span class="params">()</span></span>--对set中元素进行排序的比较器，如果set使用其元素的自然顺序，则返回null</span><br><span class="line"><span class="function"><span class="title">headSet</span><span class="params">(Object obj)</span></span>--返回一个新的Set集合，新的集合包含<span class="function"><span class="title">obj</span><span class="params">(不包含)</span></span>之前的所有对象</span><br><span class="line"><span class="function"><span class="title">subSet</span><span class="params">(Object form,Object to)</span></span>---返回一个新的Set集合，新的集合包含<span class="function"><span class="title">from</span><span class="params">(包含)</span></span>到<span class="function"><span class="title">to</span><span class="params">(不包含)</span></span>之间的所有对象</span><br><span class="line">tailSet（Object to）--返回一个新的Set集合，新的集合包含<span class="function"><span class="title">to</span><span class="params">(包含)</span></span>之后的所有对象</span><br></pre></td></tr></table></figure></p>
<p>2.3 Map集合<br>Map没有继承Collection接口，其提供的是key到value的映射，Map中不能包含相同的key值，每个key值只能映射一个value<br>(1)Map接口<br>Map接口包含集合常用的方法如clear()、isEmpty()与size()方法等还包含Map接口特有的方法.<br>常用方法：<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">put(<span class="keyword">key</span> k,value v)--返回<span class="built_in">Object</span>--向集合添加指定的<span class="keyword">key</span>与value的映射关系</span><br><span class="line">containskey(<span class="built_in">Object</span> <span class="keyword">key</span>)--返回<span class="built_in">boolean</span>--包含指定键的映射则返回<span class="literal">true</span></span><br><span class="line">containsValue(<span class="built_in">Object</span> value)--返回<span class="built_in">boolean</span>--映射将一个或者多个键映射到指定值则返回<span class="literal">true</span></span><br><span class="line"><span class="keyword">get</span>（<span class="built_in">Object</span> <span class="keyword">key</span>）--返回<span class="built_in">Object</span>--返回指定键对象的值，无则返回null</span><br><span class="line">keySet()--返回<span class="keyword">Set</span>--返回集合中所有键对象形成的<span class="keyword">Set</span>集合</span><br><span class="line">values()--返回Collection--返回集合中所有值对象形成的Collection集合</span><br></pre></td></tr></table></figure></p>
<p>（2）HashMap类<br>允许以null作为键对象，但是键对象不能重复，所以只能出现一次<br>HashMap类适合经常需要添加、删除和定位映射关系，不过在遍历集合时得到的映射关系是无序的<br>不能直接遍历Map集合，需要先获取集合中的Key集合与Value集合，再分别遍历Key集合与Value集合<br>实例：<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class <span class="type">Zoo</span> &#123;</span><br><span class="line">	public <span class="keyword">static</span> <span class="type">void</span> main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="type">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="type">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		<span class="type">String</span> pig=<span class="string">"pig"</span>;</span><br><span class="line">		<span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">String</span>&gt; list=new <span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">String</span>&gt;();</span><br><span class="line">		list.put(<span class="string">"1"</span>,bird);//add方法</span><br><span class="line">		list.put(<span class="string">"2"</span>,cat);</span><br><span class="line">		list.put(<span class="string">"3"</span>,dog);</span><br><span class="line">		list.put(<span class="string">"4"</span>, pig);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Collection</span>&lt;<span class="type">String</span>&gt; keySet=list.keySet();</span><br><span class="line">		<span class="type">Iterator</span>&lt;<span class="type">String</span>&gt; keyIt=keySet.<span class="keyword">iterator</span>();//<span class="keyword">iterator</span>() 	</span><br><span class="line">		<span class="keyword">while</span>(keyIt.hasNext())&#123;//遍历输出</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.print(keyIt.next()+<span class="string">" "</span>);//<span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Collection</span>&lt;<span class="type">String</span>&gt; valueSet=list.values();</span><br><span class="line">		<span class="type">Iterator</span>&lt;<span class="type">String</span>&gt; valueIt=valueSet.<span class="keyword">iterator</span>();//<span class="keyword">iterator</span>() 	</span><br><span class="line">		<span class="keyword">while</span>(valueIt.hasNext())&#123;//遍历输出</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.print(valueIt.next()+<span class="string">" "</span>);//dog cat bird pig </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>(3)TreeMap类<br>TreeMap类不仅实现了Map接口，还实现了Map接口的子接口java.util.SortedMap<br>TreeMap类实现的集合不允许键对象为null，因为集合中的映射关系按照一定的顺序排序<br>需要进行有序的遍历输出建议用TreeMap类，否则建议用HashMap类<br>实例：<br>键升序排列<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class <span class="type">Zoo</span> &#123;</span><br><span class="line">	public <span class="keyword">static</span> <span class="type">void</span> main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="type">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="type">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		<span class="type">String</span> pig=<span class="string">"pig"</span>;</span><br><span class="line">		<span class="type">TreeMap</span>&lt;<span class="type">String</span>,<span class="type">String</span>&gt; list=new <span class="type">TreeMap</span>&lt;<span class="type">String</span>,<span class="type">String</span>&gt;();</span><br><span class="line">		list.put(<span class="string">"2"</span>,cat);</span><br><span class="line">		list.put(<span class="string">"1"</span>,bird);//add方法</span><br><span class="line">		list.put(<span class="string">"3"</span>,dog);</span><br><span class="line">		list.put(<span class="string">"4"</span>, pig);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Collection</span>&lt;<span class="type">String</span>&gt; keySet=list.keySet();</span><br><span class="line">		<span class="type">Iterator</span>&lt;<span class="type">String</span>&gt; keyIt=keySet.<span class="keyword">iterator</span>();//<span class="keyword">iterator</span>() 	</span><br><span class="line">		<span class="keyword">while</span>(keyIt.hasNext())&#123;//遍历输出</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.print(keyIt.next()+<span class="string">" "</span>);//<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>  </span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Collection</span>&lt;<span class="type">String</span>&gt; valueSet=list.values();</span><br><span class="line">		<span class="type">Iterator</span>&lt;<span class="type">String</span>&gt; valueIt=valueSet.<span class="keyword">iterator</span>();//<span class="keyword">iterator</span>() 	</span><br><span class="line">		<span class="keyword">while</span>(valueIt.hasNext())&#123;//遍历输出</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.print(valueIt.next()+<span class="string">" "</span>);//bird cat dog pig </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.4 例子<br>（1）简单电话本<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class Mytest&#123;</span><br><span class="line">	<span class="keyword">static</span> Map <span class="built_in">map</span>=<span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt;();<span class="comment">//此行放main中会出错</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> addPerson(<span class="keyword">String</span> name,<span class="keyword">String</span> phone)&#123;</span><br><span class="line">		<span class="built_in">map</span>.put(name, phone);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">String</span> findPhoneByName(<span class="keyword">String</span> name)&#123;</span><br><span class="line">		<span class="keyword">return</span> (<span class="keyword">String</span>) <span class="built_in">map</span>.<span class="built_in">get</span>(name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		Mytest book=<span class="keyword">new</span> Mytest();</span><br><span class="line">		book.addPerson(<span class="string">"liming"</span>, <span class="string">"111"</span>);</span><br><span class="line">		book.addPerson(<span class="string">"danling"</span>, <span class="string">"222"</span>);</span><br><span class="line">		System.out.<span class="built_in">print</span>(<span class="string">"liming's phone is:"</span>+book.findPhoneByName(<span class="string">"liming"</span>));<span class="comment">//liming's phone is:111</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>（2）去除List集合重复值<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class Zoo &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">String</span> dog=<span class="string">"dog"</span>;</span><br><span class="line">		<span class="keyword">String</span> cat=<span class="string">"cat"</span>;</span><br><span class="line">		<span class="keyword">String</span> bird=<span class="string">"bird"</span>;</span><br><span class="line">		List list=<span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		list.<span class="built_in">add</span>(cat);</span><br><span class="line">		list.<span class="built_in">add</span>(bird);<span class="comment">//add方法</span></span><br><span class="line">		list.<span class="built_in">add</span>(dog);</span><br><span class="line">		list.<span class="built_in">add</span>(dog);</span><br><span class="line">		</span><br><span class="line">		Iterator&lt;<span class="keyword">String</span>&gt; it=list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;<span class="comment">//遍历输出</span></span><br><span class="line">			System.out.<span class="built_in">print</span>(it.next()+<span class="string">" "</span>);<span class="comment">//cat bird dog dog</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//去除重复值---因为set不能重复</span></span><br><span class="line">		Set <span class="built_in">set</span>=<span class="keyword">new</span> HashSet&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">		<span class="built_in">set</span>.addAll(list);</span><br><span class="line">		it=<span class="built_in">set</span>.iterator();</span><br><span class="line">		<span class="keyword">while</span>(it.hasNext())&#123;<span class="comment">//遍历输出</span></span><br><span class="line">			System.out.<span class="built_in">print</span>(it.next()+<span class="string">" "</span>);<span class="comment">//bird cat dog </span></span><br><span class="line">		&#125; 	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u4E94_u7AE0_IO_u6D41"><a href="#u7B2C_u4E94_u7AE0_IO_u6D41" class="headerlink" title="第五章 IO流"></a>第五章 IO流</h1><p>I/O处理技术可以将数据保存到文本文件、二进制文件等，以达到永久保存数据的要求<br>java以流的形式处理数据，流是一组有序的数组序列，程序从输入流读取数据，向输出流写入数据，每一个数据流都是一个对象，提供各种支持”读入”与”写出”操作的流类。<br>输入输出的数据流可以为文件、网络、压缩包、其他数据源<br>java的输入输出功能来自java.io包中的InputStream类、OutputStream类、Reader类、Writer类以及继承他们的各种子类</p>
<h2 id="1-_u6587_u4EF6_u7C7B"><a href="#1-_u6587_u4EF6_u7C7B" class="headerlink" title="1.文件类"></a>1.文件类</h2><p>File类用于封装系统的文件和目录的相关信息<br>创建File对象<br><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="keyword">File</span>(<span class="typename">String</span> pathName);//pathName<span class="comment">---包含文件名称的路径名eg:"D://1.txt"</span></span><br><span class="line">或者</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">File</span>(<span class="typename">String</span> parent,<span class="typename">String</span> child);//patent-父路径（必须存在，否则IO异常），child-子路径eg：（<span class="string">"D://a"</span>,<span class="string">"1.txt"</span>）</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">File</span>(<span class="keyword">File</span> parent,<span class="typename">String</span> child);//patent-父抽象路径，child-子路径</span><br></pre></td></tr></table></figure></p>
<p>File类常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">String <span class="function"><span class="title">getName</span><span class="params">()</span></span>--------------------获取文件名称</span><br><span class="line">String <span class="function"><span class="title">getParent</span><span class="params">()</span></span>------------------获取文件父路径字符串</span><br><span class="line">String <span class="function"><span class="title">getPath</span><span class="params">()</span></span>--------------------获取文件的相对路径字符串</span><br><span class="line">String <span class="function"><span class="title">getAbsolutePath</span><span class="params">()</span></span>------------获取文件的绝对路径字符串</span><br><span class="line">boolean <span class="function"><span class="title">exists</span><span class="params">()</span></span>--------------------判断文件或者文件夹是否存在</span><br><span class="line">boolean <span class="function"><span class="title">isFile</span><span class="params">()</span></span>--------------------判断是不是文件类型</span><br><span class="line">boolean <span class="function"><span class="title">idDirectory</span><span class="params">()</span></span>---------------判断是不是文件夹类型</span><br><span class="line">boolean <span class="function"><span class="title">isAbsolute</span><span class="params">()</span></span>----------------判断是不是绝对路径</span><br><span class="line">boolean <span class="function"><span class="title">delete</span><span class="params">()</span></span>--------------------删除文件或者文件夹，如果删除成功返回结果为true</span><br><span class="line">boolean <span class="function"><span class="title">mkdir</span><span class="params">()</span></span>---------------------创建文件夹，创建成功返回true</span><br><span class="line">boolean <span class="function"><span class="title">mkdirs</span><span class="params">()</span></span>--------------------创建路径中包含的所有父文件夹和子文件夹，如果所有父文件夹和子文件夹都成功创建返回true</span><br><span class="line">boolean <span class="function"><span class="title">setReadOnly</span><span class="params">()</span></span>---------------设置文件或者文件夹为只读属性</span><br><span class="line">long <span class="function"><span class="title">length</span><span class="params">()</span></span>-----------------------获取文件的长度</span><br><span class="line">long <span class="function"><span class="title">lastModified</span><span class="params">()</span></span>-----------------获取文件的最后修改日期</span><br><span class="line">String[] <span class="function"><span class="title">list</span><span class="params">()</span></span>---------------------获取文件夹中文件或者子文件夹的名称，并存放在字符串数组中</span><br><span class="line">File[] <span class="function"><span class="title">listFiles</span><span class="params">()</span></span>------------------获取文件夹中文件或者子文件夹的名称，并存放在File类型数组中</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Mytest&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">print</span>(String str)&#123;<span class="comment">//此处需要为static 不然main中不能直接调用</span></span><br><span class="line">		System.out.<span class="keyword">println</span>(str);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		String filePath=<span class="string">"file/my.txt"</span>;</span><br><span class="line">		<span class="keyword">File</span> <span class="keyword">file</span>=<span class="keyword">new</span> <span class="keyword">File</span>(filePath);<span class="comment">//创建文件对象</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.getName());<span class="comment">//my.txt</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="string">""</span>+<span class="keyword">file</span>.exists());<span class="comment">//boolean类型需要+""转化字符串//false--------------因为没有创建</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.getPath());<span class="comment">//file\my.txt</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.getAbsolutePath());<span class="comment">//F:\Work\MyEclipse_Web\Test\file\my.txt</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.canExecute()+<span class="string">""</span>);<span class="comment">//是不是可执行文件//false</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.canRead()+<span class="string">""</span>);<span class="comment">//是不是可以读取//false</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.canWrite()+<span class="string">""</span>);<span class="comment">//是否可写//false-----因为没有文件</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.getParent());<span class="comment">//file</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.length()+<span class="string">"B"</span>);<span class="comment">//0B</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">new</span> Date(<span class="keyword">file</span>.lastModified())+<span class="string">""</span>);<span class="comment">//Thu Jan 01 08:00:00 CST 1970</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.isFile()+<span class="string">""</span>);<span class="comment">//false</span></span><br><span class="line">		<span class="keyword">print</span>(<span class="keyword">file</span>.isDirectory()+<span class="string">""</span>);<span class="comment">//false</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u5B57_u8282_u8F93_u5165_u8F93_u51FA_u6D41"><a href="#2-_u5B57_u8282_u8F93_u5165_u8F93_u51FA_u6D41" class="headerlink" title="2.字节输入输出流"></a>2.字节输入输出流</h2><p>（1）字节输入流抽象类（不能new实例对象）InputStream<br>方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">int <span class="function"><span class="title">available</span><span class="params">()</span></span>----------------------------返回当前输入流数据读取方法可以读取的有效字节数量</span><br><span class="line">Abstract int <span class="function"><span class="title">read</span><span class="params">()</span></span>------------------------从当前数据流读取一个字节，已经达到结尾则返回-<span class="number">1</span></span><br><span class="line">int <span class="function"><span class="title">read</span><span class="params">(byte[] bytes)</span></span>---------------------从当前输入流读取一定的byte数据，并存放在数组中，返回读取byte数据的数量，达到结尾则返回-<span class="number">1</span></span><br><span class="line">int <span class="function"><span class="title">read</span><span class="params">(byte[] bytes,int off,int len)</span></span>-----从当前输入流读取一定的byte数据，并存放在数组中指定位置，返回读取byte数据的数量，达到结尾则返回-<span class="number">1</span></span><br><span class="line">void <span class="function"><span class="title">reset</span><span class="params">()</span></span>-------------------------------将当前输入流重新定位到最后一次调用<span class="function"><span class="title">mark</span><span class="params">()</span></span>方法时的位置</span><br><span class="line">void <span class="function"><span class="title">mark</span><span class="params">(int readlimit)</span></span>-------------------在当前输入流中做标记位置，当调用reset方法时返回到该位置，从标记位置开始，到再读入readlimit个字符为止，这个标记都维持有效</span><br><span class="line">boolean <span class="function"><span class="title">markSupported</span><span class="params">()</span></span>-------------------测试当前输入流是否支持<span class="function"><span class="title">mark</span><span class="params">()</span></span>和<span class="function"><span class="title">reset</span><span class="params">()</span></span>方法，只要其中一个不支持则返回false</span><br><span class="line">long <span class="function"><span class="title">skip</span><span class="params">(long n)</span></span>--------------------------跳过和丢弃当前输入流的n个字节数据</span><br><span class="line">void <span class="function"><span class="title">close</span><span class="params">()</span></span>-------------------------------关闭当前输入流，并释放与之关联的系统资源</span><br></pre></td></tr></table></figure></p>
<p>实例：用户输入什么，控制台就输出什么<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mytest</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		InputStream <span class="keyword">in</span>=System.<span class="keyword">in</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] info=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">in</span>.read(info) != -<span class="number">1</span>)&#123;<span class="comment">//循环读取用户输入信息</span></span><br><span class="line">				String str=<span class="keyword">new</span> String(info).trim();<span class="comment">//根据输入信息创建字符串</span></span><br><span class="line">				System.<span class="keyword">out</span>.println(str);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">in</span>.close();<span class="comment">//关闭数据流</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(2) 字节输出流抽象类OutputStream<br>方法：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">byte</span>[] b)---------------------------将<span class="keyword">byte</span>[]数组中的数据写入当前输出流</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">byte</span>[] b,<span class="keyword">int</span> off,<span class="keyword">int</span> len)-----------将<span class="keyword">byte</span>[]数组下标off开始的len长度的数据写入当前输出流</span><br><span class="line"><span class="keyword">Abstract</span> <span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">byte</span> b)--------------------写入一个<span class="keyword">byte</span>数据到当前输出流</span><br><span class="line"><span class="keyword">void</span> flush()-----------------------------------刷新当前输出流，并强制写入所有缓冲的字节数据</span><br><span class="line"><span class="keyword">void</span> close()-----------------------------------关闭输出流，释放资源</span><br></pre></td></tr></table></figure></p>
<p>实例<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mytest</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		OutputStream <span class="keyword">out</span>=System.<span class="keyword">out</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] info=<span class="string">"hello world"</span>.getBytes();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">out</span>.write(info);<span class="comment">//控制台输出：hello world</span></span><br><span class="line">			<span class="keyword">out</span>.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(3)文件字节输入流FileInputStream<br>文件字节输入流可以从指定文件中读取字节数据，继承自InputStream类<br>创建FileInputStream实例：<br><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> FileInputStream(<span class="keyword">File</span> <span class="keyword">file</span>);</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">new</span> FileInputStream(<span class="typename">String</span> filePath);</span><br></pre></td></tr></table></figure></p>
<p>(4)文件字节输出流类FileOutputStream<br>数据通过文件字节输出流以字节为单位输出并保存到文件中<br>实例创建同FileInputStream<br>输入输出流应用程序：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Mytest&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		<span class="keyword">File</span> <span class="keyword">file</span>=<span class="keyword">new</span> <span class="keyword">File</span>(<span class="string">"1.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(!<span class="keyword">file</span>.exists())&#123;<span class="comment">//文件不存在情况</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">file</span>.createNewFile();<span class="comment">//用File file=new File("file/1.txt");时出现找不到路径</span></span><br><span class="line">				FileOutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">file</span>);</span><br><span class="line">				<span class="keyword">byte</span>[] info=<span class="string">"hello world"</span>.getBytes();</span><br><span class="line">				out.<span class="keyword">write</span>(info);<span class="comment">//控制台输出：hello world</span></span><br><span class="line">				out.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="keyword">file</span>);</span><br><span class="line">			<span class="keyword">byte</span>[] msg=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len=in.<span class="keyword">read</span>(msg);<span class="comment">//读取文件信息存入msg</span></span><br><span class="line">			System.out.<span class="keyword">print</span>(<span class="keyword">new</span> String(msg,<span class="number">0</span>,len));<span class="comment">//将文件信息输出  //hello world</span></span><br><span class="line">			in.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u5B57_u7B26_u8F93_u5165_u8F93_u51FA_u6D41"><a href="#3-_u5B57_u7B26_u8F93_u5165_u8F93_u51FA_u6D41" class="headerlink" title="3.字符输入输出流"></a>3.字符输入输出流</h2><p>注意：<br>字节流以字节为单位传送数据，可以是任何类型的数据如：文本、音频、视频、图片等。<br>字符流以字符为单位传送数据，只能传送文本类型数据，优点：使用字符流读取中文不会乱码，而字节流不能保证<br>java中汉字两个字节，而字符类型数据也是两个字节，所以字符类型能够容纳汉字<br>(1)字符输入流抽象类Reader<br>方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">boolean <span class="function"><span class="title">ready</span><span class="params">()</span></span>-----------------------------判断数据流是否准备好</span><br><span class="line">int <span class="function"><span class="title">read</span><span class="params">()</span></span>----------------------------------读入一个字符，读到流结尾返回-<span class="number">1</span></span><br><span class="line">int <span class="function"><span class="title">read</span><span class="params">(char[])</span></span>----------------------------读取一些字符到char[]数组内，并返回所读入的字符数量，读到流结尾则返回-<span class="number">1</span></span><br><span class="line">Abstract int <span class="function"><span class="title">read</span><span class="params">(char[] chars,int off,int len)</span></span>-读取一些字符到char[]数组小标从off到off+len的位置，并返回读入字符的数量，达到结尾则返回-<span class="number">1</span></span><br><span class="line">void <span class="function"><span class="title">reset</span><span class="params">()</span></span>--------------------------------将当前输入流重新定位到最后一次调用<span class="function"><span class="title">mark</span><span class="params">()</span></span>时的位置</span><br><span class="line">void <span class="function"><span class="title">mark</span><span class="params">(int readLimit)</span></span>--------------------在当前输入流中做标记位置，当调用reset方法时将返回该位置。从标记开始到再读入readLimit个字符为止，这个标记保持有效</span><br><span class="line">boolean <span class="function"><span class="title">markSupported</span><span class="params">()</span></span>---------------------测试当前输入流是否支持mark和reset方法，有一个不支持则返回false</span><br><span class="line">long <span class="function"><span class="title">skip</span><span class="params">(long n)</span></span>----------------------------跳过参数n指定的字符数量，并返回所跳过的字符数量</span><br><span class="line">Abstract void <span class="function"><span class="title">close</span><span class="params">()</span></span>-----------------------关闭流并释放资源</span><br></pre></td></tr></table></figure></p>
<p>（2）字符输出流抽象类Writer<br>方法：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">char</span>[] buf)---------------------------将字符数组中的数据写入当前输出流</span><br><span class="line"><span class="keyword">Abstract</span> <span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">char</span>[] b,<span class="keyword">int</span> off,<span class="keyword">int</span> len)----将字符数组下标off开始的len长度的数据写入当前输出流</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(<span class="keyword">char</span> c)-------------------------------向输出流写入一个字符数据</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(String c)-----------------------------向输出流写入一个字符串数据</span><br><span class="line"><span class="keyword">void</span> <span class="keyword">write</span>(String str,<span class="keyword">int</span> off,<span class="keyword">int</span> len)-----------向输出流写入一个字符串从off开始长度为len的数据</span><br><span class="line"><span class="keyword">Abstract</span> <span class="keyword">void</span> flush()----------------------------刷新当前输出流，并强制写入所有缓冲的字节数据</span><br><span class="line"><span class="keyword">Abstract</span> <span class="keyword">void</span> close()----------------------------关闭输出流，释放资源</span><br></pre></td></tr></table></figure></p>
<p>（3）文件字符输入流FileReader<br>创建FileReader实例<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new <span class="function"><span class="title">FileReader</span><span class="params">(File file)</span></span></span><br><span class="line">或者</span><br><span class="line">new <span class="function"><span class="title">FileReader</span><span class="params">(String filePath)</span></span></span><br></pre></td></tr></table></figure></p>
<p>(4)文件字符输出流FileWriter<br>继承自Writer<br>数据通过文件字符输出流以字符为单位输出并保存到文件中<br>创建实例<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new <span class="function"><span class="title">FileWriter</span><span class="params">(File file)</span></span></span><br><span class="line">或者</span><br><span class="line">new <span class="function"><span class="title">FileWriter</span><span class="params">(String filePath)</span></span></span><br></pre></td></tr></table></figure></p>
<p>文件字符输入输出流实例：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">class</span> Mytest&#123;</span><br><span class="line">	public static void main(String[] <span class="keyword">args</span>) &#123;</span><br><span class="line">		<span class="keyword">File</span> <span class="keyword">file</span>=new <span class="keyword">File</span>(<span class="string">"1.txt"</span>);</span><br><span class="line">			try &#123;</span><br><span class="line">				<span class="keyword">if</span>(!<span class="keyword">file</span>.exists())&#123;<span class="comment">//文件不存在情况</span></span><br><span class="line">					<span class="keyword">file</span>.createNewFile();<span class="comment">//用File file=new File("file/1.txt");时出现找不到路径</span></span><br><span class="line">					&#125;</span><br><span class="line">				FileWriter <span class="keyword">out</span>=new FileWriter(<span class="keyword">file</span>);</span><br><span class="line">				String info=<span class="string">"你好......................."</span>;</span><br><span class="line">				<span class="keyword">out</span>.write(info);<span class="comment">//控制台输出：</span></span><br><span class="line">				<span class="keyword">out</span>.<span class="keyword">close</span>();</span><br><span class="line">			&#125; catch (IOException <span class="keyword">e</span>) &#123;</span><br><span class="line">				<span class="keyword">e</span>.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		try &#123;</span><br><span class="line">			FileReader <span class="keyword">in</span> = new FileReader(<span class="keyword">file</span>);</span><br><span class="line">			<span class="keyword">char</span>[] msg=new <span class="keyword">char</span>[1024];</span><br><span class="line">			int len;</span><br><span class="line">			<span class="keyword">while</span>((len=<span class="keyword">in</span>.<span class="keyword">read</span>(msg))!=-1)&#123;;<span class="comment">//循环读取到文件末尾</span></span><br><span class="line">			System.<span class="keyword">out</span>.<span class="keyword">print</span>(new <span class="literal">String</span>(msg,0,len));<span class="comment">//将文件信息输出 </span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">in</span>.<span class="keyword">close</span>();</span><br><span class="line">		&#125; catch (FileNotFoundException <span class="keyword">e</span>) &#123;</span><br><span class="line">			<span class="keyword">e</span>.printStackTrace();</span><br><span class="line">		&#125; catch (IOException <span class="keyword">e</span>) &#123;</span><br><span class="line">			<span class="keyword">e</span>.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u64CD_u4F5C"><a href="#4-_u64CD_u4F5C" class="headerlink" title="4.操作"></a>4.操作</h2><p>(1)复制文件夹<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Mytest&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">copy</span>(<span class="keyword">File</span>[] file1,<span class="keyword">File</span> file2)&#123;</span><br><span class="line">		<span class="keyword">if</span>(!file2.exists())</span><br><span class="line">			file2.mkdir();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;file1.length;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file1[i].isFile())&#123;</span><br><span class="line">				<span class="keyword">try</span>&#123;</span><br><span class="line">					FileInputStream in=<span class="keyword">new</span> FileInputStream(file1[i]);</span><br><span class="line">					FileOutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> <span class="keyword">File</span>(file2.getPath()+<span class="keyword">File</span>.separator+file1[i].getName()));</span><br><span class="line">					<span class="keyword">int</span> <span class="keyword">count</span>=in.available();</span><br><span class="line">					<span class="keyword">byte</span>[] data=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="keyword">count</span>];</span><br><span class="line">					<span class="keyword">if</span>((in.<span class="keyword">read</span>(data))!=-<span class="number">1</span>)</span><br><span class="line">						out.<span class="keyword">write</span>(data);</span><br><span class="line">					out.close();</span><br><span class="line">					in.close();</span><br><span class="line">				&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(file1[i].isDirectory())&#123;</span><br><span class="line">				<span class="keyword">File</span> des=<span class="keyword">new</span> <span class="keyword">File</span>(file2.getPath()+<span class="keyword">File</span>.separator+file1[i].getName());</span><br><span class="line">				des.mkdir();</span><br><span class="line">				<span class="keyword">copy</span>(file1[i].listFiles(),des);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		<span class="keyword">File</span> sourFile=<span class="keyword">null</span>,desFile=<span class="keyword">null</span>;</span><br><span class="line">		String sourFolder=<span class="string">"mysrc"</span>;<span class="comment">//被复制的文件夹</span></span><br><span class="line">		String desFolder=<span class="string">"copy"</span>;</span><br><span class="line">		sourFile=<span class="keyword">new</span> <span class="keyword">File</span>(sourFolder);</span><br><span class="line">		desFile=<span class="keyword">new</span> <span class="keyword">File</span>(desFolder);</span><br><span class="line">		<span class="keyword">if</span>(!sourFile.isDirectory()||!sourFile.exists())&#123;<span class="comment">//原文件夹不存在</span></span><br><span class="line">			System.out.<span class="keyword">print</span>(<span class="string">"源文件夹不存在"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		desFile.mkdir();</span><br><span class="line">		<span class="keyword">copy</span>(sourFile.listFiles(),desFile);</span><br><span class="line">		System.out.<span class="keyword">print</span>(<span class="string">"文件夹复制成功"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(2)分行向文件写入数据<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Mytest&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		String filePath=<span class="string">"mysrc/1.txt"</span>;</span><br><span class="line">		<span class="keyword">File</span> <span class="keyword">file</span> = <span class="keyword">new</span> <span class="keyword">File</span>(filePath);</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(!<span class="keyword">file</span>.exists())&#123;</span><br><span class="line">				<span class="keyword">file</span>.createNewFile();</span><br><span class="line">			&#125;</span><br><span class="line">			FileWriter fw=<span class="keyword">new</span> FileWriter(<span class="keyword">file</span>);<span class="comment">//文件字符输出流</span></span><br><span class="line">			BufferedWriter bw=<span class="keyword">new</span> BufferedWriter(fw);<span class="comment">//使用缓冲数据流封装输出流</span></span><br><span class="line">			bw.<span class="keyword">write</span>(<span class="string">"hello"</span>.toCharArray());<span class="comment">//写入数据到输出流</span></span><br><span class="line">			bw.newLine();<span class="comment">//写入换行符</span></span><br><span class="line">			bw.<span class="keyword">write</span>(<span class="string">"你好啊"</span>);</span><br><span class="line">			bw.flush();</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意：java中的输入输出流是针对内存而言的，将文件从磁盘写入内存就是输入，将内存内容写入磁盘就是输出</p>
<h1 id="u7B2C_u516D_u7AE0_TCP_u4E0EUDP_u534F_u8BAE"><a href="#u7B2C_u516D_u7AE0_TCP_u4E0EUDP_u534F_u8BAE" class="headerlink" title="第六章 TCP与UDP协议"></a>第六章 TCP与UDP协议</h1><h2 id="1-_u7F51_u7EDC_u7F16_u7A0B_u5FC5_u9700_u7AEF_u53E3_u4E0E_u5957_u63A5_u5B57"><a href="#1-_u7F51_u7EDC_u7F16_u7A0B_u5FC5_u9700_u7AEF_u53E3_u4E0E_u5957_u63A5_u5B57" class="headerlink" title="1.网络编程必需端口与套接字"></a>1.网络编程必需端口与套接字</h2><p>网络实现服务器和客户端之间通信<br>服务器：提供信息的计算机或者程序<br>客户端：请求信息的计算机或者程序<br>客户端和服务器沟通除了用相同的协议外，还要指定一个专用开口——端口。</p>
<p>端口并非真实的物理存在，而是一个虚拟的连接装置，端口被规定为0-65535之间的整数<br>HTTP服务一般使用80端口，FTP服务使用21端口<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">客户机1 <span class="tag">&lt;<span class="title">-</span>&gt;</span> 80端口 <span class="tag">&lt;<span class="title">-</span>&gt;</span> HTTP服务器</span><br><span class="line">客户机2 <span class="tag">&lt;<span class="title">-</span>&gt;</span> 21端口 <span class="tag">&lt;<span class="title">-</span>&gt;</span>FTP服务器</span><br></pre></td></tr></table></figure></p>
<p>套接字(Socket)：<br>用来接收或者传送分组的一个端点<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">客户端（应用程序） <span class="tag">&lt;<span class="title">-</span>&gt;</span> Socket <span class="tag">&lt;<span class="title">-</span>&gt;</span> Port ------------- Port <span class="tag">&lt;<span class="title">-</span>&gt;</span> Socket <span class="tag">&lt;<span class="title">-</span>&gt;</span> 服务器（应用程序）</span><br></pre></td></tr></table></figure></p>
<h2 id="2-TCP_u7F16_u7A0B_u539F_u7406"><a href="#2-TCP_u7F16_u7A0B_u539F_u7406" class="headerlink" title="2.TCP编程原理"></a>2.TCP编程原理</h2><p>TCP（Transimission Control Protocol,传输控制协议）：一种以固接连线为基础的协议，提供两台计算机间可靠的数据传送。抵达数据顺序与传输顺序一样。<br>TCP负责数据或者文件的分组和重组，与IP协议一起称为TCP/IP协议，IP协议负责发送与接收数据包<br>TCP协议通信两个应用程序：服务器程序、客户机程序<br>服务器端与客户端交互如下：<br>(1)服务器程序创建一个ServerSocket(服务器套接字)，调用accept()方法等待客户端连接<br>(2)客户端程序创建一个Socket,请求与服务器建立连接<br>(3)服务器接收客户的连接请求，同时创建一个新的Socket与客户建立连接，服务器继续等待新的请求</p>
<p>TCP编程常用类<br>(1)InetAddress类<br>位于java.net包中，InetAddress类对象包含一个Internet主机地址的域名和IP地址<br>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">InetAddress <span class="function"><span class="title">getByName</span><span class="params">(String host)</span></span>-------------------给定主机名确定IP地址</span><br><span class="line">String <span class="function"><span class="title">getHostAddress</span><span class="params">()</span></span>------------------------------返回IP地址字符串</span><br><span class="line">String <span class="function"><span class="title">getHostName</span><span class="params">()</span></span>---------------------------------获取此IP地址的主机名</span><br><span class="line">Object <span class="function"><span class="title">get</span><span class="params">(int index)</span></span>--------------------------------获取指定索引位置的对象</span><br><span class="line">InetAddress <span class="function"><span class="title">getLocalHost</span><span class="params">()</span></span>---------------------------返回本地主机的InetAddress对象</span><br><span class="line">String <span class="function"><span class="title">toString</span><span class="params">()</span></span>------------------------------------将IP地址转化为String</span><br></pre></td></tr></table></figure></p>
<p>异常处理：UnknownHostException异常——指示主机IP无法确定而抛出的异常<br>实例：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mytest</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		InetAddress net;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			net=InetAddress.getLocalHost();<span class="comment">//实例化对象</span></span><br><span class="line">			System.<span class="keyword">out</span>.println(net.getHostName());<span class="comment">//主机名:DESKTOP-27618UQ</span></span><br><span class="line">			System.<span class="keyword">out</span>.println(net.getHostAddress());<span class="comment">//IP:127.0.0.1</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(UnknownHostException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(2)服务器套接字(ServerSocket)<br>用来给服务器端创建套接字，功能：等待来自网络的”请求”，通过指定的端口来等待连接的套接字<br>服务器套接字一次可以与一个套接字连接，多台客户机同时请求时，服务器套接字会将连接的客户机存入队列，从中取出套接字连接，如果请求连接数大于最大容纳数（队列默认50），多出的请求将被拒绝。<br>常用构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">ServerSocket</span><span class="params">(int port)</span></span>----------------创建绑定到特定端口的服务器套接字</span><br><span class="line"><span class="function"><span class="title">ServerSocket</span><span class="params">()</span></span>------------------------创建非绑定服务器套接字</span><br><span class="line"><span class="function"><span class="title">ServerSocket</span><span class="params">(int port,int backlog)</span></span>----利用指定的最大列队长度创建指定的本地端口的服务器端套接字</span><br></pre></td></tr></table></figure></p>
<p>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Socket <span class="function"><span class="title">accept</span><span class="params">()</span></span>------------------------等待客户机连接，连接上则创建一个套接字</span><br><span class="line">boolean <span class="function"><span class="title">isBound</span><span class="params">()</span></span>----------------------判断ServerSocket的绑定状态</span><br><span class="line">InetAddress <span class="function"><span class="title">getInetAddress</span><span class="params">()</span></span>-----------返回此服务器套接字的本地地址</span><br><span class="line">boolean <span class="function"><span class="title">isClosed</span><span class="params">()</span></span>---------------------返回服务器套接字的关闭状态</span><br><span class="line">void <span class="function"><span class="title">close</span><span class="params">()</span></span>---------------------------关闭服务器套接字</span><br><span class="line">void <span class="function"><span class="title">bind</span><span class="params">(SocketAddress endpoint)</span></span>------将ServerSocket绑定到特定地址（IP地址和端口号）</span><br><span class="line">int <span class="function"><span class="title">getInetAddress</span><span class="params">()</span></span>-------------------返回服务器套接字等待的端口号</span><br></pre></td></tr></table></figure></p>
<p>(3)套接字Socket类<br>客户端创建Socket对象后会向指定的IP地址及端口尝试连接，服务器套接字会创建新的套接字与客户端套接字建立连接，连接成功则可以获取套接字的输入输出流，进行数据交换<br>Socket类常用构造方法<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">Socket</span><span class="params">(InetAddress address,int port)</span></span>-------创建连接指定服务器的套接字</span><br><span class="line"><span class="function"><span class="title">Socket</span><span class="params">(String host,int port)</span></span>---------------创建连接指定服务器（主机和端口）的套接字</span><br><span class="line"><span class="function"><span class="title">Socket</span><span class="params">()</span></span>-----------------------------------创建未进行连接的套接字</span><br></pre></td></tr></table></figure></p>
<p>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">InetAddress <span class="function"><span class="title">getInetAddress</span><span class="params">()</span></span>--------------获取套接字连接的地址</span><br><span class="line">int <span class="function"><span class="title">getPort</span><span class="params">()</span></span>-----------------------------获取套接字连接的端口</span><br><span class="line">InetAddress <span class="function"><span class="title">getLocalAddress</span><span class="params">()</span></span>-------------获取套接字绑定的本地地址</span><br><span class="line">int <span class="function"><span class="title">getLocalPort</span><span class="params">()</span></span>------------------------获取套接字绑定的本地接口</span><br><span class="line">void <span class="function"><span class="title">close</span><span class="params">()</span></span>------------------------------关闭套接字连接</span><br><span class="line">InputStream <span class="function"><span class="title">getInputStream</span><span class="params">()</span></span>--------------获取套接字的输入流</span><br><span class="line">OutputStream <span class="function"><span class="title">getOutputStream</span><span class="params">()</span></span>------------获取套接字的输出流</span><br></pre></td></tr></table></figure></p>
<p>(4)TCP程序编写<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">服务器:</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Server</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> ServerSocket serverSocket;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			serverSocket = <span class="keyword">new</span> ServerSocket(<span class="number">1234</span>);</span><br><span class="line">			Socket cliSocket=serverSocket.accept();<span class="comment">//客户端套接字--接收客户连接呼叫</span></span><br><span class="line">			DataInputStream <span class="keyword">in</span>=<span class="keyword">new</span> DataInputStream(cliSocket.getInputStream());</span><br><span class="line">			DataOutputStream <span class="keyword">out</span>=<span class="keyword">new</span> DataOutputStream(cliSocket.getOutputStream());</span><br><span class="line">			String str=<span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				str=<span class="keyword">in</span>.readUTF();<span class="comment">//读取用户放入连接中的信息</span></span><br><span class="line">				<span class="keyword">out</span>.writeUTF(str);<span class="comment">//信息写回去</span></span><br><span class="line">				System.<span class="keyword">out</span>.println(<span class="string">"服务器收到数据："</span>+str);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);<span class="comment">//线程休眠</span></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">客户端：</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Socket clientScoket;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">		clientScoket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">1234</span>);</span><br><span class="line">		DataInputStream <span class="keyword">in</span>=<span class="keyword">new</span> DataInputStream(clientScoket.getInputStream());</span><br><span class="line">		DataOutputStream <span class="keyword">out</span>=<span class="keyword">new</span> DataOutputStream(clientScoket.getOutputStream());</span><br><span class="line">		<span class="keyword">out</span>.writeUTF(<span class="string">"我是客户端"</span>);</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		String str;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			str=<span class="keyword">in</span>.readUTF();</span><br><span class="line">			<span class="keyword">out</span>.writeUTF(i++ +<span class="string">""</span>);</span><br><span class="line">			System.<span class="keyword">out</span>.println(<span class="string">"客户端收到:"</span>+str);</span><br><span class="line">			Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">运行结果：</span><br><span class="line">服务器收到数据：我是客户端</span><br><span class="line">服务器收到数据：<span class="number">0</span></span><br><span class="line">服务器收到数据：<span class="number">1</span></span><br><span class="line">服务器收到数据：<span class="number">2</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">客户端收到:我是客户端</span><br><span class="line">客户端收到:<span class="number">0</span></span><br><span class="line">客户端收到:<span class="number">1</span></span><br><span class="line">客户端收到:<span class="number">2</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h2 id="3-UDP_u7F16_u7A0B_u539F_u7406"><a href="#3-UDP_u7F16_u7A0B_u539F_u7406" class="headerlink" title="3.UDP编程原理"></a>3.UDP编程原理</h2><p>UDP是一种无连接、不可靠的通信协议，信息传输速度比TCP快<br>UDP程序步骤：<br>发送数据包：<br>(1)使用DatagramSocket()构造方法创建一个数据包套接字<br>(2)使用DatagramPacket(byte[] buf,int offset,int length,InetAddress address,int port)创建要发送的数据包<br>(3)使用DatagramSocket类的send()方法发送数据包<br>接收数据包：<br>(1)使用DatagramSocket(int port)创建数据包套接字，绑定到指定的端口<br>(2)使用DatagramPacket(byte[] buf,int length)创建字节数组，来接收数据包<br>(3)使用DatagramPacket类的receive()方法接收UDP包</p>
<p>UDP编程常用类<br>(1)UDP程序套接字DatagramSocket类<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">DatagramSocket</span><span class="params">()</span></span>------------------------------创建绑定到本地主机上的任何可用的端口</span><br><span class="line"><span class="function"><span class="title">DatagramSocket</span><span class="params">(int port)</span></span>----------------------创建绑定到本地主机上的指定端口的套接字</span><br><span class="line"><span class="function"><span class="title">DatagramSocke</span><span class="params">(int port,InetAddress address)</span></span>---创建数据报套接字，将其绑定到指定的本地地址</span><br><span class="line">通过类的<span class="function"><span class="title">send</span><span class="params">()</span></span>方法发送数据包，<span class="function"><span class="title">receive</span><span class="params">()</span></span>方法接收数据包</span><br></pre></td></tr></table></figure></p>
<p>(2)数据报包类DatagramPacket<br>构造方法：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf,int <span class="built_in">length</span>)<span class="comment">------------------------------指定接收长度，创建DatagramPacket实例</span></span><br><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf,int <span class="built_in">length</span>,InetAddress address,int port)<span class="comment">--指定了数据包的内容空间和大小，同时指定了数据包的目标地址和端口</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u7EC3_u4E60"><a href="#4-_u7EC3_u4E60" class="headerlink" title="4.练习"></a>4.练习</h2><p>(1)聊天室<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将连接套接字、删除套接字、通过套接字输出信息等操作封装在类 SocketManager中</span></span><br><span class="line"><span class="keyword">public</span> class SocketManager extends ArrayList &#123;</span><br><span class="line">	<span class="comment">//synchronized -- Java语言的关键字，当它用来修饰一个方法或者一个代码块的时候，能够保证在同一时刻最多只有一个线程执行该段代码。</span></span><br><span class="line">	<span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="built_in">add</span>(Socket socket) &#123;</span><br><span class="line">		<span class="keyword">super</span>.<span class="built_in">add</span>(socket);	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">synchronized</span> <span class="keyword">void</span> delete(Socket socket)&#123;</span><br><span class="line">		<span class="keyword">super</span>.remove(socket);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">synchronized</span> <span class="keyword">void</span> sendClientCount()&#123;<span class="comment">//输出当前聊天人数</span></span><br><span class="line">		<span class="keyword">String</span> info=<span class="string">"当前聊天人数"</span>+<span class="built_in">size</span>();<span class="comment">//ArrayList的方法</span></span><br><span class="line">		System.out.<span class="built_in">println</span>(info);</span><br><span class="line">		writeAll(info);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">synchronized</span> <span class="keyword">void</span> writeAll(<span class="keyword">String</span> <span class="built_in">str</span>)&#123;</span><br><span class="line">		PrintWriter writer=<span class="keyword">null</span>;<span class="comment">//PrintWriter是一个非常实用的输出流。</span></span><br><span class="line">		Socket socket;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">			socket = (Socket)<span class="built_in">get</span>(i);</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				writer=<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">				<span class="keyword">if</span>(writer!=<span class="keyword">null</span>)</span><br><span class="line">					writer.<span class="built_in">println</span>(<span class="built_in">str</span>);</span><br><span class="line">			&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class ServerProcess &#123;</span><br><span class="line">	<span class="keyword">private</span> SocketManager socketMan=<span class="keyword">new</span> SocketManager();</span><br><span class="line">	<span class="keyword">void</span> getServer()&#123;<span class="comment">//创建套接字方法</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ServerSocket serverSocket=<span class="keyword">new</span> ServerSocket(<span class="number">1234</span>);</span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"服务器套接字创建"</span>);</span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">				Socket socket=serverSocket.accept();<span class="comment">//等待连接</span></span><br><span class="line">				<span class="keyword">new</span> write_Thread(socket).start();</span><br><span class="line">				socketMan.<span class="built_in">add</span>(socket);</span><br><span class="line">				socketMan.sendClientCount();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	class write_Thread extends Thread&#123;</span><br><span class="line">		Socket socket=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">BufferedReader</span> reader;</span><br><span class="line">		<span class="keyword">private</span> PrintWriter writer;</span><br><span class="line">		<span class="keyword">public</span> write_Thread(Socket socket)&#123;</span><br><span class="line">			<span class="keyword">this</span>.socket=socket;</span><br><span class="line">		&#125;</span><br><span class="line">		@Override</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> run() &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				reader =<span class="keyword">new</span> <span class="keyword">BufferedReader</span>(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">				writer =<span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">				<span class="keyword">String</span> msg;</span><br><span class="line">				<span class="keyword">while</span>((msg=reader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					System.out.<span class="built_in">println</span>(msg);</span><br><span class="line">					socketMan.writeAll(msg);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		ServerProcess server=<span class="keyword">new</span> ServerProcess();</span><br><span class="line">		server.getServer();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class Client extends JFrame implements Runnable &#123;</span><br><span class="line">	<span class="keyword">private</span> JPanel jpanel = <span class="keyword">new</span> JPanel();</span><br><span class="line">	<span class="keyword">private</span> JLabel nameLabel=<span class="keyword">new</span> JLabel(<span class="string">"姓名： "</span>);</span><br><span class="line">	<span class="keyword">private</span> JTextField nameField=<span class="keyword">new</span> JTextField();</span><br><span class="line">	<span class="keyword">private</span> JTextArea msgArea=<span class="keyword">new</span> JTextArea();</span><br><span class="line">	<span class="keyword">private</span> JTextField sendFiled=<span class="keyword">new</span> JTextField();</span><br><span class="line">	<span class="keyword">private</span> JScrollPane jScrollPane=<span class="keyword">new</span> JScrollPane();</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">BufferedReader</span> reader;</span><br><span class="line">	<span class="keyword">private</span> PrintWriter writer;</span><br><span class="line">	<span class="keyword">private</span> Socket socket;</span><br><span class="line">	<span class="keyword">public</span> Client(<span class="keyword">String</span> title)&#123;</span><br><span class="line">		<span class="keyword">super</span>(title);</span><br><span class="line">		<span class="keyword">this</span>.setSize(<span class="number">360</span>,<span class="number">340</span>);</span><br><span class="line">		<span class="keyword">this</span>.<span class="built_in">add</span>(jpanel);</span><br><span class="line">		jpanel.setLayout(<span class="keyword">null</span>);<span class="comment">//窗体布局</span></span><br><span class="line">		msgArea.setEditable(<span class="keyword">false</span>);</span><br><span class="line">		jpanel.<span class="built_in">add</span>(nameLabel);</span><br><span class="line">		nameLabel.setBounds(<span class="number">10</span>,<span class="number">10</span>,<span class="number">60</span>,<span class="number">20</span>);</span><br><span class="line">		jpanel.<span class="built_in">add</span>(nameField);</span><br><span class="line">		nameField.setBounds(<span class="number">60</span>,<span class="number">10</span>,<span class="number">270</span>,<span class="number">21</span>);</span><br><span class="line">		jpanel.<span class="built_in">add</span>(sendFiled);</span><br><span class="line">		sendFiled.setBounds(<span class="number">10</span>,<span class="number">270</span>,<span class="number">320</span>,<span class="number">21</span>);</span><br><span class="line">		msgArea.setColumns(<span class="number">20</span>);</span><br><span class="line">		msgArea.setRows(<span class="number">5</span>);</span><br><span class="line">		jScrollPane.setViewportView(msgArea);</span><br><span class="line">		jpanel.<span class="built_in">add</span>(jScrollPane);</span><br><span class="line">		jScrollPane.setBounds(<span class="number">10</span>,<span class="number">40</span>,<span class="number">320</span>,<span class="number">220</span>);</span><br><span class="line">		sendFiled.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				writer.<span class="built_in">println</span>(nameField.getText()+<span class="string">":"</span>+sendFiled.getText());</span><br><span class="line">				sendFiled.setText(<span class="string">""</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> run() &#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				msgArea.<span class="built_in">append</span>(reader.readLine()+<span class="string">"\n"</span>);<span class="comment">//文本域中读取内容分行显示</span></span><br><span class="line">			&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">void</span> getSocket()&#123;</span><br><span class="line">		msgArea.<span class="built_in">append</span>(<span class="string">"尝试与服务器连接"</span>);</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			socket=<span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>,<span class="number">1234</span>);</span><br><span class="line">			msgArea.<span class="built_in">append</span>(<span class="string">"聊天准备完毕"</span>);</span><br><span class="line">			reader=<span class="keyword">new</span> <span class="keyword">BufferedReader</span>(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">			writer = <span class="keyword">new</span> PrintWriter(socket.getOutputStream(),<span class="keyword">true</span>);</span><br><span class="line">			<span class="keyword">new</span> Thread(<span class="keyword">this</span>).start();</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		Client client=<span class="keyword">new</span> Client(<span class="string">"聊天室"</span>);</span><br><span class="line">		client.setVisible(<span class="keyword">true</span>);</span><br><span class="line">		client.getSocket();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br>服务器：<br>服务器套接字创建<br>当前聊天人数1<br>当前聊天人数2<br>zhang:你好<br>li:你好</p>
<p>客户端：<br><img src="/img/javause/12.png" alt="图片"><br><img src="/img/javause/13.png" alt="图片"></p>
<p>(2)广播数据报<br>一个UDP程序，实现主机不断地向客户端发送消息<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Weather</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	String weather=<span class="string">"天气预报，明天降温"</span>;</span><br><span class="line">	<span class="keyword">int</span> port=<span class="number">1234</span>;</span><br><span class="line">	InetAddress iaddress=<span class="keyword">null</span>;</span><br><span class="line">	MulticastSocket socket=<span class="keyword">null</span>;<span class="comment">//创建多点广播套接字</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Weather</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			iaddress=InetAddress.getByName(<span class="string">"127.0.0.1"</span>);<span class="comment">//实例化InetAddress对象，指定地址</span></span><br><span class="line">			socket=<span class="keyword">new</span> MulticastSocket(port);<span class="comment">//实例化多点广播套接字</span></span><br><span class="line">			socket.setTimeToLive(<span class="number">1</span>);<span class="comment">//指定发送范围是本地网络</span></span><br><span class="line">			socket.joinGroup(iaddress);<span class="comment">//加入广播组</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			DatagramPacket packet=<span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">byte</span>[] data=weather.getBytes();<span class="comment">//声明字节数组</span></span><br><span class="line">			packet=<span class="keyword">new</span> DatagramPacket(data, data.length, iaddress, port);</span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(data));</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				socket.send(packet);</span><br><span class="line">				sleep(<span class="number">3000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Weather w=<span class="keyword">new</span> Weather();</span><br><span class="line">		w.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> <span class="keyword">extends</span> <span class="title">JFrame</span> <span class="keyword">implements</span> <span class="title">Runnable</span>, <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> port=<span class="number">1234</span>;</span><br><span class="line">	InetAddress group=<span class="keyword">null</span>;</span><br><span class="line">	MulticastSocket socket=<span class="keyword">null</span>;</span><br><span class="line">	JButton begain=<span class="keyword">new</span> JButton(<span class="string">"接收"</span>);</span><br><span class="line">	JButton stop=<span class="keyword">new</span> JButton(<span class="string">"停止"</span>);</span><br><span class="line">	JTextArea textArea=<span class="keyword">new</span> JTextArea(<span class="number">10</span>,<span class="number">10</span>);<span class="comment">//显示接收广播的文本域</span></span><br><span class="line">	JTextArea textArea2=<span class="keyword">new</span> JTextArea(<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">	Thread thread;</span><br><span class="line">	<span class="keyword">boolean</span> b=<span class="keyword">false</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Client</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(<span class="string">"广播数据报"</span>);</span><br><span class="line">		thread=<span class="keyword">new</span> Thread(<span class="keyword">this</span>);</span><br><span class="line">		begain.addActionListener(<span class="keyword">this</span>);<span class="comment">//绑定按钮的单击事件</span></span><br><span class="line">		stop.addActionListener(<span class="keyword">this</span>);<span class="comment">//绑定按钮的单击事件</span></span><br><span class="line">		textArea.setForeground(Color.blue);<span class="comment">//指定文本域中文本的颜色</span></span><br><span class="line">		JPanel north=<span class="keyword">new</span> JPanel();<span class="comment">//创建JPanel对象</span></span><br><span class="line">		north.add(begain);</span><br><span class="line">		north.add(stop);</span><br><span class="line">		add(north,BorderLayout.NORTH);<span class="comment">//将north放置在窗体的上面</span></span><br><span class="line">		JPanel center=<span class="keyword">new</span> JPanel();<span class="comment">//创建面板对象center</span></span><br><span class="line">		center.setLayout(<span class="keyword">new</span> GridLayout(<span class="number">1</span>,<span class="number">2</span>));<span class="comment">//设置面板布局</span></span><br><span class="line">		center.add(textArea);<span class="comment">//将文本域添加到面板上</span></span><br><span class="line">		center.add(textArea2);<span class="comment">//将文本域添加到面板上</span></span><br><span class="line">		add(center,BorderLayout.CENTER);<span class="comment">//设置面板布局</span></span><br><span class="line">		validate();<span class="comment">//刷新</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			group=InetAddress.getByName(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">			socket=<span class="keyword">new</span> MulticastSocket(port);</span><br><span class="line">			socket.joinGroup(group);<span class="comment">//加入广播组</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">50</span>,<span class="number">360</span>,<span class="number">380</span>);<span class="comment">//设置布局</span></span><br><span class="line">		setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(e.getSource()==begain)&#123;<span class="comment">//单击按钮begain触发事件</span></span><br><span class="line">			begain.setBackground(Color.pink);<span class="comment">//设置按钮颜色</span></span><br><span class="line">			stop.setBackground(Color.gray);</span><br><span class="line">			<span class="keyword">if</span>(!(thread.isAlive()))&#123;<span class="comment">//如果线程不处于新建状态</span></span><br><span class="line">				thread=<span class="keyword">new</span> Thread(<span class="keyword">this</span>);<span class="comment">//实例化Thread</span></span><br><span class="line">			&#125;</span><br><span class="line">			thread.start();</span><br><span class="line">			b=<span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(e.getSource()==stop)&#123;</span><br><span class="line">			begain.setBackground(Color.yellow);</span><br><span class="line">			stop.setBackground(Color.red);</span><br><span class="line">			b=<span class="keyword">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> 		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"> 			<span class="keyword">byte</span>[] data=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"> 			DatagramPacket packet=<span class="keyword">new</span> DatagramPacket(data, data.length, group, port);<span class="comment">//待接收的数据包</span></span><br><span class="line"> 			<span class="keyword">try</span> &#123;</span><br><span class="line">				socket.receive(packet);<span class="comment">//接收数据包</span></span><br><span class="line">				String msg=<span class="keyword">new</span> String(data, <span class="number">0</span>, packet.getLength());<span class="comment">//获取数据包中的内容</span></span><br><span class="line">				textArea.setText(<span class="string">"接收的内容： "</span>+msg);<span class="comment">//将接收的内容显示在文本域中</span></span><br><span class="line">				textArea2.append(msg+<span class="string">"\n"</span>);<span class="comment">//每条信息为一行</span></span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line"> 			<span class="keyword">if</span>(b==<span class="keyword">true</span>)&#123;</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 			</span><br><span class="line"> 		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Client client=<span class="keyword">new</span> Client();</span><br><span class="line">		client.setSize(<span class="number">460</span>, <span class="number">200</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br><img src="/img/javause/14.png" alt="图片"></p>
<h1 id="u7B2C_u4E03_u7AE0__u7A97_u53E3_u7A0B_u5E8F_u5F00_u53D1"><a href="#u7B2C_u4E03_u7AE0__u7A97_u53E3_u7A0B_u5E8F_u5F00_u53D1" class="headerlink" title="第七章 窗口程序开发"></a>第七章 窗口程序开发</h1><p>Swing功能比AWT强大，Swing中除了保留AWT中的几个重要的重量级组件外，其他都是轻量级组件，使用java窗体开发很复杂。<br>java窗体开发包含窗体、面板、容器布局以及基本组件等</p>
<h2 id="1-_u521B_u5EFAJFrame_u7A97_u4F53"><a href="#1-_u521B_u5EFAJFrame_u7A97_u4F53" class="headerlink" title="1.创建JFrame窗体"></a>1.创建JFrame窗体</h2><p>JFrame类：定义生成窗体的模板，实例化一个窗体类就生成一个窗体。创建窗体后，可以向窗体添加组件，同时为组件添加事件监听器，处理最大化、最小化、关闭、调整大小等窗体事件。<br>窗体是一个组件容器，所有组件都必须有窗体去承载。<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public <span class="function"><span class="title">JFrame</span><span class="params">()</span></span><span class="comment">//默认构造方法，创建一个初始不可见、没有标题的新窗体</span></span><br><span class="line">或者</span><br><span class="line">public <span class="function"><span class="title">JFrame</span><span class="params">(String title)</span></span><span class="comment">//创建一个初始不可见、有标题的新窗体</span></span><br><span class="line">注意：窗体创建是不可见的，需要使用<span class="function"><span class="title">setVisible</span><span class="params">(true)</span></span>方法使窗体可见，自定义窗体继承自JFrame类</span><br></pre></td></tr></table></figure></p>
<p>实例:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoFrame</span> <span class="keyword">extends</span> <span class="title">JFrame</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DemoFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		setTitle(<span class="string">"JFrame窗体"</span>);<span class="comment">//设置窗体标题</span></span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>);<span class="comment">//设置窗口显示位置及窗体大小</span></span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<span class="comment">//给予窗体关闭方式，EXIT_ON_CLOSE表示退出程序，并关闭窗体</span></span><br><span class="line">		<span class="keyword">final</span> JLabel label=<span class="keyword">new</span> JLabel();<span class="comment">//定义标签对象</span></span><br><span class="line">		label.setText(<span class="string">"我的自定义窗口"</span>);</span><br><span class="line">		getContentPane().add(label,BorderLayout.CENTER);<span class="comment">//向窗体添加组件，首先要在窗体中添加容器对象，在容器对象添加组件</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		EventQueue.invokeLater(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">try</span>&#123;</span><br><span class="line">					DemoFrame frame=<span class="keyword">new</span> DemoFrame();</span><br><span class="line">					frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">				&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br><img src="/img/javause/1.png" alt="自定义窗体图片"></p>
<h2 id="2-_u5411_u7A97_u4F53_u6DFB_u52A0_u9762_u677F"><a href="#2-_u5411_u7A97_u4F53_u6DFB_u52A0_u9762_u677F" class="headerlink" title="2.向窗体添加面板"></a>2.向窗体添加面板</h2><p>面板也是一个Swing容器，可以容纳其他组件。<br>面板不能像窗口一样独立使用，必须添加到其他容器中才能发挥作用。<br>(1)JPanel面板<br>JPanel面板可以聚集一些组件进行布局，它继承自java.awt.Container类。<br>JPanel组件作为容器类，除可以添加组件，也可以设置布局管理器，将面板中组件布局<br>如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> JPanelTest extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">JPanelTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Container c=getContentPane();</span><br><span class="line">		c.setLayout(<span class="keyword">new</span> GridLayout(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>));<span class="comment">//将容器设置为两行两列的网络布局</span></span><br><span class="line">		<span class="comment">//初始化面板，设置边界布局</span></span><br><span class="line">		JPanel p1=<span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		JPanel p2=<span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		JPanel p3=<span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		JPanel p4=<span class="keyword">new</span> JPanel(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		<span class="comment">//在各面板中添加按钮</span></span><br><span class="line">		p1.add(<span class="keyword">new</span> JButton(<span class="string">"按钮1"</span>));</span><br><span class="line">		p2.add(<span class="keyword">new</span> JButton(<span class="string">"按钮2"</span>));</span><br><span class="line">		p3.add(<span class="keyword">new</span> JButton(<span class="string">"按钮3"</span>));</span><br><span class="line">		p4.add(<span class="keyword">new</span> JButton(<span class="string">"按钮4"</span>));</span><br><span class="line">		<span class="comment">//在容器中添加面板</span></span><br><span class="line">		c.add(p1);</span><br><span class="line">		c.add(p2);</span><br><span class="line">		c.add(p3);</span><br><span class="line">		c.add(p4);</span><br><span class="line">		setVisible(<span class="literal">true</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">400</span>,<span class="number">400</span>);<span class="comment">//设置窗体的显示位置与大小</span></span><br><span class="line">		pack();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> JPanelTest();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/javause/2.png" alt="图片"></p>
<p>(2)JScrollPane面板<br>JScrollPane面板是一种带滚动条的面板，可以较小的容器窗体显示一个较大部分的内容，但是常用于布置单个组件，不可以使用布局管理器。<br>如果要在JScrollPane面板上放置多个组件，需要将多个组件放置在JPanel面板上，然后将面板作为一个整体组件添加在JScrollPane组件上。<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">JScrollPaneDemo</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	public <span class="type">JScrollPaneDemo</span>()&#123;</span><br><span class="line">		<span class="type">Container</span> c=getContentPane();<span class="comment">//创建容器</span></span><br><span class="line">		<span class="type">JTextArea</span> jta=<span class="keyword">new</span> <span class="type">JTextArea</span>(<span class="number">20</span>, <span class="number">50</span>);<span class="comment">//创建文本区域组件</span></span><br><span class="line">		<span class="type">JScrollPane</span> jspane=<span class="keyword">new</span> <span class="type">JScrollPane</span>(jta);</span><br><span class="line">		c.add(jspane);<span class="comment">//面板添加到容器中</span></span><br><span class="line">		setTitle(<span class="string">"有滚动条的文字编辑器"</span>);</span><br><span class="line">		setSize(<span class="number">200</span>, <span class="number">200</span>);<span class="comment">//设置窗体大小</span></span><br><span class="line">		setVisible(<span class="literal">true</span>);<span class="comment">//可见</span></span><br><span class="line">		setDefaultCloseOperation(<span class="type">WindowConstants</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">new</span> <span class="type">JScrollPaneDemo</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/javause/3.png" alt="图片"></p>
<p>(3)分割面板<br>分割面板不像JPanel与JScrollPane面板简单，需要设置分割面板水平分割还是垂直分割等<br>分割面板JSplitPane类常用构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JSplitPane</span><span class="params">()</span></span>-----------------------------------------创建一个在水平方向进行分割、无连续布局且为组件使用两个按钮的分割面板</span><br><span class="line"><span class="function"><span class="title">JSplitPane</span><span class="params">(int orient)</span></span>-------------------------------创建一个水平方向分割且无连续布局的分割面板</span><br><span class="line"><span class="function"><span class="title">JSplitPane</span><span class="params">(int orient,Component leftC,Component rigthC)</span></span>-创建一个在指定方向进行分割、不连续重绘的指定组件的分割面板</span><br></pre></td></tr></table></figure></p>
<p>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getBottomComponent</span><span class="params">()</span></span>-----------------------------返回分隔条下面或者右边的组件</span><br><span class="line"><span class="function"><span class="title">getDividerSize</span><span class="params">()</span></span>---------------------------------返回分隔条的大小</span><br><span class="line"><span class="function"><span class="title">getLeftComponent</span><span class="params">()</span></span>-------------------------------返回分隔条左边或者上面的组件</span><br><span class="line"><span class="function"><span class="title">getRightComponent</span><span class="params">()</span></span>------------------------------返回分隔条右边或者下面的组件</span><br><span class="line"><span class="function"><span class="title">getTopComponent</span><span class="params">()</span></span>--------------------------------返回分隔条上面或者左边的组件</span><br><span class="line"><span class="function"><span class="title">remove</span><span class="params">(Component component)</span></span>----------------------移除窗格中的子组件component</span><br><span class="line"><span class="function"><span class="title">setBottomComponent</span><span class="params">(Component comp)</span></span>---------------将组件设置到分隔条的下面或者右面</span><br><span class="line"><span class="function"><span class="title">setLeftComponent</span><span class="params">(Component comp)</span></span>-----------------将组件设置到分隔条的左边或者上面</span><br><span class="line"><span class="function"><span class="title">setRightComponent</span><span class="params">(Component comp)</span></span>----------------将组件设置到分隔条的右边或者下面</span><br><span class="line"><span class="function"><span class="title">setTopComponent</span><span class="params">(Component comp)</span></span>------------------将组件设置到分隔条的上面或者左边</span><br><span class="line"><span class="function"><span class="title">setDividerLocation</span><span class="params">(int location)</span></span>-----------------设置分隔条位置</span><br><span class="line"><span class="function"><span class="title">setDividerSize</span><span class="params">(int newSize)</span></span>----------------------设置分隔条大小</span><br><span class="line"><span class="function"><span class="title">setOneTouchExpandable</span><span class="params">(boolean newValue)</span></span>----------属性为true时，可以使分隔条上提供一个UI小部件来快速展开/折叠分隔条</span><br><span class="line"><span class="function"><span class="title">setOrientation</span><span class="params">(int orient)</span></span>-----------------------设置分隔方向，JSplitPane.HORIZONTAL_SPLIT-------------------------水平方向上对分割面板进行分割，JSplitPane.VERTICAL_SPLIT-------------------------垂直方向上对分割面板进行分割</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">SplitPaneFrame</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	public <span class="type">SplitPaneFrame</span>()&#123;</span><br><span class="line">		setTitle(<span class="string">"使用分割面板"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">		setDefaultCloseOperation(<span class="type">JFrame</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">		<span class="comment">//创建在水平方向分割的分割面板</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">JSplitPane</span> hSplitPane=<span class="keyword">new</span> <span class="type">JSplitPane</span>();</span><br><span class="line">		<span class="type">JButton</span> labelLeft=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"左边"</span>);<span class="comment">//创建标签</span></span><br><span class="line">		<span class="comment">//创建一个在垂直方向进行分割的分割面板</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">JSplitPane</span> vSplitPane=<span class="keyword">new</span> <span class="type">JSplitPane</span>(<span class="type">JSplitPane</span>.<span class="type">VERTICAL_SPLIT</span>);</span><br><span class="line">		<span class="type">JLabel</span> labelTop=<span class="keyword">new</span> <span class="type">JLabel</span>(<span class="string">"上面"</span>);<span class="comment">//创建标签</span></span><br><span class="line">		<span class="type">JLabel</span> labelBottom=<span class="keyword">new</span> <span class="type">JLabel</span>(<span class="string">"下面"</span>);</span><br><span class="line">		vSplitPane.setBottomComponent(labelBottom);</span><br><span class="line">		vSplitPane.setTopComponent(labelTop);</span><br><span class="line">		vSplitPane.setDividerLocation(<span class="number">40</span>);<span class="comment">//设置垂直分割分隔条距离上边为40像素</span></span><br><span class="line">		hSplitPane.setLeftComponent(labelLeft);<span class="comment">//水平分割面板左边放置标签</span></span><br><span class="line">		hSplitPane.setRightComponent(vSplitPane);<span class="comment">//水平分割面板右边放置垂直分割面板</span></span><br><span class="line">		hSplitPane.setDividerLocation(<span class="number">40</span>);<span class="comment">//水平分隔条距离左边为40像素</span></span><br><span class="line">		hSplitPane.setOneTouchExpandable(<span class="literal">true</span>);<span class="comment">//设置水平分割面板分隔条显示UI小部件</span></span><br><span class="line">		getContentPane().add(hSplitPane);<span class="comment">//把水平分割面板添加到窗体上</span></span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">SplitPaneFrame</span> splitPaneFrame=<span class="keyword">new</span> <span class="type">SplitPaneFrame</span>();</span><br><span class="line">		splitPaneFrame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/javause/4.png" alt="图片"></p>
<p>(4)选项卡面板<br>JTabbedPane对象<br>选项卡面板可以在窗体中放置多个标签页，每个标签页相当于与选项卡大小相同的容器，每个标签页可以放置一个或者多个组件，使每个标签页实现不同页面的效果。<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JTabbedPane</span><span class="params">()</span></span>-------------------------------创建一个上面显示标签，布局方式为自动换行的空选项卡</span><br><span class="line"><span class="function"><span class="title">JTabbedPane</span><span class="params">(int tabPlace)</span></span>-------------------创建一个在指定位置显示标签，布局方式为自动换行的空选项卡</span><br><span class="line"><span class="function"><span class="title">JTabbedPane</span><span class="params">(int tabPlace,int tabLayout)</span></span>-----创建一个在指定位置显示标签和具有指定布局策略的空选项卡</span><br></pre></td></tr></table></figure></p>
<p>JTabbedPane类常用字段:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JTabbedPane.TOP<span class="comment">-----------------------------选项卡的上边位置显示标签</span></span><br><span class="line">JTabbedPane.BOTTOM<span class="comment">--------------------------选项卡的下边位置显示标签</span></span><br><span class="line">JTabbedPane.LEFT<span class="comment">----------------------------选项卡的左边位置显示标签</span></span><br><span class="line">JTabbedPane.<span class="constant">RIGHT</span><span class="comment">---------------------------选项卡的右边位置显示标签</span></span><br><span class="line">JTabbedPane.WRAP_TAB_LAYOUT<span class="comment">-----------------当选项卡的一行或一列不能显示所有标签时，标签会自动换行或者换列</span></span><br><span class="line">JTabbedPane.SCROLL_TAB_LAYOUT<span class="comment">---------------当选项卡的一行或一列标签显示不全时，标签行或列会出现UI调节组件</span></span><br></pre></td></tr></table></figure></p>
<p>选项卡面板常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">addTab</span><span class="params">(String title,Component component)</span></span>-------------------------添加一个标题为title且没有图标的选项卡</span><br><span class="line"><span class="function"><span class="title">addTab</span><span class="params">(String title,Icon icon,Component component)</span></span>-------------------------添加一个标题为title,图标为<span class="attribute">icon</span>的选项卡</span><br><span class="line"><span class="function"><span class="title">addTab</span><span class="params">(String title,Icon icon,Component component，String tip)</span></span>-------------------------添加一个标题为title,图标为<span class="attribute">icon</span>，工具提示文本为tip的选项卡</span><br><span class="line"><span class="function"><span class="title">getSelectedComponent</span><span class="params">()</span></span>-------------------------------------------返回选项卡面板当前选择的选项卡</span><br><span class="line"><span class="function"><span class="title">getSelectedIndex</span><span class="params">()</span></span>-----------------------------------------------返回当前选择的选项卡的索引</span><br><span class="line"><span class="function"><span class="title">getTabComponentAt</span><span class="params">(int index)</span></span>-------------------------------------返回索引值为index位置上的选项卡</span><br><span class="line"><span class="function"><span class="title">getTabCount</span><span class="params">()</span></span>----------------------------------------------------返回选项卡面板的选项卡数</span><br><span class="line"><span class="function"><span class="title">getTitleAt</span><span class="params">(int index)</span></span>--------------------------------------------返回索引值为index位置的选项卡标题</span><br><span class="line"><span class="function"><span class="title">getToolTipTextAt</span><span class="params">(int index)</span></span>--------------------------------------返回索引值为index位置的选项卡工具的提示文本</span><br><span class="line"><span class="function"><span class="title">insertTab</span><span class="params">(String title,Icon icon,Component component,String tip,int index)</span></span>--在索引值为index位置插入一个标题为title，图标为<span class="attribute">icon</span>,工具提示文本为tip的选项卡</span><br><span class="line"><span class="function"><span class="title">setIconAt</span><span class="params">(int index,Icon icon)</span></span>-----------------------------------将索引值为index的位置的图标设置为<span class="attribute">icon</span></span><br><span class="line"><span class="function"><span class="title">setSelectedComponent</span><span class="params">(Component e)</span></span>--------------------------------设置此选项卡面板的已选组件</span><br><span class="line"><span class="function"><span class="title">setSelectedIndex</span><span class="params">(int index)</span></span>--------------------------------------设置索引值为index位置处的选项卡为当前选项卡</span><br><span class="line"><span class="function"><span class="title">setTitleAt</span><span class="params">(int index,String title)</span></span>-------------------------------将索引值为index位置的选项卡标题设置为true</span><br><span class="line"><span class="function"><span class="title">setToolTipTextAt</span><span class="params">(int index,String toolTipText)</span></span>-------------------将索引值为index位置的工具提示文本设置为toolTipText</span><br></pre></td></tr></table></figure></p>
<p>实例:——————————————————-图片怎么弄???????????????????????<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">JTabblePaneText</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	public <span class="type">JTabblePaneText</span>()&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		setTitle(<span class="string">"创建选项卡面板"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">200</span>,<span class="number">200</span>);</span><br><span class="line">		setDefaultCloseOperation(<span class="type">JFrame</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">		<span class="comment">//创建一个在上面显示标签，布局方式为自动换行的空选项卡</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">JTabbedPane</span> tabbedPane=<span class="keyword">new</span> <span class="type">JTabbedPane</span>();</span><br><span class="line">		<span class="keyword">final</span> <span class="type">JButton</span> button=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"按钮"</span>);<span class="comment">//创建按钮组件</span></span><br><span class="line">		<span class="type">URL</span> url1=<span class="type">JTabblePaneText</span>.<span class="keyword">class</span>.getResource(<span class="string">"1.ico"</span>);<span class="comment">//获取图片所在的URL，本类路径下包含一个1.gif的图片文件，路径不正确会抛出异常</span></span><br><span class="line">		<span class="type">Icon</span> icon1=<span class="keyword">new</span> <span class="type">ImageIcon</span>(url1);<span class="comment">//实例化Icon对象</span></span><br><span class="line">		tabbedPane.addTab(<span class="string">"选项卡1"</span>, icon1, button, <span class="string">"这里使用了按钮"</span>);<span class="comment">//添加组件是按钮，提示文本：这里使用了按钮</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">JCheckBox</span> checkBox=<span class="keyword">new</span> <span class="type">JCheckBox</span>(<span class="string">"复选框"</span>);<span class="comment">//创建复选框组件</span></span><br><span class="line">		tabbedPane.addTab(<span class="string">"选项卡2"</span>, <span class="literal">null</span>, checkBox, <span class="literal">null</span>);<span class="comment">//第二个选项卡，放置复选框组件，无标题图标和工具栏提示文本</span></span><br><span class="line">		<span class="type">URL</span> url2=<span class="type">JTabblePaneText</span>.<span class="keyword">class</span>.getResource(<span class="string">"2.ico"</span>);</span><br><span class="line">		<span class="type">Icon</span> icon2=<span class="keyword">new</span> <span class="type">ImageIcon</span>(url2);</span><br><span class="line">		tabbedPane.setIconAt(<span class="number">1</span>, icon2);<span class="comment">//第二个选项卡添加标签图标</span></span><br><span class="line">		<span class="type">JTextArea</span> textArea = <span class="keyword">new</span> <span class="type">JTextArea</span>(<span class="string">"文本区域"</span>);<span class="comment">//创建文本域组件</span></span><br><span class="line">		<span class="type">URL</span> url3=<span class="type">JTabblePaneText</span>.<span class="keyword">class</span>.getResource(<span class="string">"3.ico"</span>);</span><br><span class="line">		<span class="type">Icon</span> icon3=<span class="keyword">new</span> <span class="type">ImageIcon</span>(url3);</span><br><span class="line">		tabbedPane.addTab(<span class="string">"选项卡3"</span>, icon3, textArea, <span class="literal">null</span>);<span class="comment">//第三个选项卡，放置文本域组件，选项卡无标签图片和工具提示文本</span></span><br><span class="line">		tabbedPane.setToolTipTextAt(<span class="number">2</span>, <span class="string">"这里使用文本域"</span>);<span class="comment">//为第3个选项卡添加工具提示文本</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">JRadioButton</span> radioButton=<span class="keyword">new</span> <span class="type">JRadioButton</span>(<span class="string">"单选按钮"</span>);<span class="comment">//创建单选按钮组件</span></span><br><span class="line">		<span class="type">URL</span> url4=<span class="type">JTabblePaneText</span>.<span class="keyword">class</span>.getResource(<span class="string">"4.ico"</span>);</span><br><span class="line">		<span class="type">Icon</span> icon4=<span class="keyword">new</span> <span class="type">ImageIcon</span>(url4);</span><br><span class="line">		tabbedPane.addTab(<span class="string">"选项卡4"</span>, icon4, radioButton, <span class="literal">null</span>);</span><br><span class="line">		getContentPane().add(tabbedPane, <span class="type">BorderLayout</span>.<span class="type">CENTER</span>);<span class="comment">//选项卡放到窗体上</span></span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">JTabblePaneText</span> tabblePaneFrame=<span class="keyword">new</span> <span class="type">JTabblePaneText</span>();</span><br><span class="line">		tabblePaneFrame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u5E03_u5C40"><a href="#3-_u5E03_u5C40" class="headerlink" title="3.布局"></a>3.布局</h2><p>java开发应用程序必须用布局管理器管理每个容器中的组件布局，因为不同的平台显示组件的策略和样式不一样，无法确定不同平台的组件大小和样式<br>(1)绝对布局<br>使用绝对布局的窗体，需要牺牲跨平台的性能，采用绝对布局在不同的平台上可能出现组件重叠现象。<br>绝对布局步骤：<br>A.使用Container.setLayout(null)方式取消布局管理器<br>B.使用Component.setBounds()方法来设置每个组件的大小与位置<br>实例：绝对布局创建登录窗体<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> EntryFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EntryFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//窗体设置为绝对布局</span></span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">320</span>,<span class="number">180</span>);<span class="comment">//窗体显示位置和大小</span></span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();<span class="comment">//定义面板组件</span></span><br><span class="line">		panel.setLayout(null);<span class="comment">//面板布局方式</span></span><br><span class="line">		panel.setBounds(<span class="number">0</span>,<span class="number">0</span>,<span class="number">316</span>,<span class="number">150</span>);<span class="comment">//面板位置和大小</span></span><br><span class="line">		getContentPane().add(panel);<span class="comment">//窗体中添加面板</span></span><br><span class="line">		</span><br><span class="line">		final JLabel name =<span class="keyword">new</span> JLabel();<span class="comment">//标签</span></span><br><span class="line">		name.setFont(<span class="keyword">new</span> Font(<span class="string">"微软雅黑"</span>, Font.PLAIN,<span class="number">12</span>));<span class="comment">//设置标签显示字体样式</span></span><br><span class="line">		name.setText(<span class="string">"用户名："</span>);<span class="comment">//设置标签显示内容</span></span><br><span class="line">		name.setBounds(<span class="number">62</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">26</span>);</span><br><span class="line">		panel.add(name);</span><br><span class="line">		JTextField nameTextField=<span class="keyword">new</span> JTextField();<span class="comment">//文本控件框</span></span><br><span class="line">		nameTextField.setBounds(<span class="number">120</span>,<span class="number">30</span>,<span class="number">129</span>,<span class="number">22</span>);</span><br><span class="line">		panel.add(nameTextField);</span><br><span class="line">		</span><br><span class="line">		final JLabel passWd =<span class="keyword">new</span> JLabel();<span class="comment">//标签</span></span><br><span class="line">		passWd.setFont(<span class="keyword">new</span> Font(<span class="string">"微软雅黑"</span>, Font.PLAIN,<span class="number">12</span>));<span class="comment">//设置标签显示字体样式</span></span><br><span class="line">		passWd.setText(<span class="string">"密码："</span>);<span class="comment">//设置标签显示内容</span></span><br><span class="line">		passWd.setBounds(<span class="number">65</span>,<span class="number">55</span>,<span class="number">44</span>,<span class="number">18</span>);</span><br><span class="line">		panel.add(passWd);</span><br><span class="line">		JTextField passWdTextField=<span class="keyword">new</span> JTextField();<span class="comment">//文本控件框</span></span><br><span class="line">		passWdTextField.setBounds(<span class="number">120</span>,<span class="number">58</span>,<span class="number">129</span>,<span class="number">22</span>);</span><br><span class="line">		panel.add(passWdTextField);</span><br><span class="line">		</span><br><span class="line">		final JButton entry=<span class="keyword">new</span> JButton();</span><br><span class="line">		entry.setText(<span class="string">"登录"</span>);</span><br><span class="line">		entry.setBounds(<span class="number">84</span>,<span class="number">104</span>,<span class="number">64</span>,<span class="number">28</span>);</span><br><span class="line">		panel.add(entry);</span><br><span class="line">		final JButton cancel=<span class="keyword">new</span> JButton();</span><br><span class="line">		cancel.setText(<span class="string">"取消"</span>);</span><br><span class="line">		cancel.setBounds(<span class="number">170</span>,<span class="number">104</span>,<span class="number">64</span>,<span class="number">28</span>);</span><br><span class="line">		panel.add(cancel);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		EventQueue.invokeLater(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">try</span>&#123;</span><br><span class="line">					EntryFrame frame=<span class="keyword">new</span> EntryFrame();</span><br><span class="line">					frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">				&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/javause/6.png" alt="图片"></p>
<p>(2)边界布局<br>BorderLayout类<br>该布局管理器将组件布局在东南西北中五个区域，每个区域放置一个组件，也可以是指定区域中放置包含其他组件的容器。<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">BorderLayout</span><span class="params">()</span></span>--------------------------创建默认的边界布局管理器，在各个区域的水平垂直方向没有设置组件间距</span><br><span class="line"><span class="function"><span class="title">BorderLayout</span><span class="params">(h,v)</span></span>-----------------------根据接收的两个参数设置管理器水平和垂直方向的间距</span><br></pre></td></tr></table></figure></p>
<p>定位常量:<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BorderLayout.NORTH<span class="comment">-----------------------在容器中添加组件时组件位于顶部</span></span><br><span class="line">BorderLayout.SOUTH<span class="comment">-----------------------在容器中添加组件时组件位于底部</span></span><br><span class="line">BorderLayout.EAST<span class="comment">------------------------在容器中添加组件时组件位于右部</span></span><br><span class="line">BorderLayout.WEST<span class="comment">------------------------在容器中添加组件时组件位于左 部</span></span><br><span class="line">BorderLayout.CENTER<span class="comment">----------------------在容器中添加组件时组件置于中间开始填充，直到与其他组件边界连接</span></span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">BorderFrame</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	public <span class="type">BorderFrame</span>()&#123;</span><br><span class="line">		setTitle(<span class="string">"边界布局管理器"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">200</span>);</span><br><span class="line">		<span class="type">JButton</span> northButton=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"北"</span>);</span><br><span class="line">		<span class="type">JButton</span> southButton=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"南"</span>);</span><br><span class="line">		<span class="type">JButton</span> westButton=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"西"</span>);</span><br><span class="line">		<span class="type">JButton</span> eastButton=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"东"</span>);</span><br><span class="line">		<span class="type">JButton</span> centerButton=<span class="keyword">new</span> <span class="type">JButton</span>(<span class="string">"中"</span>);</span><br><span class="line">		<span class="type">Container</span> panel=getContentPane();<span class="comment">//获取窗体容器</span></span><br><span class="line">		panel.setLayout(<span class="keyword">new</span> <span class="type">BorderLayout</span>());<span class="comment">//容器使用边界布局管理器</span></span><br><span class="line">		panel.add(northButton,<span class="type">BorderLayout</span>.<span class="type">NORTH</span>);<span class="comment">//将按钮添加到指定位置</span></span><br><span class="line">		panel.add(southButton,<span class="type">BorderLayout</span>.<span class="type">SOUTH</span>);<span class="comment">//将按钮添加到指定位置</span></span><br><span class="line">		panel.add(westButton,<span class="type">BorderLayout</span>.<span class="type">WEST</span>);<span class="comment">//将按钮添加到指定位置</span></span><br><span class="line">		panel.add(eastButton,<span class="type">BorderLayout</span>.<span class="type">EAST</span>);<span class="comment">//将按钮添加到指定位置</span></span><br><span class="line">		panel.add(centerButton,<span class="type">BorderLayout</span>.<span class="type">CENTER</span>);<span class="comment">//将按钮添加到指定位置</span></span><br><span class="line">		setDefaultCloseOperation(<span class="type">WindowConstants</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">BorderFrame</span> frame=<span class="keyword">new</span> <span class="type">BorderFrame</span>();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行效果：<br><img src="/img/javause/7.png" alt="图片"></p>
<p>(3)网格布局<br>GridLayout类<br>网格布局：容器被分成大小相等的矩形，每个矩形区域可以放置一个组件<br>构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">GridLayout</span><span class="params">()</span></span>-----------------------------------------------创建默认网格布局，组件排列在一行或者一列中</span><br><span class="line"><span class="function"><span class="title">GridLayout</span><span class="params">(int rows,int cols)</span></span>------------------------------指定行数、列数网格布局，所有组件分配相同大小空间</span><br><span class="line"><span class="function"><span class="title">GridLayout</span><span class="params">(int rows,int cols,int hgap,int vgap)</span></span>------------指定行数、列数、组件间距网格布局，所有组件分配相同大小空间</span><br></pre></td></tr></table></figure></p>
<p>常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">setColumns</span><span class="params">(int cols)</span></span>---------------------------------------设置布局管理器列数</span><br><span class="line"><span class="function"><span class="title">setRows</span><span class="params">(int rows)</span></span>------------------------------------------设置布局管理器行数</span><br><span class="line"><span class="function"><span class="title">setHgap</span><span class="params">(int hgap)</span></span>------------------------------------------设置布局管理器组件水平距离</span><br><span class="line"><span class="function"><span class="title">setVgap</span><span class="params">(int vgap)</span></span>------------------------------------------设置布局管理器组件垂直距离</span><br></pre></td></tr></table></figure></p>
<p>实例<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> GridLayoutFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GridLayoutFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		setTitle(<span class="string">"网格布局"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">200</span>);</span><br><span class="line">		JButton[] button=<span class="keyword">new</span> JButton[<span class="number">9</span>];<span class="comment">//定义按钮数组</span></span><br><span class="line">		Container panel=getContentPane();<span class="comment">//定义容器</span></span><br><span class="line">		panel.setLayout(<span class="keyword">new</span> GridLayout(<span class="number">3</span>,<span class="number">3</span>));</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; button.length; i++) &#123;</span><br><span class="line">			button[i]=<span class="keyword">new</span> JButton(<span class="string">"按钮"</span>+(i+<span class="number">1</span>));<span class="comment">//不能用++i---否则死循环</span></span><br><span class="line">			panel.add(button[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		GridLayoutFrame frame=<span class="keyword">new</span> GridLayoutFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br><img src="/img/javause/8.png" alt="图片"></p>
<p>（4）流式布局<br>FlowLayout类<br>像流一样按指定方向排放控件，直到占据一行的所有空间（根据窗体大小而定），再向下移动到下一行。<br>构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">FlowLayout</span><span class="params">()</span></span>-----------------------------------------居中对齐，默认的水平和垂直间距是<span class="number">5</span>个单位</span><br><span class="line"><span class="function"><span class="title">FlowLayout</span><span class="params">(int align)</span></span>--------------------------------创建具有指定对齐方式的FlowLayout对象</span><br><span class="line"><span class="function"><span class="title">FlowLayout</span><span class="params">(int align,int hgap,int vgap)</span></span>--------------创建指定对齐方式及指定的水平垂直间隔</span><br></pre></td></tr></table></figure></p>
<p>对齐方式（align）:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FlowLayout.LEFT<span class="comment">---------------单行中左对齐</span></span><br><span class="line">FlowLayout.CENTER<span class="comment">-------------单行中中对齐</span></span><br><span class="line">FlowLayout.<span class="constant">RIGHT</span><span class="comment">--------------单行中右对齐</span></span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> FlowLayoutFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FlowLayoutFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		setTitle(<span class="string">"流式布局管理器"</span>);</span><br><span class="line">		Container c=getContentPane();</span><br><span class="line">		c.setLayout(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER,<span class="number">10</span>,<span class="number">10</span>));<span class="comment">//窗体使用流式布局，控件居中</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">			c.add(<span class="keyword">new</span> JButton(<span class="string">"按钮"</span>+i));</span><br><span class="line">		&#125;</span><br><span class="line">		setSize(<span class="number">300</span>,<span class="number">200</span>);<span class="comment">//设置窗体大小</span></span><br><span class="line">		setVisible(<span class="literal">true</span>);</span><br><span class="line">		setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> FlowLayoutFrame();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：调整窗体大小会得到不同排列结果——根据窗口大小一行一行排完<br><img src="/img/javause/9.png" alt="图片"></p>
<h2 id="4-_u57FA_u672C_u63A7_u4EF6"><a href="#4-_u57FA_u672C_u63A7_u4EF6" class="headerlink" title="4.基本控件"></a>4.基本控件</h2><p>组件是绘制软件界面的基本元素，是软件和用户之间的交流要素。<br>(1)标签JLabel<br>标签用于显示文本或者提示信息，支持文本字符串和图标。<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">()</span></span>-----------------------------------------------创建一个既无文本内容又无图像内容的标签</span><br><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">(String text)</span></span>------------------------------------创建一个具有文本内容的标签</span><br><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">(String text,int horizontalAlignment)</span></span>------------创建一个具有文本内容并且指定水平显示位置的标签</span><br><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">(Icon icon)</span></span>--------------------------------------创建一个具有图像内容的标签</span><br><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">(Icon icon,int horizontalAlignment)</span></span>--------------创建一个具有图像内容并且指定水平显示位置的标签</span><br><span class="line"><span class="function"><span class="title">JLabel</span><span class="params">(String text,Icon icon,int horizontalAlignment)</span></span>--创建一个既有文本内容又有图像内容并且指定水平显示位置的标签</span><br></pre></td></tr></table></figure></p>
<p>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">setText</span><span class="params">(String text)</span></span>-----------------------------------设置显示的文本</span><br><span class="line"><span class="function"><span class="title">setIcon</span><span class="params">(Icon icon)</span></span>-------------------------------------设置显示的图像</span><br><span class="line"><span class="function"><span class="title">setHorizontalAlignment</span><span class="params">(int alignment)</span></span>------------------设置标签内容在水平方向的对齐方式</span><br><span class="line"><span class="function"><span class="title">setHorizontalTextPosition</span><span class="params">(int textPosition)</span></span>------------设置文本相对于图像在水平方向的位置</span><br><span class="line"><span class="function"><span class="title">setVerticalAlignment</span><span class="params">(int alignment)</span></span>--------------------设置标签内容在垂直方向的对齐方式</span><br><span class="line"><span class="function"><span class="title">setVerticalTextPosition</span><span class="params">(int textPosition)</span></span>--------------设置文本相对于图像在垂直方向的位置</span><br><span class="line"><span class="function"><span class="title">setIconTextGap</span><span class="params">(int iconTextGap)</span></span>------------------------设置文本与图像之间的距离，单位像素，默认为<span class="number">4</span></span><br><span class="line"><span class="function"><span class="title">setEnabled</span><span class="params">(boolean enabled)</span></span>----------------------------设置标签是否可用</span><br><span class="line"><span class="function"><span class="title">setDisabledIcon</span><span class="params">(Icon disabledIcon)</span></span>---------------------设置当标签不考用时显示的图像</span><br></pre></td></tr></table></figure></p>
<p>(2)普通按钮JButton<br>构造方法：<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">JButton</span>(String <span class="value">text</span>)-----------------------------创建一个带有文本标识的按钮</span><br><span class="line"><span class="function">JButton</span>(<span class="attribute">Icon</span> <span class="attribute">icon</span>)-------------------------------创建一个带有图像标识的按钮</span><br><span class="line"><span class="function">JButton</span>(String <span class="value">text</span>，<span class="attribute">Icon</span> <span class="attribute">icon</span>)------------------创建一个带有文本和图像标识的按钮</span><br></pre></td></tr></table></figure></p>
<p>常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">isDefaultButton</span><span class="params">()</span></span>--------------------------------查看按钮是否为所在顶层容器组件的默认按钮，是则true</span><br><span class="line"><span class="function"><span class="title">removeNotify</span><span class="params">()</span></span>-----------------------------------如果按钮为所在顶层容器组件的默认按钮，则将顶层容器组件的默认按钮设置为null</span><br><span class="line"><span class="function"><span class="title">setEnabled</span><span class="params">(boolean b)</span></span>----------------------------设置按钮是否可用，默认可用，设置false不可用</span><br><span class="line"><span class="function"><span class="title">setIcon</span><span class="params">(Icon defaultIcon)</span></span>------------------------设置按钮的默认图像</span><br><span class="line"><span class="function"><span class="title">setRolloverIcon</span><span class="params">(Icon rolloverIcon)</span></span>---------------设置当光标移动到按钮上时显示的图像</span><br><span class="line"><span class="function"><span class="title">setPressedIcon</span><span class="params">(Icon pressedIcon)</span></span>-----------------设置当按钮被按下时显示的图像</span><br><span class="line"><span class="function"><span class="title">setDisabledIcon</span><span class="params">(Icon disabledIcon)</span></span>---------------设置当按钮不可用时显示的图像</span><br><span class="line"><span class="function"><span class="title">addActionListener</span><span class="params">(ActionListener l)</span></span>--------------为按钮添加一个ActionListener监听器，捕获按钮的ActionEvent事件</span><br><span class="line"><span class="function"><span class="title">addChangeListener</span><span class="params">(ChangeListener l)</span></span>--------------为按钮添加一个ChangeListener监听器，捕获按钮的ChangeEvent事件</span><br></pre></td></tr></table></figure></p>
<p>(3)单选按钮JRadioButton<br>JRadioButton类可以单独使用，也可以与ButtonGroup类联合使用组成一个单选按钮组（只能选择其中一个）<br>ButtonGroup常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">add</span><span class="params">(AbstractButton b)</span></span>--------------------------------------添加按钮到按钮组中</span><br><span class="line"><span class="function"><span class="title">remove</span><span class="params">(AbstractButton b)</span></span>-----------------------------------从按钮组中移除按钮</span><br><span class="line"><span class="function"><span class="title">getButtonCount</span><span class="params">()</span></span>-------------------------------------------返回按钮组中包含按钮的个数，返回int型</span><br><span class="line"><span class="function"><span class="title">getElements</span><span class="params">()</span></span>----------------------------------------------返回一个Enumeration类型的对象，通过该对象可以遍历按钮组中包含的所有按钮对象</span><br></pre></td></tr></table></figure></p>
<p>JRadioButton构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JRadioButton</span><span class="params">()</span></span>------------------------------------------创建一个默认的单选按钮，在默认情况下没有指定文本和图像，而且没有被选中</span><br><span class="line"><span class="function"><span class="title">JRadioButton</span><span class="params">(String text)</span></span>-------------------------------创建一个指定文本的单选按钮</span><br><span class="line"><span class="function"><span class="title">JRadioButton</span><span class="params">(String text,boolean selected)</span></span>--------------创建一个指定文本和选择状态的单选按钮</span><br></pre></td></tr></table></figure></p>
<p>注意:在联合使用JRadioButton和ButtonGroup时，并不能将包含JRadioButton对象的Button对象添加到相应的容器组中，只能逐个添加JRadioButton对象到相应的容器控件中<br>实例:<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JRadioButtonFrame</span> <span class="keyword">extends</span> <span class="title">JFrame</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> JRadioButtonFrame()&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		setTitle(<span class="string">"单选按钮"</span>);</span><br><span class="line">		ButtonGroup <span class="keyword">group</span>=<span class="keyword">new</span> ButtonGroup();</span><br><span class="line">		getContentPane().setLayout(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER));</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">230</span>,<span class="number">90</span>);</span><br><span class="line">		setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">		<span class="keyword">final</span> JRadioButton radioButton1=<span class="keyword">new</span> JRadioButton();</span><br><span class="line">		<span class="keyword">group</span>.add(radioButton1);</span><br><span class="line">		radioButton1.setText(<span class="string">"运动"</span>);</span><br><span class="line">		getContentPane().add(radioButton1);</span><br><span class="line">		<span class="keyword">final</span> JRadioButton radioButton2=<span class="keyword">new</span> JRadioButton(<span class="string">"读书"</span>,<span class="keyword">true</span>);</span><br><span class="line">		<span class="keyword">group</span>.add(radioButton2);</span><br><span class="line">		getContentPane().add(radioButton2);</span><br><span class="line"><span class="comment">//		final JRadioButton radioButton3=new JRadioButton("音乐",true);//设置成这样不取作用，还是只有按钮2被选中</span></span><br><span class="line">		<span class="keyword">final</span> JRadioButton radioButton3=<span class="keyword">new</span> JRadioButton(<span class="string">"音乐"</span>);</span><br><span class="line">		<span class="keyword">group</span>.add(radioButton3);</span><br><span class="line">		getContentPane().add(radioButton3);</span><br><span class="line">		setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(String[] args) &#123;</span><br><span class="line">		<span class="keyword">new</span> JRadioButtonFrame();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/javause/10.png" alt="图片"></p>
<p>(4)复选框JCheckBox<br>复选框控件可以同时选择多个选项<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JCheckBox</span><span class="params">()</span></span>--------------------------------------------创建一个默认的复选框，在默认情况下既未指定文本又未指定图像，并且未被选择</span><br><span class="line"><span class="function"><span class="title">JCheckBox</span><span class="params">(String text)</span></span>---------------------------------创建一个指定文本的复选框</span><br><span class="line"><span class="function"><span class="title">JCheckBox</span><span class="params">(String text,boolean selected)</span></span>----------------创建一个指定文本和选择状态的复选框</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> CheckBoxFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CheckBoxFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">100</span>);</span><br><span class="line">		setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span><br><span class="line">		JCheckBox cb1=<span class="keyword">new</span> JCheckBox();</span><br><span class="line">		cb1.setBounds(<span class="number">10</span>,<span class="number">34</span>,<span class="number">64</span>,<span class="number">26</span>);</span><br><span class="line">		cb1.setText(<span class="string">"运动"</span>);</span><br><span class="line">		getContentPane().add(cb1);</span><br><span class="line">		JCheckBox cb2=<span class="keyword">new</span> JCheckBox();</span><br><span class="line">		cb2.setBounds(<span class="number">110</span>,<span class="number">34</span>,<span class="number">64</span>,<span class="number">26</span>);</span><br><span class="line">		cb2.setText(<span class="string">"读书"</span>);</span><br><span class="line">		getContentPane().add(cb2);</span><br><span class="line">		JCheckBox cb3=<span class="keyword">new</span> JCheckBox();</span><br><span class="line">		cb3.setBounds(<span class="number">210</span>,<span class="number">34</span>,<span class="number">64</span>,<span class="number">26</span>);</span><br><span class="line">		cb3.setText(<span class="string">"音乐"</span>);</span><br><span class="line">		getContentPane().add(cb3);</span><br><span class="line">		final JLabel label=<span class="keyword">new</span> JLabel();</span><br><span class="line">		label.setText(<span class="string">"你的爱好是:"</span>);</span><br><span class="line">		label.setBounds(<span class="number">10</span>,<span class="number">10</span>,<span class="number">91</span>,<span class="number">18</span>);</span><br><span class="line">		getContentPane().add(label);</span><br><span class="line">		setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> CheckBoxFrame();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/11.png" alt="图片"></p>
<p>（5）文本<br>文本控件包含单行文本框控件JTextFiled、密码控件JPasswordField、文本域控件JTextArea<br>单行文本框控件JTextFiled类构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JTextFiled</span><span class="params">()</span></span>---------------------------------------创建一个默认的文本框</span><br><span class="line"><span class="function"><span class="title">JTextFiled</span><span class="params">(String text)</span></span>----------------------------创建一个指定初始化文本信息的文本框</span><br><span class="line"><span class="function"><span class="title">JTextFiled</span><span class="params">(int columns)</span></span>----------------------------创建一个指定列数的文本框</span><br><span class="line"><span class="function"><span class="title">JTextFiled</span><span class="params">(String text,int columns)</span></span>----------------创建一个指定初始化文本信息又指定列数的文本框</span><br></pre></td></tr></table></figure></p>
<p>密码控件JPasswordField构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JPasswordField</span><span class="params">()</span></span>-----------------------------------创建一个默认的密码框</span><br><span class="line"><span class="function"><span class="title">JPasswordField</span><span class="params">(String text)</span></span>------------------------创建一个指定初始化文本信息的密码框</span><br><span class="line"><span class="function"><span class="title">JPasswordField</span><span class="params">(int columns)</span></span>------------------------创建一个指定列数的密码框</span><br><span class="line"><span class="function"><span class="title">JPasswordField</span><span class="params">(String text,int columns)</span></span>------------创建一个指定初始化文本信息和指定列数的密码框</span><br><span class="line"></span><br><span class="line">方法：</span><br><span class="line"><span class="function"><span class="title">setEchoChar</span><span class="params">(char a)</span></span>--------------------------------改变密码框中的显示字符</span><br></pre></td></tr></table></figure></p>
<p>文本域控件JTextArea构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JTextArea</span><span class="params">()</span></span>---------------------------------------创建一个默认的文本域</span><br><span class="line"><span class="function"><span class="title">JTextArea</span><span class="params">(String text)</span></span>----------------------------创建一个包含指定内容的文本域</span><br><span class="line"><span class="function"><span class="title">JTextArea</span><span class="params">(int rows,int columns)</span></span>-------------------创建一个指定行数和列数的文本域</span><br><span class="line"><span class="function"><span class="title">JTextArea</span><span class="params">(String text,int rows,int columns)</span></span>-------创建一个包含指定内容又指定行数和列数的文本域</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">FieldDemo</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JTextArea</span> textArea;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="type">FieldDemo</span> frame=<span class="keyword">new</span> <span class="type">FieldDemo</span>();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	public <span class="type">FieldDemo</span>() &#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		getContentPane().setLayout(<span class="literal">null</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">378</span>, <span class="number">311</span>);</span><br><span class="line">		setDefaultCloseOperation(<span class="type">JFrame</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">		<span class="keyword">final</span> <span class="type">JScrollPane</span> scrollPane=<span class="keyword">new</span> <span class="type">JScrollPane</span>();<span class="comment">//滚动面板</span></span><br><span class="line">		scrollPane.setBounds(<span class="number">0</span>,<span class="number">0</span>,<span class="number">370</span>,<span class="number">277</span>);</span><br><span class="line">		getContentPane().add(scrollPane);<span class="comment">//将滚动面板添加到窗体中</span></span><br><span class="line">		textArea=<span class="keyword">new</span> <span class="type">JTextArea</span>();<span class="comment">//创建文本域控件</span></span><br><span class="line">		scrollPane.setViewportView(textArea);<span class="comment">//将文本域添加到控制面板</span></span><br><span class="line">		<span class="type">String</span> aline;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">BufferedReader</span> br=<span class="keyword">new</span> <span class="type">BufferedReader</span>(<span class="keyword">new</span> <span class="type">FileReader</span>(<span class="string">"src/com/zhang/test/FieldDemo.java"</span>));</span><br><span class="line">			<span class="keyword">while</span>((aline=br.readLine())!=<span class="literal">null</span>)&#123;</span><br><span class="line">				textArea.append(aline+<span class="string">"\n"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			br.close(); </span><br><span class="line">		&#125; <span class="keyword">catch</span> (<span class="type">Exception</span> e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/15.png" alt="图片"></p>
<p>(6)列表控件<br>列表框包括列表框Jlist和下拉列表框JComboBox。<br>Jlist类构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">Jlist</span><span class="params">()</span></span>------------------------------------------创建一个不包含任何选项的列表框</span><br><span class="line"><span class="function"><span class="title">Jlist</span><span class="params">(Object[] listData)</span></span>-------------------------创建一个包含选项的列表框，选项为指定数组的所有元素</span><br><span class="line"><span class="function"><span class="title">JList</span><span class="params">(Vector&lt;?&gt; listData)</span></span>------------------------创建一个包含选项的选择框，选项为指定数组的所有元素</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> JListDemo extends JFrame &#123;</span><br><span class="line">	<span class="keyword">private</span> JList <span class="built_in">list</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">JListDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">266</span>, <span class="number">182</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">262</span>, <span class="number">151</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		final JLabel label=<span class="keyword">new</span> JLabel();<span class="comment">//定义标签</span></span><br><span class="line">		label.setText(<span class="string">"爱好"</span>);</span><br><span class="line">		label.setBounds(<span class="number">44</span>, <span class="number">30</span>, <span class="number">39</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(label);</span><br><span class="line">		final JScrollPane scrollPane=<span class="keyword">new</span> JScrollPane();<span class="comment">//滚动面板</span></span><br><span class="line">		scrollPane.setBounds(<span class="number">92</span>, <span class="number">28</span>, <span class="number">100</span>, <span class="number">105</span>);</span><br><span class="line">		panel.add(scrollPane);</span><br><span class="line">		String[] like=&#123;<span class="string">"看电影"</span>,<span class="string">"跑步"</span>,<span class="string">"听音乐"</span>,<span class="string">"读书"</span>,<span class="string">"打游戏"</span>,<span class="string">"健身"</span>,<span class="string">"聊天"</span>&#125;;</span><br><span class="line">		<span class="built_in">list</span>=<span class="keyword">new</span> JList(like);<span class="comment">//将数组添加到组件中</span></span><br><span class="line">		scrollPane.setViewportView(<span class="built_in">list</span>);<span class="comment">//将列表添加到滚动面板</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		JListDemo frame=<span class="keyword">new</span> JListDemo();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/16.png" alt="图片"></p>
<p>JComboBox类构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JComboBox</span><span class="params">()</span></span>--------------------------------------创建一个不包含任何选项的选择框</span><br><span class="line"><span class="function"><span class="title">JComboBox</span><span class="params">(Object[] items)</span></span>------------------------创建一个包含选项的选择框，选择为指定数组中的所有元素</span><br><span class="line"><span class="function"><span class="title">JComboBox</span><span class="params">(Vector&lt;?&gt; items)</span></span>-----------------------创建一个包含选项的选择框，选项为指定向量中的所有元素</span><br><span class="line"><span class="function"><span class="title">JComboBox</span><span class="params">(ComboBoxModel aModel)</span></span>------------------创建一个JComboBox，列表项目取自指定的ComboBoxModel</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> JComboBoxDemo extends JFrame &#123;</span><br><span class="line">	<span class="keyword">private</span> JComboBox <span class="built_in">list</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">JComboBoxDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">266</span>, <span class="number">240</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">262</span>, <span class="number">151</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		final JLabel label=<span class="keyword">new</span> JLabel();<span class="comment">//定义标签</span></span><br><span class="line">		label.setText(<span class="string">"爱好"</span>);</span><br><span class="line">		label.setBounds(<span class="number">44</span>, <span class="number">30</span>, <span class="number">39</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(label);</span><br><span class="line">		final JScrollPane scrollPane=<span class="keyword">new</span> JScrollPane();<span class="comment">//滚动面板</span></span><br><span class="line">		scrollPane.setBounds(<span class="number">92</span>, <span class="number">28</span>, <span class="number">100</span>, <span class="number">30</span>);</span><br><span class="line">		panel.add(scrollPane);</span><br><span class="line">		String[] like=&#123;<span class="string">"看电影"</span>,<span class="string">"跑步"</span>,<span class="string">"听音乐"</span>,<span class="string">"读书"</span>,<span class="string">"打游戏"</span>,<span class="string">"健身"</span>,<span class="string">"聊天"</span>&#125;;</span><br><span class="line">		<span class="built_in">list</span>=<span class="keyword">new</span> JComboBox(like);<span class="comment">//将数组添加到组件中</span></span><br><span class="line">		scrollPane.setViewportView(<span class="built_in">list</span>);<span class="comment">//将列表添加到滚动面板</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		JComboBoxDemo frame=<span class="keyword">new</span> JComboBoxDemo();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/17.png" alt="图片"></p>
<h2 id="5-_u7EC3_u4E60"><a href="#5-_u7EC3_u4E60" class="headerlink" title="5.练习"></a>5.练习</h2><p>(1)制作不规则按钮<br>不规则按钮可以使按钮只显示图片，需要用到JButton类方法setContentAreaFilled(Boolean bool)使按钮取消填充区域和setBorder(Border border)取消组件的边框。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">setContentAreaFilled</span><span class="params">(Boolean bool)</span></span>---------bool为ture表示填充内容区域，false取消填充区域</span><br><span class="line"><span class="function"><span class="title">setBorder</span><span class="params">(Border border)</span></span>-------------------<span class="attribute">border</span>表示为此组件呈现的边框，为null时取消组件的边框</span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ComBoBoxDemo extends JFrame &#123;</span><br><span class="line">	<span class="keyword">private</span> JComboBox comboBox;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ComBoBoxDemo</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//设置容器</span></span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">182</span>,<span class="number">144</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>,<span class="number">0</span>,<span class="number">176</span>,<span class="number">164</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		URL url=getClass().getResource(<span class="string">"1.png"</span>);<span class="comment">//1.png与类ComBoBoxDemo放一起</span></span><br><span class="line">		ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);<span class="comment">//根据图片地址定义ImageIcon对象</span></span><br><span class="line">		final JButton button=<span class="keyword">new</span> JButton();</span><br><span class="line">		button.setIcon(icon);<span class="comment">//设置按钮显示图片</span></span><br><span class="line">		button.setBounds(<span class="number">61</span>, <span class="number">10</span>, <span class="number">46</span>, <span class="number">46</span>);</span><br><span class="line">		button.setContentAreaFilled(<span class="literal">false</span>);<span class="comment">//设置按钮没有填充效果</span></span><br><span class="line">		button.setBorder(null);<span class="comment">//设置按钮不显示边框</span></span><br><span class="line">		panel.add(button);</span><br><span class="line">		final JLabel msg=<span class="keyword">new</span> JLabel();</span><br><span class="line">		msg.setText(<span class="string">"定义不规则按钮"</span>);</span><br><span class="line">		msg.setBounds(<span class="number">37</span>, <span class="number">77</span>, <span class="number">91</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(msg);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ComBoBoxDemo frame=<span class="keyword">new</span> ComBoBoxDemo();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/18.png" alt="图片"></p>
<p>(2)设置关于信息窗体<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Demo extends JFrame&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Demo</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setTitle(<span class="string">"设置信息窗体"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">346</span>, <span class="number">178</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);<span class="comment">//设置面板布局null</span></span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">338</span>, <span class="number">144</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		final JLabel label=<span class="keyword">new</span> JLabel();<span class="comment">//标签控件</span></span><br><span class="line">		label.setFont(<span class="keyword">new</span> Font(<span class="string">"华文楷体"</span>, Font.PLAIN, <span class="number">42</span>));</span><br><span class="line">		label.setText(<span class="string">"MR"</span>);</span><br><span class="line">		label.setBounds(<span class="number">26</span>, <span class="number">41</span>, <span class="number">65</span>, <span class="number">59</span>);</span><br><span class="line">		panel.add(label);</span><br><span class="line">		final JLabel label2=<span class="keyword">new</span> JLabel();</span><br><span class="line">		label2.setText(<span class="string">"企业进销系统"</span>);</span><br><span class="line">		label2.setBounds(<span class="number">10</span>, <span class="number">106</span>, <span class="number">98</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(label2);</span><br><span class="line">		final JLabel name=<span class="keyword">new</span> JLabel();</span><br><span class="line">		name.setText(<span class="string">"科技企业系统"</span>);</span><br><span class="line">		name.setBounds(<span class="number">140</span>, <span class="number">21</span>, <span class="number">156</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(name);</span><br><span class="line">		final JLabel number=<span class="keyword">new</span> JLabel();</span><br><span class="line">		number.setText(<span class="string">"版本1.1"</span>);</span><br><span class="line">		number.setBounds(<span class="number">140</span>, <span class="number">47</span>, <span class="number">135</span>, <span class="number">18</span>);</span><br><span class="line">		label.add(number);</span><br><span class="line">		final JLabel flat=<span class="keyword">new</span> JLabel();</span><br><span class="line">		flat.setText(<span class="string">"适用于任何平台"</span>);</span><br><span class="line">		flat.setBounds(<span class="number">140</span>, <span class="number">71</span>, <span class="number">135</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(flat);</span><br><span class="line">		final JLabel copyright=<span class="keyword">new</span> JLabel();</span><br><span class="line">		copyright.setText(<span class="string">"版权所有:"</span>);</span><br><span class="line">		copyright.setBounds(<span class="number">140</span>, <span class="number">106</span>, <span class="number">66</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(copyright);</span><br><span class="line">		final JLabel company=<span class="keyword">new</span> JLabel();</span><br><span class="line">		company.setText(<span class="string">"科技有限公司"</span>);</span><br><span class="line">		company.setBounds(<span class="number">209</span>, <span class="number">106</span>, <span class="number">119</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(company);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Demo demo=<span class="keyword">new</span> Demo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/19.png" alt="图片"></p>
<h1 id="u7B2C_u516B_u7AE0__u591A_u7EBF_u7A0B_u6280_u672F"><a href="#u7B2C_u516B_u7AE0__u591A_u7EBF_u7A0B_u6280_u672F" class="headerlink" title="第八章 多线程技术"></a>第八章 多线程技术</h1><h2 id="1-_u591A_u7EBF_u7A0B_u4ECB_u7ECD"><a href="#1-_u591A_u7EBF_u7A0B_u4ECB_u7ECD" class="headerlink" title="1.多线程介绍"></a>1.多线程介绍</h2><p>程序启动就自动产生一个线程，主函数在这个线程上运行，当不在有多的线程产生，程序就是单线程，否则多线程<br>程序：计算机指令集合，以文件形式储存在磁盘上<br>进程：一个运行的程序，每个进程都有其独立的内存空间和系统资源<br>线程：进程内部的任务，线程是进程的实体一个进程可以拥有多个线程</p>
<p>线程生命周期：创建，可执行，非可执行，消亡<br>实例化一个线程并执行start()后线程进入“可执行”状态，同一时间只有一个线程在执行。<br>启用start()方法后，进入可执行状态，执行用户覆盖的run（）方法，但并不是一直执行到run（）结束，只是加入应用程序执行安排的队列中，可能正在等待取得CPU时间<br>当线程离开可执行状态下的队列时，线程进入非可执行状态，可以使用Thread类的wait()和sleep()方法进入非可执行状态<br>run()方法执行完毕后，线程自动消亡</p>
<h2 id="2-_u5B9E_u73B0_u591A_u7EBF_u7A0B"><a href="#2-_u5B9E_u73B0_u591A_u7EBF_u7A0B" class="headerlink" title="2.实现多线程"></a>2.实现多线程</h2><p>创建线程(必须实现Runnable接口)的两种方法：继承Thread类(已经实现Runnable接口)和实现Runnable接口<br>(1)继承Thread类<br>语法：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">类名</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Thread</span>&#123;</span></span><br><span class="line">	public void run()&#123;</span><br><span class="line">		执行代码;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//启动线程</span></span><br><span class="line">public void start()</span><br></pre></td></tr></table></figure></p>
<p>实例:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadDemo</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name=<span class="string">"name"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ThreadDemo</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			System.out.println(name+<span class="string">""</span>);</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				Thread.sleep((<span class="keyword">int</span>)Math.random()*<span class="number">1000</span>);</span><br><span class="line">			&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Thread a1=<span class="keyword">new</span> ThreadDemo(<span class="string">"线程1"</span>);</span><br><span class="line">		Thread a2=<span class="keyword">new</span> ThreadDemo(<span class="string">"\t线程2"</span>);</span><br><span class="line">		a1.start();</span><br><span class="line">		a2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行效果:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">线程<span class="number">1</span></span><br><span class="line">	线程<span class="number">2</span></span><br><span class="line">线程<span class="number">1</span></span><br><span class="line">	线程<span class="number">2</span></span><br><span class="line">线程<span class="number">1</span></span><br><span class="line">	线程<span class="number">2</span></span><br><span class="line">线程<span class="number">1</span></span><br><span class="line">线程<span class="number">1</span></span><br><span class="line">	线程<span class="number">2</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>(2)实现Runnable接口<br>如果继承Thread类,会导致无法继承其他类——因为单继承<br>使用Runnable接口可以实现继承其他类的同时创建线程<br>语法:<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Simple</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	Simple simple=<span class="keyword">new</span> Simple();<span class="comment">//实例化Simple对象</span></span><br><span class="line">	Thread thread=<span class="keyword">new</span> Thread(simple);<span class="comment">//实例化Thread对象</span></span><br><span class="line">	thread.start();<span class="comment">//启动线程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实例程序：实现标签的大小变化<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> SimpleThread extends JFrame implements Runnable &#123;</span><br><span class="line">	JLabel jlabel=<span class="keyword">new</span> JLabel();</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SimpleThread</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//窗体布局</span></span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">700</span>,<span class="number">700</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<span class="comment">//窗口关闭状态</span></span><br><span class="line">		URL url=getClass().getResource(<span class="string">"2.jpeg"</span>);</span><br><span class="line">		ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);</span><br><span class="line">		Thread thread=<span class="keyword">new</span> Thread(<span class="keyword">this</span>);</span><br><span class="line">		thread.start();</span><br><span class="line"><span class="comment">//		jlabel=new JLabel(); //不能放这里，要放外面 否则不是一个label</span></span><br><span class="line">		jlabel.setBounds(<span class="number">40</span>,<span class="number">10</span>,<span class="number">640</span>,<span class="number">640</span>);</span><br><span class="line">		jlabel.setIcon(icon);</span><br><span class="line">		getContentPane().add(jlabel);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">10</span>; i &lt;= <span class="number">640</span>; i++) &#123;</span><br><span class="line">				jlabel.setBounds(<span class="number">40</span>,<span class="number">10</span>,i,i);</span><br><span class="line">				<span class="keyword">try</span>&#123;</span><br><span class="line">					Thread.sleep(<span class="number">50</span>);</span><br><span class="line">				&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(<span class="number">100</span>==i)&#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">640</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">						jlabel.setBounds(<span class="number">40</span>,<span class="number">10</span>,j,j);</span><br><span class="line">						<span class="keyword">try</span>&#123;</span><br><span class="line">							Thread.sleep(<span class="number">50</span>);</span><br><span class="line">						&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SimpleThread frame=<span class="keyword">new</span> SimpleThread();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br>图片由小变大到一定程度再全屏由大变小<br><img src="/img/javause/20.png" alt="图片"></p>
<h2 id="3-_u7EBF_u7A0B_u63A7_u5236"><a href="#3-_u7EBF_u7A0B_u63A7_u5236" class="headerlink" title="3.线程控制"></a>3.线程控制</h2><p>(1)启动<br>调用start()方法启动线程run()方法不同于一般调用方法，调用一般方法必须等一般方法执行完毕才能返回，而start()方法启动run()方法后就返回继续调用start()方法后面的语句，此时可能run()方法还在执行，从而形成多线程<br>(2)休眠<br>线程的休眠是指线程的暂停，通过调用sleep()可以实现，休眠单位为毫秒<br>(3)停止<br>JDK1.1开始就取消了stop()方法，因为stop()方法会造成系统进入不安全状态，提倡在run()方法中使用布尔型标记控制循环停止。<br>eg:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 类名 <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">continue</span> isContinue=<span class="keyword">false</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!isContinue)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(4)优先级<br>每个线程都有优先级，优先级高的线程比优先级低的线程获得更多的执行时间<br>优先级范围1~10，默认为5<br>使用Thread类中的setPriority()方法设定优先级，但是必须1~10，否则异常<br>优先级高的线程会提前执行，执行完毕才会轮到优先级低的线程，优先级相同的的线程常用轮流执行方式<br>例：<br>本领运行出来应该是线程1先运行完再线程2——————-但是我运行出来是随机的<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Priority</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">5</span> ; i++) &#123;</span><br><span class="line">				System.out.println(getName()+<span class="string">":"</span>+i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Priority p1=<span class="keyword">new</span> Priority();</span><br><span class="line">		Priority p2=<span class="keyword">new</span> Priority();</span><br><span class="line">		p1.setName(<span class="string">"线程1"</span>);</span><br><span class="line">		p2.setName(<span class="string">"线程2"</span>);</span><br><span class="line">		p1.setPriority(MAX_PRIORITY);<span class="comment">//最高优先级10</span></span><br><span class="line">		p2.setPriority(MIN_PRIORITY);<span class="comment">//最低优先级1</span></span><br><span class="line">		p1.start();</span><br><span class="line">		p2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u7EC3_u4E60-1"><a href="#4-_u7EC3_u4E60-1" class="headerlink" title="4.练习"></a>4.练习</h2><p>(1)会游泳的鱼<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> FishFrame extends JFrame implements Runnable &#123;</span><br><span class="line">	JPanel panel=<span class="keyword">new</span> JPanel();<span class="comment">//JPanel面板</span></span><br><span class="line">	JLabel label=<span class="keyword">new</span> JLabel();</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FishFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//设置窗体绝对布局</span></span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">345</span>, <span class="number">193</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">337</span>, <span class="number">159</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		URL url=getClass().getResource(<span class="string">"fish.jpg"</span>);</span><br><span class="line">		ImageIcon imageIcon=<span class="keyword">new</span> ImageIcon(url);</span><br><span class="line">		label.setIcon(imageIcon);<span class="comment">//设置标签显示图片</span></span><br><span class="line"><span class="comment">//		label.setBounds(271,47,80,42);</span></span><br><span class="line">		label.setBounds(<span class="number">0</span>,<span class="number">0</span>,<span class="number">80</span>,<span class="number">42</span>);</span><br><span class="line">		panel.add(label);</span><br><span class="line">		Thread thread=<span class="keyword">new</span> Thread(<span class="keyword">this</span>);<span class="comment">//创建线程</span></span><br><span class="line">		thread.start();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> lx=label.getX()+<span class="number">1</span>;<span class="comment">//提供标签控件坐标地址</span></span><br><span class="line">			<span class="keyword">if</span>(label.getX()&lt;<span class="number">271</span>)&#123;</span><br><span class="line">				label.setLocation(lx, label.getY());<span class="comment">//设置标签显示位置</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;<span class="comment">//如果小雨游到窗体边缘</span></span><br><span class="line">				label.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">80</span>, <span class="number">42</span>);<span class="comment">//重新定义标签位置</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">30</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		FishFrame fishFrame=<span class="keyword">new</span> FishFrame();</span><br><span class="line">		fishFrame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>小鱼从左到右移动，到最右边再重新到左边开始<br><img src="/img/javause/21.png" alt="图片"></p>
<p>(2)控件的曲线运动<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> CircleSport extends JFrame implements Runnable &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> angle;<span class="comment">//起始角度</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> moveAngle;<span class="comment">//每次移动的角度</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> len;<span class="comment">//圆周半径</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> cx,cy;<span class="comment">//圆周中心坐标</span></span><br><span class="line">	<span class="keyword">private</span> JLabel label;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CircleSport</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setBackground(Color.WHITE);<span class="comment">//白色背景</span></span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">500</span>, <span class="number">400</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		cx=<span class="number">200</span>;</span><br><span class="line">		cy=<span class="number">146</span>;</span><br><span class="line">		ImageIcon icon=<span class="keyword">new</span> ImageIcon(getClass().getResource(<span class="string">"bee.jpg"</span>));</span><br><span class="line">		label=<span class="keyword">new</span> JLabel(icon);</span><br><span class="line">		label.setBounds(<span class="number">200</span>, <span class="number">146</span>, icon.getIconWidth(), icon.getIconHeight());<span class="comment">//设置标签组件位置和大小</span></span><br><span class="line">		getContentPane().add(label);</span><br><span class="line">		angle=<span class="number">90</span>;<span class="comment">//起始角度</span></span><br><span class="line">		moveAngle=<span class="number">1</span>;<span class="comment">//初始化移动角度</span></span><br><span class="line">		len=<span class="number">120</span>;<span class="comment">//初始化圆周半径</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> x,y;<span class="comment">//下一个移动目标</span></span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">			<span class="comment">//计算下一个坐标</span></span><br><span class="line">			x=(<span class="keyword">int</span>) (len*Math.<span class="built_in">sin</span>(Math.toRadians(angle)));</span><br><span class="line">			y=(<span class="keyword">int</span>) (len*Math.<span class="built_in">cos</span>(Math.toRadians(angle)));</span><br><span class="line">			label.setLocation(cx-x, cy+y);<span class="comment">//设置标签坐标</span></span><br><span class="line">			angle=angle+moveAngle;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">10</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		CircleSport frame=<span class="keyword">new</span> CircleSport();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">		<span class="keyword">new</span> Thread(frame).start();<span class="comment">//启动</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>小蜜蜂转圈运动<br><img src="/img/javause/22.png" alt="图片"></p>
<h1 id="u7B2C_u4E5D_u7AE0_JDBC_u6280_u672F"><a href="#u7B2C_u4E5D_u7AE0_JDBC_u6280_u672F" class="headerlink" title="第九章 JDBC技术"></a>第九章 JDBC技术</h1><p>数据库系统由数据库、数据库管理系统(DBMS)、应用系统、数据库管理员构成<br>JDBC技术是连接数据库与应用程序的纽带，可以实现向数据库插入、修改、查询、删除操作。<br>数据库分为层次型、网状型、面向对象型、关系型。<br>JDBC依赖于关系模型，JDBC不能直接访问数据库，必须依赖于数据库厂商提供的JDBC驱动程序，JDBC完成三步工作:<br>(1)与数据库建立连接<br>(2)向数据库发送SQL语句<br>(3)处理从数据库返回的结果</p>
<h2 id="1-JBDC_u4E0D_u53EF_u7F3A_u5C11_u7684_u63A5_u53E3_u4E0E_u7C7B"><a href="#1-JBDC_u4E0D_u53EF_u7F3A_u5C11_u7684_u63A5_u53E3_u4E0E_u7C7B" class="headerlink" title="1.JBDC不可缺少的接口与类"></a>1.JBDC不可缺少的接口与类</h2><p>位于包java.sql中<br>(1)管理数据库驱动类DriverManager<br>DriverManager类管理JDBC驱动程序的基本服务，作用于用户和驱动程序之间，负责跟踪可用的驱动程序，并在数据库和驱动程序之间建立连接。<br>DriverManager类常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getConnection</span><span class="params">(String url,String user,String passWd)</span></span>-------指定三个入口参数，依次为连接数据库的URL、用户名、密码，来获取与数据库的连接</span><br><span class="line"><span class="function"><span class="title">setLoginTimeout</span><span class="params">()</span></span>-----------------------------------------获取驱动程序试图登录到某一数据库可以等待的最长时间(秒)</span><br><span class="line"><span class="function"><span class="title">println</span><span class="params">(String message)</span></span>-----------------------------------将一条消息打印到当前JDBC日志流中</span><br></pre></td></tr></table></figure></p>
<p>(2)数据库连接接口Connection<br>Connection接口代表与特定数据库的连接，在连接的上下文中可以执行SQL语句并返回结果，可以通过getMetaData()方法获得由数据库提供的相关信息。Connection实例就像在应用程序与数据库之间开通的一条渠道。<br>常用方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">createStatement</span><span class="params">()</span></span>--------------------------------------创建并返回一个Statement实例，通常在执行无参SQL语句时创建该实例</span><br><span class="line"><span class="function"><span class="title">prepareStatement</span><span class="params">()</span></span>-------------------------------------创建并返回一个PrepareStatement实例，通常在执行包含参数的Sql语句时创建该实例，并对SQL语句进行了预编译处理</span><br><span class="line"><span class="function"><span class="title">prepareCall</span><span class="params">()</span></span>------------------------------------------创建并返回一个CallableStatement实例，通常在调用数据库储存过程时创建该实例</span><br><span class="line"><span class="function"><span class="title">setAutoCommit</span><span class="params">()</span></span>----------------------------------------设置当前Connection实例的自动提交模式。默认为true，即自动将更改同步到数据库中，如果设为false,需要通过执行<span class="function"><span class="title">commit</span><span class="params">()</span></span>或<span class="function"><span class="title">rollback</span><span class="params">()</span></span>方法手动将更改同步到数据库中</span><br><span class="line"><span class="function"><span class="title">getAutoCommit</span><span class="params">()</span></span>----------------------------------------查看当前Connection实例是否处于自动提交模式，如果是返回true，否则返回false</span><br><span class="line"><span class="function"><span class="title">setSavepoint</span><span class="params">()</span></span>-----------------------------------------在当前事物中创建并返回一个Savepoint实例，前提条件是当前的Connection实例不能处于自动提交模式，否则将抛出异常</span><br><span class="line"><span class="function"><span class="title">releaseSavepoint</span><span class="params">()</span></span>-------------------------------------从当前事物中移除指定的Savepoint实例</span><br><span class="line"><span class="function"><span class="title">setReadOnly</span><span class="params">()</span></span>------------------------------------------设置当前Connection实例的读取模式，默认为非只读模式，不能在事物当中执行该操作，否则将抛出异常，true-只读，false-关闭只读。</span><br><span class="line"><span class="function"><span class="title">isReadOnly</span><span class="params">()</span></span>-------------------------------------------查看当前Connection实例是否为只读模式</span><br><span class="line"><span class="function"><span class="title">isClosed</span><span class="params">()</span></span>---------------------------------------------查看当前Connection实例是否被关闭</span><br><span class="line"><span class="function"><span class="title">commit</span><span class="params">()</span></span>-----------------------------------------------将从上一次提交或者回滚以来进行的所有更改同步到数据库，并释放Connection实例当前拥有的所有数据库锁定</span><br><span class="line"><span class="function"><span class="title">rollback</span><span class="params">()</span></span>---------------------------------------------取消当前事物中的所有更改，并释放当前Connection实例拥有的所有数据库锁定，只能在非自动提交模式下使用</span><br><span class="line"><span class="function"><span class="title">close</span><span class="params">()</span></span>-----------------------------------------------立即释放Connection实例占用的数据库和JDBC资源，关闭数据库连接</span><br></pre></td></tr></table></figure></p>
<p>(3)发送SQL语句接口Statement<br>Statement接口用来执行静态的SQL语句，并返回执行结果。<br>对于insert、update、delete语句调用executeUpdate(String sql)方法<br>select语句调用executeQuery(String sql)方法，并返回一个永远不能为null的ResultSet实例<br>Statement常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">executeQuery</span><span class="params">(String sql)</span></span>------------------------执行指定的静态SELECT语句，并返回一个永远不能为null的ResultSet实例</span><br><span class="line"><span class="function"><span class="title">executeUpdate</span><span class="params">(String sql)</span></span>-----------------------执行指定的静态INSERT、UPDATE、DELETE语句，并返回一个int型数值，为同步更新记录的条数</span><br><span class="line"><span class="function"><span class="title">clearBatch</span><span class="params">()</span></span>------------------------------------清除位于Batch中的所有SQL语句，如果驱动程序不支持批量处理则抛出异常</span><br><span class="line"><span class="function"><span class="title">addBatch</span><span class="params">(String sql)</span></span>----------------------------将指定的sql命令添加到Batch中，String型入口参数通常为静态的INSERT或者UPDATE语句，驱动程序不支持批量处理则抛出异常</span><br><span class="line"><span class="function"><span class="title">executeBatch</span><span class="params">()</span></span>----------------------------------执行Batch中的所有SQL语句，全部执行成功则返回更新计数组成的数组，数组元素的排序与SQL语句的添加顺序对应，数组元素情况：大于等于<span class="number">0</span>的数-&gt;SQL语句执行成功返回更新计数，-<span class="number">2</span>-&gt;执行成功但未得到受影响的行数，-<span class="number">3</span>-&gt;SQL语句执行失败</span><br><span class="line"><span class="function"><span class="title">close</span><span class="params">()</span></span>-----------------------------------------立即释放Statement实例占用的数据库和JDBC资源</span><br></pre></td></tr></table></figure></p>
<p>(4)可执行动态SQL的接口PreparedStatement<br>PreparedStatement接口继承并拓展了Statement接口，用来执行动态的SQL语句(包含参数的SQL语句)，可以使用Connection类的preparedStatement()方法来获取PreparedStatement实例。<br>常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">executeQuery</span><span class="params">(String sql)</span></span>------------------------执行指定的静态SELECT语句，并返回一个永远不能为null的ResultSet实例</span><br><span class="line"><span class="function"><span class="title">executeUpdate</span><span class="params">(String sql)</span></span>-----------------------执行指定的静态INSERT、UPDATE、DELETE语句，并返回一个int型数值，为同步更新记录的条数</span><br><span class="line"><span class="function"><span class="title">setInt</span><span class="params">(int i,int x)</span></span>-----------------------------为参数设置int型值，对应参数SQL类型为INTEGER</span><br><span class="line"><span class="function"><span class="title">setLong</span><span class="params">(int i,long x)</span></span>---------------------------为参数设置long型值，对应参数SQL类型为BIGINT</span><br><span class="line"><span class="function"><span class="title">setFloat</span><span class="params">(int i,float x)</span></span>-------------------------为参数设置<span class="attribute">float</span>型值，对应参数SQL类型为FLOAT</span><br><span class="line"><span class="function"><span class="title">setDouble</span><span class="params">(int i,double x)</span></span>-----------------------为参数设置double型值，对应参数SQL类型为DOUBLE</span><br><span class="line"><span class="function"><span class="title">setString</span><span class="params">(int i,String x)</span></span>-----------------------为参数设置String型值，对应参数SQL类型为VARCHAR或LONGVARCHAR</span><br><span class="line"><span class="function"><span class="title">setBoolean</span><span class="params">(int i,boolean x)</span></span>---------------------为参数设置boolean型值，对应参数SQL类型为BIT</span><br><span class="line"><span class="function"><span class="title">setDate</span><span class="params">(int i, Date x)</span></span>--------------------------为参数设置java<span class="class">.aql</span><span class="class">.Date</span>型值，对应参数SQL类型为BATE</span><br><span class="line"><span class="function"><span class="title">setObject</span><span class="params">(int i,Object x)</span></span>-----------------------用来设置各种类型的参数，JDBC规范定义了从Object类型到SQL类型的标准映射关系，向数据库发送时将被转换为对应的SQL类型</span><br><span class="line"><span class="function"><span class="title">setNull</span><span class="params">(int i,int sqlType)</span></span>----------------------将指定参数设置为SQL中的NULL，该方法的第二个入口参数用来设置参数的SQL类型,并且必须设置，具体值从java<span class="class">.sql</span><span class="class">.Types</span>类中定义的静态常量中选择</span><br><span class="line"><span class="function"><span class="title">clearParameters</span><span class="params">()</span></span>-------------------------------清除当前所有参数的值</span><br></pre></td></tr></table></figure></p>
<p>(5)查询结果集接口ResultSet<br>ResultSet接口类似于一张数据表，用来暂时存放从数据库查询操作所获得的结果集。<br>常用方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getInt</span><span class="params">()</span></span>-------------------------------以int形式获取此ResultSet对象的当前行中的指定列值，列值为null则返回<span class="number">0</span></span><br><span class="line"><span class="function"><span class="title">getFloat</span><span class="params">()</span></span>-----------------------------以<span class="attribute">float</span>形式获取此ResultSet对象的当前行中的指定列值，列值为null则返回<span class="number">0</span></span><br><span class="line"><span class="function"><span class="title">getDate</span><span class="params">()</span></span>------------------------------以Date形式获取此ResultSet对象的当前行中的指定列值，列值为null则返回<span class="number">0</span></span><br><span class="line"><span class="function"><span class="title">getBoolean</span><span class="params">()</span></span>---------------------------以boolean形式获取此ResultSet对象的当前行中的指定列值，列值为null则返回<span class="number">0</span></span><br><span class="line"><span class="function"><span class="title">getString</span><span class="params">()</span></span>----------------------------以String形式获取ResultSet对象的当前行的指定列值，列值为NULL则返回null</span><br><span class="line"><span class="function"><span class="title">getObject</span><span class="params">()</span></span>----------------------------以Object形式获取此ResultSet对象的当前行中的指定列值，列值为null则返回null</span><br><span class="line"><span class="function"><span class="title">first</span><span class="params">()</span></span>--------------------------------将指针移到当前记录的第一行</span><br><span class="line"><span class="function"><span class="title">last</span><span class="params">()</span></span>---------------------------------将指针移到当前记录的最后一行</span><br><span class="line"><span class="function"><span class="title">next</span><span class="params">()</span></span>---------------------------------将指针向下移一行</span><br><span class="line"><span class="function"><span class="title">beforeFirst</span><span class="params">()</span></span>--------------------------将指针移动到集合的开头(第一行位置)</span><br><span class="line"><span class="function"><span class="title">afterLast</span><span class="params">()</span></span>----------------------------将指针移动到集合的尾部(最后一行位置)</span><br><span class="line"><span class="function"><span class="title">absolute</span><span class="params">(int index)</span></span>--------------------将指针移动到ResultSet给定编号的行</span><br><span class="line"><span class="function"><span class="title">isFrist</span><span class="params">()</span></span>------------------------------判断指针是否位于ResultSet集合的第一行</span><br><span class="line"><span class="function"><span class="title">isLast</span><span class="params">()</span></span>-------------------------------判断指针是否位于ResultSet集合的最后一行</span><br><span class="line"><span class="function"><span class="title">updateInt</span><span class="params">()</span></span>----------------------------用int值更新指定列</span><br><span class="line"><span class="function"><span class="title">updateFloat</span><span class="params">()</span></span>--------------------------用<span class="attribute">float</span>值更新指定列</span><br><span class="line"><span class="function"><span class="title">updateLong</span><span class="params">()</span></span>---------------------------用long值更新指定列</span><br><span class="line"><span class="function"><span class="title">updateString</span><span class="params">()</span></span>-------------------------用String值更新指定列</span><br><span class="line"><span class="function"><span class="title">updateObject</span><span class="params">()</span></span>-------------------------用Object值更新指定列</span><br><span class="line"><span class="function"><span class="title">updateNull</span><span class="params">()</span></span>---------------------------将指定的列值修改为NULL</span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u6570_u636E_u5E93_u64CD_u4F5C"><a href="#2-_u6570_u636E_u5E93_u64CD_u4F5C" class="headerlink" title="2.数据库操作"></a>2.数据库操作</h2><p>2.1 执行步骤<br>加载数据库驱动，创建数据库连接，执行SQL语句，获取查询结果集，关闭连接<br>(1)加载数据库驱动<br>数据库驱动程序只需在第一次访问数据库时加载一次，然后每次访问数据库时创建一个Connection实例来获取数据库连接，之后向数据库SQL语句来操作数据，最后完成数据库操作释放连接。<br>语法：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Class</span>.forName(String driverManager)<span class="comment">//加载成功则将驱动类注册给DriverManager,加载失败抛出ClassNotFoundException异常</span></span><br><span class="line">eg:加载SQL Server2000数据库驱动jtds</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="keyword">Class</span>.forName(<span class="string">"net.sourceforge.jtds.jdbc.Driver"</span>);</span><br><span class="line">	&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>备注：通常将负责加载驱动的代码放static中————–避免重复加载驱动程序</p>
<p>(2)创建数据库连接<br>数据库管理类DriverManager负责建立与管理数据库连接，通过DriverManager类的静态方法getConnection(String url,String user,String passwd)可以建立数据库连接<br>语法:<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">Connection</span> conn<span class="label">=DriverManager</span>.getConnection(<span class="keyword">String </span>url,<span class="keyword">String </span>user,<span class="keyword">String </span>passwd)</span><br><span class="line"><span class="label">url</span>：指定连接数据库的url,user:用户，passwd:密码</span><br></pre></td></tr></table></figure></p>
<p>注意事项：<br>a.java应用程序连接数据库需要保证数据库是启动的，即：net start mysql<br>b.不同数据库url,驱动程序不一样，需要加载。mysql如下：<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line"><span class="built_in">String</span> url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;</span><br></pre></td></tr></table></figure></p>
<p>c.驱动程序加载方法：java项目下新建一个文件lib,将驱动包mysql-connector-java-5.0.8.jar放到lib目录下，点击包右键-&gt;Build Path-&gt;Add to Build Path<br>实例：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GetConn</span> &#123;</span><br><span class="line">	Connection conn=<span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.<span class="keyword">out</span>.println(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Connection <span class="title">getConn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		String url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		String userName=<span class="string">"root"</span>;</span><br><span class="line">		String passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">				System.<span class="keyword">out</span>.println(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">			GetConn getConn=<span class="keyword">new</span> GetConn();</span><br><span class="line">			Connection conn=getConn.getConn();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">运行结果：</span><br><span class="line">数据库驱动加载成功</span><br><span class="line">数据库连接成功!</span><br></pre></td></tr></table></figure></p>
<p>(3)执行SQL语句<br>由Connection接口的createStatement()方法获取Statement对象<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement statement=con.createStatement()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>Statement接口只能执行静态SQL语句，要执行SQL动态语句需要使用PreparedStatement实例。<br>插入、删除、修改可以通过Statement接口的executeUpdate()方法，查询数据可以通过Statement接口的executeQuery()方法。</p>
<p>(4)获取查询结果集<br>通过Statement接口的executeUpdate()方法实现插入、删除、修改返回int数据（影响数据库记录的条数），查询数据Statement接口的executeQuery()方法返回的是ResultSet型的结果集，其中不仅包括所有满足查询条件的记录，还包含相应数据表的相关信息如每一列的名称、类型和列的数量等。<br>如：从tb表中查询所有数据记录，并通过ResultSet实例的getXXX()方法通过指定列的序列号或者名称获取数据。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ResultSet res=statement.executeQuery(<span class="string">"select * from tb"</span>);<span class="comment">//从tb表中查询所有数据记录</span></span><br><span class="line"><span class="comment">//通过ResultSet实例的get<span class="label">XXX()方法通过指定列的序列号或者名称获取数据</span></span></span><br><span class="line"><span class="keyword">while</span>(res.next())&#123;</span><br><span class="line">	<span class="keyword">int</span> id=res.getInt(<span class="number">1</span>);<span class="comment">//获取第一列数据</span></span><br><span class="line">	String name=res.getString(<span class="string">"name"</span>);<span class="comment">//获取名称为name的列的数据</span></span><br><span class="line">	String salary=res.getString(<span class="number">3</span>);<span class="comment">//获取第三列数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>数据表如下：<br>id   name     salary<br>1    liming   3000<br>2    wangmei  4000</p>
<p>(5)关闭连接<br>建立Connection、Statement、ResultSet实例时，占用一定的数据库和JDBC资源，每次访问结束访问数据库后应该销毁这些实例释放资源，建议如下顺序：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">resultSet</span><span class="class">.close</span>();</span><br><span class="line"><span class="tag">statement</span><span class="class">.close</span>();</span><br><span class="line"><span class="tag">connection</span><span class="class">.close</span>();</span><br></pre></td></tr></table></figure></p>
<p>注：通过DriverManager类的getconnection()方法得到的Connection实例在close()时会同时关闭Statement实例和ResultSet实例。但是通常情况常用数据库连接池，调用Connection实例在close()时Connection实例可能并没有被释放，而是被放到了连接池中，又被其他连接调用，这种情况下不手动关闭Statement实例和ResultSet实例将导致他们越来越多，影响计算机和数据库速度甚至导致软件或者系统瘫痪。</p>
<p>2.2 数据库的增删改查<br>(1)添加数据<br>SQL的insert语法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名[(字段名<span class="number">1</span>，字段名<span class="number">2.</span>..)] <span class="keyword">VALUES</span>(属性值<span class="number">1</span>，属性值<span class="number">2.</span>..)</span><br><span class="line">如：</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'liming'</span>,<span class="string">'3000'</span>);</span></span><br></pre></td></tr></table></figure></p>
<p>通过Statement接口的executeUpdate()执行插入操作<br>实例：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		GetConn getConn=<span class="keyword">new</span> GetConn();</span><br><span class="line">		Connection conn=getConn.getConn();</span><br><span class="line">		<span class="keyword">String</span> createtb=<span class="string">"CREATE TABLE IF NOT EXISTS tb(id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,name VARCHAR(20) NOT NULL,salary VARCHAR(20) NOT NULL)"</span>;<span class="comment">//建立tb表  id,name,salary</span></span><br><span class="line">		<span class="keyword">String</span> insert1=<span class="string">"INSERT tb(name,salary) VALUES('wangmei','4000')"</span>;<span class="comment">//插入数据---运行一次插入一次</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Statement statement=conn.createStatement();</span><br><span class="line">			statement.executeUpdate(createtb);</span><br><span class="line">			statement.executeUpdate(insert1);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(2)删除数据<br>delete语法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 数据表名 <span class="keyword">where</span> 条件表达式</span><br><span class="line">eg:<span class="keyword">delete</span> <span class="keyword">from</span> td <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">1</span>;</span></span><br><span class="line">实例：</span><br><span class="line">String sql="<span class="operator"><span class="keyword">delete</span> <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">1</span><span class="string">";</span><br><span class="line">statement.executeUpdate(sql);</span></span></span><br></pre></td></tr></table></figure></p>
<p>注意：如果delete没有通过where语句指定删除记录的添加，则会删除数据表中的全部记录<br>delete删除全部记录但保留表，”DROP TABLE”删除整张表</p>
<p>(3)修改数据<br>update语法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">UPDATE</span> 数据表名 <span class="keyword">SET</span> 字段名 = 新的字段值 <span class="keyword">WHERE</span> 条件表达式</span><br><span class="line">eg:<span class="keyword">update</span> tb <span class="keyword">set</span> <span class="keyword">name</span>=<span class="string">'zhanghua'</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">2</span>;</span></span><br><span class="line">实例：</span><br><span class="line">String sql="<span class="operator"><span class="keyword">update</span> tb <span class="keyword">set</span> <span class="keyword">name</span>=<span class="string">'zhanghua'</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">2</span><span class="string">";</span><br><span class="line">statement.executeUpdate(sql);</span></span></span><br></pre></td></tr></table></figure></p>
<p>(4)查询数据<br>select语法：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> 所选字段列表 <span class="keyword">FROM</span> 数据表名 <span class="keyword">WHERE</span> 条件表达式 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 字段名 <span class="keyword">HAVING</span> 条件表达式 (指定分组的条件) <span class="keyword">ORDER</span> <span class="keyword">BY</span> 字段名[<span class="keyword">ASC</span>|<span class="keyword">DESC</span>]</span><br><span class="line">eg:<span class="keyword">select</span> <span class="keyword">name</span>,salary <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">2</span> <span class="keyword">order</span> <span class="keyword">by</span> salary;</span></span><br></pre></td></tr></table></figure></p>
<p>A.顺序查询<br>顺序查询指应用select语句将数据表中满足条件的记录检索下来<br>实例：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String sql=<span class="string">"select * from tb where id != 1"</span>;</span><br><span class="line">ResultSet <span class="property">rest</span>=statement.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(<span class="property">rest</span>.next())&#123;</span><br><span class="line">	int <span class="property">id</span>=<span class="property">rest</span>.getInt(<span class="number">1</span>);</span><br><span class="line">	String <span class="property">name</span>=<span class="property">rest</span>.getString(<span class="string">"name"</span>);</span><br><span class="line">	String salary=<span class="property">rest</span>.getString(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>B.模糊查询<br>SQL通过LINK操作符进行模糊查询，可以使用”%”字符来代替0个或者多个字符，使用下划线”_”来代替一个字符。<br>实例：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'li%'</span>;</span></span><br><span class="line">eg:</span><br><span class="line">String sql="<span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'li%'</span><span class="string">";</span><br><span class="line">ResultSet rest=statement.executeQuery(sql);</span><br><span class="line">while(rest.next)&#123;</span><br><span class="line">	int id=rest.getInt(1);</span><br><span class="line">	String name=rest.getString("</span><span class="keyword">name</span><span class="string">");</span><br><span class="line">	String salary=rest.getString(3);</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p>增删改查实例：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class GetConn &#123;</span><br><span class="line">	Connection conn=<span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> Connection getConn()&#123;</span><br><span class="line">		<span class="keyword">String</span> url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		<span class="keyword">String</span> userName=<span class="string">"root"</span>;</span><br><span class="line">		<span class="keyword">String</span> passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">				System.out.<span class="built_in">println</span>(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">			GetConn getConn=<span class="keyword">new</span> GetConn();</span><br><span class="line">			Connection conn=getConn.getConn();</span><br><span class="line">			<span class="keyword">String</span> createtb=<span class="string">"CREATE TABLE IF NOT EXISTS tb(id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,name VARCHAR(20) NOT NULL,salary VARCHAR(20) NOT NULL)"</span>;<span class="comment">//建立tb表  id,name,salary</span></span><br><span class="line">			<span class="keyword">String</span> insert1=<span class="string">"INSERT tb(name,salary) VALUES('wangmei','4000')"</span>;<span class="comment">//插入数据---运行一次插入一次</span></span><br><span class="line">			<span class="keyword">String</span> delete1=<span class="string">"delete from tb where id = 1"</span>;</span><br><span class="line">			<span class="keyword">String</span> update1=<span class="string">"update tb set name='zhanghua' where id=2"</span>;</span><br><span class="line">			<span class="keyword">String</span> find1=<span class="string">"select * from tb where id != 1"</span>;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Statement statement=conn.createStatement();</span><br><span class="line">				statement.executeUpdate(createtb);</span><br><span class="line">				statement.executeUpdate(insert1);<span class="comment">//增</span></span><br><span class="line">				statement.executeUpdate(delete1);<span class="comment">//删</span></span><br><span class="line">				statement.executeUpdate(update1);<span class="comment">//该</span></span><br><span class="line">				ResultSet rest=statement.executeQuery(find1);</span><br><span class="line">				<span class="keyword">while</span>(rest.next())&#123;</span><br><span class="line">					<span class="built_in">int</span> id=rest.getInt(<span class="number">1</span>);</span><br><span class="line">					<span class="keyword">String</span> name=rest.getString(<span class="string">"name"</span>);</span><br><span class="line">					<span class="keyword">String</span> salary=rest.getString(<span class="number">3</span>);</span><br><span class="line">					System.out.<span class="built_in">println</span>(<span class="string">"id="</span>+id+<span class="string">" "</span>+<span class="string">"name="</span>+name+<span class="string">" "</span>+<span class="string">"salary="</span>+salary);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">输出结果：</span><br><span class="line">id=<span class="number">2</span> name=zhanghua salary=<span class="number">3000</span></span><br><span class="line">id=<span class="number">3</span> name=wangmei salary=<span class="number">4000</span></span><br><span class="line">id=<span class="number">4</span> name=wangmei salary=<span class="number">4000</span></span><br></pre></td></tr></table></figure></p>
<p>执行前：</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>liming</td>
<td>3000</td>
</tr>
<tr>
<td>2</td>
<td>liming</td>
<td>3000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<p>执行后：</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>zhanghua</td>
<td>3000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
<tr>
<td>4</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<h2 id="3-_u4F7F_u7528_u9884_u5904_u7406_u8BED_u53E5"><a href="#3-_u4F7F_u7528_u9884_u5904_u7406_u8BED_u53E5" class="headerlink" title="3.使用预处理语句"></a>3.使用预处理语句</h2><p>如果用户名和密码查询信息，name为”‘apple’ or ‘a’=’a’”，passwd为”‘12’ or 1=1”则SQL语句为<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String sql="<span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'apple'</span> <span class="keyword">or</span> <span class="string">'a'</span>=<span class="string">'a'</span> <span class="keyword">and</span> passwd=<span class="string">'12'</span> <span class="keyword">or</span> <span class="number">1</span>=<span class="number">1</span><span class="string">";</span></span></span><br></pre></td></tr></table></figure></p>
<p>上面语句虽然正确，可以访问数据库，但是不能保证数据的安全性，可以使用预处理解决这个问题。<br>预处理语句的第二个优点是可以提高数据查询速度。因为向数据库发送sql语句需要数据库中的sql解释器把sql语句生成底层的内部命令，然后再执行完成相关操作，不断向提交sql语句会增加数据库解释器的负担，影响执行速度，而预处理语句是对SQL语句编译预处理生成底层数据库命令，封装在PreparedStatement对象中，通过调用该对象的方法执行底层数据库命令，这样应用程序针对连接的数据库将SQL语句解释为数据库底层内部命令，然后让数据执行这个命令，减轻数据库负担，提高访问数据库的速度。<br>对SQL语句预处理时，可以使用通配符”?”来代替任何的字段值。eg:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String sql="<span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> tb <span class="keyword">where</span> <span class="keyword">id</span>=?<span class="string">";</span></span></span><br></pre></td></tr></table></figure></p>
<p>执行预处理语句前，必须调用相应的方法来设置通配符所代表的值如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PreparedStatement pstatement=connection.preparedStatement(sql);</span><br><span class="line">pstatement.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure></p>
<p>设置完通配符值后调用PreparedStatement实例的executeQuery()方法执行预处理语句</p>
<p>实例：通过预处理方法实现添加信息<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class GetConn &#123;</span><br><span class="line">	Connection conn=<span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> Connection getConn()&#123;</span><br><span class="line">		<span class="keyword">String</span> url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		<span class="keyword">String</span> userName=<span class="string">"root"</span>;</span><br><span class="line">		<span class="keyword">String</span> passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">				System.out.<span class="built_in">println</span>(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">			GetConn getConn=<span class="keyword">new</span> GetConn();</span><br><span class="line">			Connection conn=getConn.getConn();</span><br><span class="line">			<span class="keyword">String</span> sql=<span class="string">"insert into tb values(?,?,?)"</span>;	</span><br><span class="line">			<span class="keyword">String</span> find1=<span class="string">"select * from tb"</span>;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				PreparedStatement preparedStatement=conn.prepareStatement(sql);<span class="comment">//获取PreparedStatement实例</span></span><br><span class="line">				preparedStatement.setInt(<span class="number">1</span>, <span class="number">1</span>);<span class="comment">//第1个值id设置1</span></span><br><span class="line">				preparedStatement.setString(<span class="number">2</span>, <span class="string">"lihua"</span>);<span class="comment">//第2个值名字设置lihua</span></span><br><span class="line">				preparedStatement.setString(<span class="number">3</span>, <span class="string">"5000"</span>);<span class="comment">//第3个值工资设置为5000</span></span><br><span class="line">				preparedStatement.executeUpdate();</span><br><span class="line">			</span><br><span class="line">				Statement statement=conn.createStatement();</span><br><span class="line">				ResultSet rest=statement.executeQuery(find1);</span><br><span class="line">				<span class="keyword">while</span>(rest.next())&#123;</span><br><span class="line">					<span class="built_in">int</span> id=rest.getInt(<span class="number">1</span>);</span><br><span class="line">					<span class="keyword">String</span> name=rest.getString(<span class="string">"name"</span>);</span><br><span class="line">					<span class="keyword">String</span> salary=rest.getString(<span class="number">3</span>);</span><br><span class="line">					System.out.<span class="built_in">println</span>(<span class="string">"id="</span>+id+<span class="string">" "</span>+<span class="string">"name="</span>+name+<span class="string">" "</span>+<span class="string">"salary="</span>+salary);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br>数据库驱动加载成功<br>数据库连接成功!<br>id=1 name=lihua salary=5000<br>id=2 name=zhanghua salary=3000<br>id=3 name=wangmei salary=4000<br>id=4 name=wangmei salary=4000<br>添加前：</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>zhanghua</td>
<td>3000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
<tr>
<td>4</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<p>添加后:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>lihua</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>zhanghua</td>
<td>3000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
<tr>
<td>4</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<h2 id="4-_u7EC3_u4E60-2"><a href="#4-_u7EC3_u4E60-2" class="headerlink" title="4.练习"></a>4.练习</h2><p>(1)将查询结果显示在窗体中<br>在原tb数据库下，查询id=2的用户显示在窗体中<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> User &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String salary;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> salary;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSalary</span><span class="params">(String salary)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.salary = salary;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> JdbcUser &#123;</span><br><span class="line">	Connection conn=null;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.out.println(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Connection <span class="title">getConn</span><span class="params">()</span></span>&#123;</span><br><span class="line">		String url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		String userName=<span class="string">"root"</span>;</span><br><span class="line">		String passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != null)&#123;</span><br><span class="line">				System.out.println(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">selectUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">			User user=null;</span><br><span class="line">			JdbcUser jdbcUser=<span class="keyword">new</span> JdbcUser();</span><br><span class="line">			Connection conn=jdbcUser.getConn();</span><br><span class="line">			String sql=<span class="string">"select * from tb where id="</span>+id;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Statement statement=conn.createStatement();</span><br><span class="line">				ResultSet rest=statement.executeQuery(sql);</span><br><span class="line">				<span class="keyword">while</span>(rest.next())&#123;</span><br><span class="line">					user=<span class="keyword">new</span> User();</span><br><span class="line">					user.setId(rest.getInt(<span class="number">1</span>));</span><br><span class="line">					user.setName(rest.getString(<span class="string">"name"</span>));</span><br><span class="line">					user.setSalary(rest.getString(<span class="number">3</span>));</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;<span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			<span class="keyword">return</span> user;</span><br><span class="line">			&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> ViewMessage extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ViewMessage</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//设置容器显示绝对布局</span></span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">309</span>, <span class="number">219</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		JdbcUser jdbcUser=<span class="keyword">new</span> JdbcUser();</span><br><span class="line">		User user=jdbcUser.selectUser(<span class="number">2</span>);<span class="comment">//查询id=2的user</span></span><br><span class="line">		</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">301</span>, <span class="number">185</span>);</span><br><span class="line">		getContentPane().add(panel);<span class="comment">//将面板添加到窗体中</span></span><br><span class="line">		final JLabel namelabel=<span class="keyword">new</span> JLabel();</span><br><span class="line">		namelabel.setText(<span class="string">"姓名"</span>);</span><br><span class="line">		namelabel.setBounds(<span class="number">59</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">24</span>);</span><br><span class="line">		panel.add(namelabel);<span class="comment">//标签添加到面板</span></span><br><span class="line">		JTextField nametextTield=<span class="keyword">new</span> JTextField();<span class="comment">//姓名设置为文本框显示内容</span></span><br><span class="line">		nametextTield.setText(user.getName());</span><br><span class="line">		nametextTield.setBounds(<span class="number">104</span>, <span class="number">38</span>, <span class="number">132</span>, <span class="number">22</span>);</span><br><span class="line">		panel.add(nametextTield);</span><br><span class="line">		final JLabel salarylabel=<span class="keyword">new</span> JLabel();</span><br><span class="line">		salarylabel.setText(<span class="string">"姓名"</span>);</span><br><span class="line">		salarylabel.setBounds(<span class="number">59</span>, <span class="number">67</span>, <span class="number">39</span>, <span class="number">24</span>);</span><br><span class="line">		panel.add(salarylabel);<span class="comment">//标签添加到面板</span></span><br><span class="line">		JTextField salarytextTield=<span class="keyword">new</span> JTextField();<span class="comment">//姓名设置为文本框显示内容</span></span><br><span class="line">		salarytextTield.setText(user.getSalary());</span><br><span class="line">		salarytextTield.setBounds(<span class="number">104</span>, <span class="number">68</span>, <span class="number">132</span>, <span class="number">22</span>);</span><br><span class="line">		panel.add(salarytextTield);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ViewMessage viewMessage=<span class="keyword">new</span> ViewMessage();</span><br><span class="line">		viewMessage.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>效果如下：<br><img src="/img/javause/23.png" alt="图片"></p>
<p>(2)修改员工工资信息<br>将zhanghua的工资增加3000元<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class GetConn &#123;</span><br><span class="line">	Connection conn=<span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.out.<span class="built_in">println</span>(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> Connection getConn()&#123;</span><br><span class="line">		<span class="keyword">String</span> url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		<span class="keyword">String</span> userName=<span class="string">"root"</span>;</span><br><span class="line">		<span class="keyword">String</span> passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">				System.out.<span class="built_in">println</span>(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">			GetConn getConn=<span class="keyword">new</span> GetConn();</span><br><span class="line">			Connection conn=getConn.getConn();</span><br><span class="line">			<span class="keyword">String</span> sql=<span class="string">"update tb set salary=salary+3000 where name='zhanghua'"</span>;	<span class="comment">///////////</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Statement statement=conn.createStatement();</span><br><span class="line">				statement.executeUpdate(sql);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>执行前:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>lihua</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>zhanghua</td>
<td>3000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
<tr>
<td>4</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<p>执行后:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>lihua</td>
<td>5000</td>
</tr>
<tr>
<td>2</td>
<td>zhanghua</td>
<td>6000</td>
</tr>
<tr>
<td>3</td>
<td>wangmei</td>
<td>4000</td>
</tr>
<tr>
<td>4</td>
<td>wangmei</td>
<td>4000</td>
</tr>
</tbody>
</table>
<h1 id="u7B2C_u5341_u7AE0_GUI_u4E8B_u4EF6_u5904_u7406_u673A_u5236"><a href="#u7B2C_u5341_u7AE0_GUI_u4E8B_u4EF6_u5904_u7406_u673A_u5236" class="headerlink" title="第十章 GUI事件处理机制"></a>第十章 GUI事件处理机制</h1><p>GUI控件与用户交互需要为控件添加事件，如：移动鼠标、键盘按键、单击按钮等。</p>
<h2 id="1-GUI_u4E8B_u4EF6"><a href="#1-GUI_u4E8B_u4EF6" class="headerlink" title="1.GUI事件"></a>1.GUI事件</h2><p>事件:用户对控件的一个操作，如单击按钮、关闭窗体等<br>事件源：发生事件的控件<br>事件处理器：负责处理事件的方法<br>AWT事件类：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ActionEvent<span class="comment">------------------------动作事件，用户单击按钮、选择菜单、列表等操作时产生该事件</span></span><br><span class="line">AdjustmentEvent<span class="comment">--------------------调整事件，在滚动条变化时产生该事件</span></span><br><span class="line">ComponentEvent<span class="comment">---------------------控件事件，在控件隐藏、显示、移动等操作中产生</span></span><br><span class="line">ContainerEvent<span class="comment">---------------------容器事件，在容器发生变化时产生该事件，如向容器添加移除事件</span></span><br><span class="line">FocusEvent<span class="comment">-------------------------焦点事件，当控件获得焦点与失去焦点时，触发该事件</span></span><br><span class="line">HierarchyEvent<span class="comment">---------------------层次事件，当控件级别改变时触发事件</span></span><br><span class="line">InputMethodEvent<span class="comment">-------------------输入法事件，输入法改变时触发事件</span></span><br><span class="line">ItemEvent<span class="comment">--------------------------选项事件，复选框、列表、下拉选择框等控件的数据改变时触发事件</span></span><br><span class="line">KeyEvent<span class="comment">---------------------------按键事件，按下键盘按钮或者释放键盘按钮时触发的事件</span></span><br><span class="line">MouseEvent<span class="comment">-------------------------鼠标事件，当改变鼠标状态时触发的事件，例如单击鼠标按键、鼠标按键的按下与抬起状态、鼠标进入离开控件等</span></span><br><span class="line">MouseWheelEvent<span class="comment">--------------------鼠标滚轮事件，当滚动鼠标滚轮时触发事件</span></span><br><span class="line">PaintEvent<span class="comment">-------------------------绘图事件，发生绘图事件时触发该事件</span></span><br><span class="line">TextEvent<span class="comment">--------------------------文本事件，当文本框和文本域控件的内容发生改变时触发事件</span></span><br><span class="line">WindowEvent<span class="comment">------------------------窗口事件，当窗体被打开、关闭、最大化、最小化、还原和激活时触发事件</span></span><br></pre></td></tr></table></figure></p>
<p>事件监听器：<br>用于监听指定的事件类型，如ActionListener(单击事件ActionEvent的监听接口)、KeyListener(键盘监听器接口),必须实现该接口编写自己的监听器实现类来处理事件，监听器类收到事件后，将委托指定的方法来执行事件处理。<br>事件监听器接口会定义很多方法实现接口时需要实现。如键盘监听器KeyListener代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.EventListener;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">KeyListener</span> <span class="keyword">extends</span> <span class="title">EventListener</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyTyped</span><span class="params">(KeyEvent e)</span></span>;<span class="comment">//键入某键时调用此方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span></span>;<span class="comment">//按下某键时执行方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyReleased</span><span class="params">(KeyEvent e)</span></span>;<span class="comment">//释放某键时调用方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实现事件监听器如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KeyListener</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">awt</span>.<span class="title">event</span>.<span class="title">KeyListener</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyTyped</span><span class="params">(KeyEvent e)</span></span>&#123;&#125;<span class="comment">//键入某键时调用此方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span></span>&#123;&#125;<span class="comment">//按下某键时执行方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyReleased</span><span class="params">(KeyEvent e)</span></span>&#123;&#125;<span class="comment">//释放某键时调用方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u52A8_u4F5C_u4E8B_u4EF6"><a href="#2-_u52A8_u4F5C_u4E8B_u4EF6" class="headerlink" title="2.动作事件"></a>2.动作事件</h2><p>动作事件包括单击按钮、选择菜单项目等，Java中动作事件由ActionEvent类表示，与动作事件相对应的事件处理器接口为ActionLisenter接口，该接口只有一个方法actionPerformed()。<br>为按钮添加动作事件要如下两步：<br>(1)定义实现事件监听器的类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActionDemo</span> <span class="keyword">implements</span> <span class="title">ActionLisenter</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">		<span class="comment">//添加处理事件代码</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>(2)向事件源注册监听者对象<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">button</span>.addActionListener(ad);<span class="comment">//ad为动作事件监听器接口对象，动作事件注册给按钮点击按钮就会出现相应的动作</span></span><br></pre></td></tr></table></figure></p>
<p>实例：点击按钮实现窗体关闭<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> ActionEventDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ActionEventDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">238</span>, <span class="number">124</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();<span class="comment">//面板</span></span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">232</span>, <span class="number">90</span>);</span><br><span class="line">		getContentPane().add(panel);<span class="comment">//面板添加到窗体</span></span><br><span class="line">		final JButton button=<span class="keyword">new</span> JButton();</span><br><span class="line">		button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;<span class="comment">//绑定按钮单击事件</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.<span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">////////关闭窗体</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		button.setText(<span class="string">"关闭按钮"</span>);</span><br><span class="line">		button.setBounds(<span class="number">73</span>, <span class="number">27</span>, <span class="number">86</span>, <span class="number">28</span>);</span><br><span class="line">		panel.add(button);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ActionEventDemo actionEventDemo=<span class="keyword">new</span> ActionEventDemo();</span><br><span class="line">		actionEventDemo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：点击按钮“关闭”窗体关闭<br><img src="/img/javause/24.png" alt="图片"></p>
<h2 id="3-_u7A97_u4F53_u63A7_u5236"><a href="#3-_u7A97_u4F53_u63A7_u5236" class="headerlink" title="3.窗体控制"></a>3.窗体控制</h2><p>窗体控制指发生窗口定义的WindowEvent窗口事件，窗口事件由WindowListener对象负责监听，可以使用addWindowListener()方法为窗口注册WindowListener对象，注册之后才可以接收窗口事件，当窗口状态(如最大化、最小化、图标化)改变时，由控件(比如窗体)生成此窗口事件，并由WindowListener对象进行处理。<br>WindowListener对象7个方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>void windowActivated(WindowEvent e)</td>
<td>当窗口由非活动窗口变为活动窗口时调用此方法</td>
</tr>
<tr>
<td>void windowClosed(WindowEvent e)</td>
<td>当窗口的默认关闭模式设置为JFrame.DISPOSE_ON_CLOSE时调用</td>
</tr>
<tr>
<td>void windowClosing(WindowEvent e)</td>
<td>当窗口即将关闭（点击窗体关闭按钮时）时调用</td>
</tr>
<tr>
<td>void windowDeactivated(WindowEvent e)</td>
<td>当窗口由活动状态变非活动状态时调用</td>
</tr>
<tr>
<td>void windowDeiconified(WindowEvent e)</td>
<td>当窗口从图标化状态变为正常状态时调用</td>
</tr>
<tr>
<td>void windowIconified(WindowEvent e)</td>
<td>当窗口从正常状态变为图标化状态时调用</td>
</tr>
<tr>
<td>void windowOpened(WindowEvent e)</td>
<td>当窗口打开时调用</td>
</tr>
</tbody>
</table>
<p>窗体事件执行过程：<br>(1)创建WindowListener对象<br>(2)调用addWindowListener()方法为窗口注册WindowListener对象作为监听器<br>(3)由外部操作触发，使窗口状态改变<br>(4)窗口状态改变后生成窗口事件<br>(5)执行WindowListener对象的方法完成窗口事件的处理</p>
<p>备注：WindowAdapter类实现了WindowListener接口，可以使用根据需要的方法使用该类方法</p>
<p>实例：窗口打开关闭时在控制台输出信息<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> UseWindowEventFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">UseWindowEventFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;<span class="comment">//为窗体添加窗口监听器，这里使用的匿名内部类实现窗口适配器创建</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowOpened</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"打开类窗体"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">				System.out.println(<span class="string">"窗体即将关闭"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		setTitle(<span class="string">"窗口事件"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">298</span>, <span class="number">190</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		UseWindowEventFrame frame=<span class="keyword">new</span> UseWindowEventFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行控制台输出：<br>打开窗体时：<br>打开类窗体</p>
<p>关闭窗体时：<br>窗体即将关闭</p>
<p><img src="/img/javause/25.png" alt="图片"></p>
<h2 id="4-_u9F20_u6807_u63A7_u5236"><a href="#4-_u9F20_u6807_u63A7_u5236" class="headerlink" title="4.鼠标控制"></a>4.鼠标控制</h2><p>鼠标的移动、单击、拖动等操作可以实现交互效果如拖动窗体、单击按钮、选择文本框等。<br>鼠标事件由MouseListener对象监听，使用addMouseListener()方法为控件注册MouseListener对象之后才可以接收鼠标事件。<br>MouseListener接口提供了5个方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>mouseClicked(MouseEvent e)</td>
<td>处理鼠标单击事件的方法</td>
</tr>
<tr>
<td>mouseEntered(MouseEvent e)</td>
<td>鼠标进入控件区域时执行的方法</td>
</tr>
<tr>
<td>mouseExited(MouseEvent e)</td>
<td>鼠标离开控件区域时执行的方法</td>
</tr>
<tr>
<td>mousePressed(MouseEvent e)</td>
<td>按下鼠标按键时执行的方法</td>
</tr>
<tr>
<td>mouseReleased(MouseEvent e)</td>
<td>释放鼠标按键时执行的方法</td>
</tr>
</tbody>
</table>
<p>MouseMotionListener接口的两个方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>mouseMoved(MouseEvent e)</td>
<td>处理鼠标移动事件的方法</td>
</tr>
<tr>
<td>mouseDragged(MouseEvent e)</td>
<td>处理鼠标拖动事件的方法</td>
</tr>
</tbody>
</table>
<p>以上两个鼠标监听器的方法都定义了MouseEvent类型的形参，MouseEvent类是鼠标事件类，可以通过此类的下面方法获取相应属性:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>getButton()</td>
<td>返回更改了状态的鼠标按键(如果有)</td>
</tr>
<tr>
<td>getClickCount()</td>
<td>返回与此事件关联的鼠标单击参数</td>
</tr>
<tr>
<td>getLocationOnScreen()</td>
<td>返回鼠标相对于屏幕的绝对x,y坐标</td>
</tr>
<tr>
<td>getPoint()</td>
<td>返回事件相对于源控件的x,y坐标</td>
</tr>
<tr>
<td>translatePoint(int x,int y)</td>
<td>通过将事件坐标加上指定的x(水平)和y(垂直)偏移量，将事件的坐标平移到新位置</td>
</tr>
</tbody>
</table>
<p>为控件添加鼠标事件步骤:<br>(1)创建MouseListenser对象<br>(2)调用addMouseListener()方法为控件注册MouseListenser对象作为监听器<br>(3)在控件上操作鼠标生成的鼠标事件<br>(4)执行MouseListenser对象的方法完成鼠标事件的处理</p>
<p>实例:添加鼠标事件跟踪鼠标的变化<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> UseMouseEventFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">UseMouseEventFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		setTitle(<span class="string">"鼠标事件"</span>);</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">325</span>, <span class="number">204</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JLabel label=<span class="keyword">new</span> JLabel();</span><br><span class="line">		label.addMouseListener(<span class="keyword">new</span> MouseAdapter() &#123;<span class="comment">//MouseAdapter()</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseClicked</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				label.setText(<span class="string">"在标签上单击鼠标"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseEntered</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				label.setText(<span class="string">"鼠标进入标签"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseExited</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				label.setText(<span class="string">"鼠标移出标签"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mousePressed</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				label.setText(<span class="string">"在标签上按下鼠标按键"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseReleased</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				label.setText(<span class="string">"在标签上释放鼠标按键"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		label.setOpaque(<span class="literal">true</span>);<span class="comment">//将标签设置为不透明</span></span><br><span class="line">		label.setBackground(Color.PINK);</span><br><span class="line">		label.setText(<span class="string">"显示鼠标事件的标签"</span>);<span class="comment">//设置标签上的显示文本</span></span><br><span class="line">		label.setBounds(<span class="number">70</span>, <span class="number">38</span>, <span class="number">171</span>, <span class="number">83</span>);</span><br><span class="line">		getContentPane().add(label);<span class="comment">//标签加入窗体</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		UseMouseEventFrame frame=<span class="keyword">new</span> UseMouseEventFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>部分效果如下:<br><img src="/img/javause/26.png" alt="图片"><br><img src="/img/javause/27.png" alt="图片"></p>
<h2 id="5-_u952E_u76D8_u63A7_u5236"><a href="#5-_u952E_u76D8_u63A7_u5236" class="headerlink" title="5.键盘控制"></a>5.键盘控制</h2><p>键盘事件监听器由KeyListener接口定义，3个方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>keyPressed(KeyEvent e)</td>
<td>按下某个按键时调用</td>
</tr>
<tr>
<td>keyReleased(KeyEvent e)</td>
<td>释放某个按键时调用</td>
</tr>
<tr>
<td>keyTyped(KeyEvent e)</td>
<td>键入某个按键时调用</td>
</tr>
</tbody>
</table>
<p>KeyEvent类中的方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>char getKeyChar()</td>
<td>返回与此事件中的键关联的字符</td>
</tr>
<tr>
<td>int getKeyCode()</td>
<td>返回与此事件中的键关联的整数keyCode</td>
</tr>
<tr>
<td>String getKeyModifiersText(int modifiers)</td>
<td>返回描述修改键的String,如”Shift”或者”Ctrl+Shift”</td>
</tr>
<tr>
<td>String getKeyText(int keyCode)</td>
<td>返回描述KeyCode的String,如”HOME”、”F1”或者”A”</td>
</tr>
<tr>
<td>boolean isActionKey()</td>
<td>返回此事件中的键是否为”动作”键</td>
</tr>
<tr>
<td>setKeyChar(char keyChar)</td>
<td>设置keyCode值。以表示某个逻辑字符</td>
</tr>
<tr>
<td>setKeyCode(int keyCode)</td>
<td>设置keyCode值。以表示某个物理键</td>
</tr>
</tbody>
</table>
<p>KeyEvent类对应按键常量(这里是部分，其他参考JDK文档):</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>VK_A到VK_Z</td>
<td>对应键盘的”A”到”Z”按键</td>
</tr>
<tr>
<td>VK_0到VK_9</td>
<td>对应键盘的”0”到”9”按键</td>
</tr>
<tr>
<td>VK_F1到VK_F24</td>
<td>对应键盘的”F1”到”F24”按键,普通键盘支持到F12</td>
</tr>
<tr>
<td>VK_NUMPAD0到VK_NUMPAD9</td>
<td>对应小键盘的”0”到”9”按键</td>
</tr>
<tr>
<td>VK_ALT</td>
<td>对应键盘的”Alt”按键</td>
</tr>
<tr>
<td>VK_BACK_SLASH</td>
<td>对应键盘的”\”按键</td>
</tr>
<tr>
<td>VK_CONTROL</td>
<td>对应键盘的”Ctrl”按键</td>
</tr>
<tr>
<td>VK_DELETE</td>
<td>对应键盘的”Delete”按键</td>
</tr>
<tr>
<td>VK_END</td>
<td>对应键盘的”End”按键</td>
</tr>
<tr>
<td>VK_ENTER</td>
<td>对应键盘的”Enter”按键</td>
</tr>
<tr>
<td>VK_EQUALS</td>
<td>对应键盘的”=”按键</td>
</tr>
<tr>
<td>VK_ESCAPE</td>
<td>对应键盘的”Esc”按键</td>
</tr>
<tr>
<td>VK_INSERT</td>
<td>对应键盘的”Insert”按键</td>
</tr>
<tr>
<td>VK_LEFT</td>
<td>对应键盘的左方向按键</td>
</tr>
<tr>
<td>VK_PERIOD</td>
<td>对应键盘的”.”按键</td>
</tr>
<tr>
<td>VK_RIGTH</td>
<td>对应键盘的右方向按键</td>
</tr>
<tr>
<td>VK_SHIFT</td>
<td>对应键盘的”Shift”按键</td>
</tr>
<tr>
<td>VK_SLASH</td>
<td>对应键盘的”/“按键</td>
</tr>
</tbody>
</table>
<p>为控件添加键盘事件步骤:<br>(1)创建KeyListener对象<br>(2)调用addKeyLisenter()方法为控件注册KeyListener对象作为监听器<br>(3)操作键盘生成键盘事件<br>(4)执行KeyListener对象的方法，完成键盘事件的处理</p>
<p>实例:按下上下左右键时，不规则按钮位置随着变化<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> KeyDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">KeyDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();<span class="comment">//创建面板</span></span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">490</span>, <span class="number">490</span>);</span><br><span class="line">		getContentPane().add(panel);<span class="comment">//面板添加到窗体</span></span><br><span class="line">		final JButton button=<span class="keyword">new</span> JButton();</span><br><span class="line">		button.addKeyListener(<span class="keyword">new</span> KeyAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">keyPressed</span><span class="params">(KeyEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">int</span> key=e.getKeyCode();<span class="comment">//获取用户的按键信息</span></span><br><span class="line">				<span class="keyword">int</span> x=button.getX();</span><br><span class="line">				<span class="keyword">int</span> y=button.getY();</span><br><span class="line">				<span class="keyword">if</span>(key==<span class="number">39</span>)&#123;<span class="comment">//用户按下右键情况</span></span><br><span class="line">					x+=<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(key==<span class="number">37</span>)&#123;<span class="comment">//左</span></span><br><span class="line">					x-=<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(key==<span class="number">38</span>)&#123;<span class="comment">//上</span></span><br><span class="line">					y-=<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(key==<span class="number">40</span>)&#123;<span class="comment">//下</span></span><br><span class="line">					y+=<span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				button.setLocation(x, y);<span class="comment">//重新定义按钮位置</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		button.setContentAreaFilled(<span class="literal">false</span>);<span class="comment">//不填充按钮区域</span></span><br><span class="line">		button.setBorder(null);<span class="comment">//不显示按钮边框</span></span><br><span class="line">		URL url=getClass().getResource(<span class="string">"bee.jpg"</span>);</span><br><span class="line">		ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);<span class="comment">//根据URL创建图片对象</span></span><br><span class="line">		button.setIcon(icon);<span class="comment">//设置按钮显示图片</span></span><br><span class="line">		button.setBounds(<span class="number">45</span>, <span class="number">48</span>, <span class="number">80</span>, <span class="number">80</span>);</span><br><span class="line">		panel.add(button);<span class="comment">//按钮添加到面板</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		KeyDemo demo=<span class="keyword">new</span> KeyDemo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>按上下左右键图片对应移动<br><img src="/img/javause/28.png" alt="图片"></p>
<h2 id="6-_u7EC3_u4E60"><a href="#6-_u7EC3_u4E60" class="headerlink" title="6.练习"></a>6.练习</h2><p>(1)登录窗体<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> SelectUser &#123;</span><br><span class="line">	Connection conn=null;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//加载驱动程序</span></span><br><span class="line">			System.out.println(<span class="string">"数据库驱动加载成功"</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ClassNotFoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Connection <span class="title">getConn</span><span class="params">()</span></span>&#123;</span><br><span class="line">		String url=<span class="string">"jdbc:mysql://127.0.0.1:3306/test"</span>;<span class="comment">//3306：端口号 test：数据库名称</span></span><br><span class="line">		String userName=<span class="string">"root"</span>;</span><br><span class="line">		String passwd=<span class="string">""</span>;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn=DriverManager.getConnection(url,userName,passwd);</span><br><span class="line">			<span class="keyword">if</span>(conn != null)&#123;</span><br><span class="line">				System.out.println(<span class="string">"数据库连接成功!"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> conn;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查询用户密码，有则返回true,没有则返回false</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> boolean <span class="title">selectUser</span><span class="params">(String user,String passwd)</span></span>&#123;</span><br><span class="line">		SelectUser selectUser=<span class="keyword">new</span> SelectUser();</span><br><span class="line">		Connection connection=selectUser.getConn();<span class="comment">//获取数据库连接</span></span><br><span class="line">		String sql=<span class="string">"select * from user where name=? and passwd=?"</span>;<span class="comment">//查询的sql语句</span></span><br><span class="line">		<span class="comment">//使用预处理语句进行查询</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			PreparedStatement pStatement=connection.prepareStatement(sql);</span><br><span class="line">			pStatement.setString(<span class="number">1</span>, user);</span><br><span class="line">			pStatement.setString(<span class="number">2</span>, passwd);</span><br><span class="line">			ResultSet rest=pStatement.executeQuery();<span class="comment">//查询结果</span></span><br><span class="line">			<span class="keyword">if</span>(rest.next())&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> EntryFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">EntryFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		getContentPane().setLayout(null);<span class="comment">//窗体设置为绝对布局</span></span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>,<span class="number">320</span>,<span class="number">180</span>);<span class="comment">//窗体显示位置和大小</span></span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();<span class="comment">//定义面板组件</span></span><br><span class="line">		panel.setLayout(null);<span class="comment">//面板布局方式</span></span><br><span class="line">		panel.setBounds(<span class="number">0</span>,<span class="number">0</span>,<span class="number">316</span>,<span class="number">150</span>);<span class="comment">//面板位置和大小</span></span><br><span class="line">		getContentPane().add(panel);<span class="comment">//窗体中添加面板</span></span><br><span class="line">		</span><br><span class="line">		final JLabel name =<span class="keyword">new</span> JLabel();<span class="comment">//标签</span></span><br><span class="line">		name.setFont(<span class="keyword">new</span> Font(<span class="string">"微软雅黑"</span>, Font.PLAIN,<span class="number">12</span>));<span class="comment">//设置标签显示字体样式</span></span><br><span class="line">		name.setText(<span class="string">"用户名："</span>);<span class="comment">//设置标签显示内容</span></span><br><span class="line">		name.setBounds(<span class="number">62</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">26</span>);</span><br><span class="line">		panel.add(name);</span><br><span class="line">		final JTextField nameTextField=<span class="keyword">new</span> JTextField();<span class="comment">//文本控件框</span></span><br><span class="line">		nameTextField.setBounds(<span class="number">120</span>,<span class="number">30</span>,<span class="number">129</span>,<span class="number">22</span>);</span><br><span class="line">		panel.add(nameTextField);</span><br><span class="line">		</span><br><span class="line">		final JLabel passWd =<span class="keyword">new</span> JLabel();<span class="comment">//标签</span></span><br><span class="line">		passWd.setFont(<span class="keyword">new</span> Font(<span class="string">"微软雅黑"</span>, Font.PLAIN,<span class="number">12</span>));<span class="comment">//设置标签显示字体样式</span></span><br><span class="line">		passWd.setText(<span class="string">"密码："</span>);<span class="comment">//设置标签显示内容</span></span><br><span class="line">		passWd.setBounds(<span class="number">65</span>,<span class="number">55</span>,<span class="number">44</span>,<span class="number">18</span>);</span><br><span class="line">		panel.add(passWd);</span><br><span class="line">		final JTextField passWdTextField=<span class="keyword">new</span> JTextField();<span class="comment">//文本控件框</span></span><br><span class="line">		passWdTextField.setBounds(<span class="number">120</span>,<span class="number">58</span>,<span class="number">129</span>,<span class="number">22</span>);</span><br><span class="line">		panel.add(passWdTextField);</span><br><span class="line">		</span><br><span class="line">		final JButton entry=<span class="keyword">new</span> JButton();</span><br><span class="line">		entry.setText(<span class="string">"登录"</span>);</span><br><span class="line">		entry.setBounds(<span class="number">84</span>,<span class="number">104</span>,<span class="number">64</span>,<span class="number">28</span>);</span><br><span class="line">		panel.add(entry);</span><br><span class="line">		final JButton cancel=<span class="keyword">new</span> JButton();</span><br><span class="line">		cancel.setText(<span class="string">"关闭"</span>);</span><br><span class="line">		cancel.setBounds(<span class="number">170</span>,<span class="number">104</span>,<span class="number">64</span>,<span class="number">28</span>);</span><br><span class="line">		panel.add(cancel);	</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//登录按钮单击事件</span></span><br><span class="line">		entry.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				String name=nameTextField.getText();<span class="comment">//获取用户输入名字</span></span><br><span class="line">				String passwd=passWdTextField.getText();<span class="comment">//获取用户输入密码</span></span><br><span class="line">				<span class="keyword">if</span>(!name.equals(<span class="string">""</span>)&amp;&amp;!passwd.equals(<span class="string">""</span>))&#123;<span class="comment">//输入 不为空时</span></span><br><span class="line">					SelectUser selectUser=<span class="keyword">new</span> SelectUser();</span><br><span class="line">					boolean <span class="keyword">bool</span>=selectUser.selectUser(name, passwd);</span><br><span class="line">					<span class="keyword">if</span>(<span class="literal">true</span>==<span class="keyword">bool</span>)&#123;</span><br><span class="line">						JOptionPane.showConfirmDialog(null, <span class="string">"用户名密码正确"</span>,<span class="string">"信息提示框"</span>,JOptionPane.WARNING_MESSAGE);</span><br><span class="line">					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">						JOptionPane.showConfirmDialog(null, <span class="string">"用户名密码不正确"</span>,<span class="string">"信息提示框"</span>,JOptionPane.WARNING_MESSAGE);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					JOptionPane.showConfirmDialog(null, <span class="string">"请输入用户名密码"</span>,<span class="string">"信息提示框"</span>,JOptionPane.WARNING_MESSAGE);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		cancel.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.<span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">//关闭窗体</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		EntryFrame frame=<span class="keyword">new</span> EntryFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br>user数据表:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>passwd</th>
</tr>
</thead>
<tbody>
<tr>
<td>zhang</td>
<td>1</td>
</tr>
<tr>
<td>li</td>
<td>1</td>
</tr>
</tbody>
</table>
<p><img src="/img/javause/29.png" alt="图片"><br><img src="/img/javause/30.png" alt="图片"></p>
<p>(2)匹配游戏<br>通过图片的拖拽应用鼠标事件实现匹配<br>用1个面板放窗体底部，上面加3个JLabel标签代表图片匹配的位置，再创建1个面板上面加3个JLabel标签用于显示3个图片<br>实现了MouseListener和MouseMotionListener接口<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Matching extends JFrame implements MouseListener,</span><br><span class="line">		MouseMotionListener &#123;</span><br><span class="line">	<span class="keyword">private</span> JLabel img[]=<span class="keyword">new</span> JLabel[<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">private</span> JLabel targets[]=<span class="keyword">new</span> JLabel[<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">private</span> Point pressPoint;<span class="comment">//按住鼠标时的坐标</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Matching</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">364</span>, <span class="number">312</span>);</span><br><span class="line">		setTitle(<span class="string">"匹配游戏"</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel imagePanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		imagePanel.setLayout(null);</span><br><span class="line">		imagePanel.setOpaque(<span class="literal">false</span>);<span class="comment">//设置控件透明</span></span><br><span class="line">		setGlassPane(imagePanel);<span class="comment">//public Component getGlassPane()设置 glassPane 属性  GlassPane是透明的，用来捕获鼠标事件</span></span><br><span class="line">		getGlassPane().setVisible(<span class="literal">true</span>);<span class="comment">///////</span></span><br><span class="line">		ImageIcon[] icon=<span class="keyword">new</span> ImageIcon[<span class="number">3</span>];</span><br><span class="line">		icon[<span class="number">0</span>]=<span class="keyword">new</span> ImageIcon(getClass().getResource(<span class="string">"bee.jpg"</span>));</span><br><span class="line">		icon[<span class="number">1</span>]=<span class="keyword">new</span> ImageIcon(getClass().getResource(<span class="string">"fish.jpg"</span>));</span><br><span class="line">		icon[<span class="number">2</span>]=<span class="keyword">new</span> ImageIcon(getClass().getResource(<span class="string">"dog.jpg"</span>));</span><br><span class="line">		final JPanel bottomPanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		bottomPanel.setLayout(<span class="keyword">new</span> FlowLayout(FlowLayout.CENTER,<span class="number">20</span>,<span class="number">3</span>));<span class="comment">//距离上面为3，左右间距20</span></span><br><span class="line">		bottomPanel.setBounds(<span class="number">20</span>, <span class="number">180</span>, <span class="number">300</span>, <span class="number">80</span>);<span class="comment">//没有这行则不显示出目标面板</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">			img[i]=<span class="keyword">new</span> JLabel(icon[i]);</span><br><span class="line">			img[i].setSize(<span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">			img[i].setBorder(<span class="keyword">new</span> LineBorder(Color.GRAY));<span class="comment">//设置线性边框</span></span><br><span class="line">			<span class="keyword">int</span> x=(<span class="keyword">int</span>) (Math.random()*(getWidth()-<span class="number">50</span>));</span><br><span class="line">			<span class="keyword">int</span> y=(<span class="keyword">int</span>) (Math.random()*(getHeight()-<span class="number">150</span>));</span><br><span class="line">			img[i].setLocation(x, y);</span><br><span class="line">			img[i].addMouseListener(<span class="keyword">this</span>);<span class="comment">//鼠标监听器</span></span><br><span class="line">			img[i].addMouseMotionListener(<span class="keyword">this</span>);</span><br><span class="line">			imagePanel.add(img[i]);</span><br><span class="line">			targets[i]=<span class="keyword">new</span> JLabel();</span><br><span class="line">			targets[i].setOpaque(<span class="literal">true</span>);<span class="comment">//标签不透明，显示背景颜色</span></span><br><span class="line">			targets[i].setBackground(Color.ORANGE);</span><br><span class="line">			targets[i].setHorizontalTextPosition(SwingConstants.CENTER);<span class="comment">//设置文本域图像水平居中</span></span><br><span class="line">			targets[i].setVerticalTextPosition(SwingConstants.BOTTOM);<span class="comment">//设置文本显示在图像下方</span></span><br><span class="line">			targets[i].setPreferredSize(<span class="keyword">new</span> Dimension(<span class="number">80</span>,<span class="number">80</span>));<span class="comment">//设置标签首选大小</span></span><br><span class="line">			targets[i].setHorizontalAlignment(SwingConstants.CENTER);<span class="comment">//文字居中对齐</span></span><br><span class="line">			bottomPanel.add(targets[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		targets[<span class="number">0</span>].setText(<span class="string">"蜜蜂"</span>);</span><br><span class="line">		targets[<span class="number">1</span>].setText(<span class="string">"小鱼"</span>);</span><br><span class="line">		targets[<span class="number">2</span>].setText(<span class="string">"小狗"</span>);</span><br><span class="line">		getContentPane().add(bottomPanel,BorderLayout.SOUTH);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">private</span> boolean <span class="title">check</span><span class="params">()</span></span>&#123;</span><br><span class="line">		boolean result=<span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">			Point location=img[i].getLocationOnScreen();<span class="comment">//获取每个图像标签的位置</span></span><br><span class="line">			Point seat=targets[i].getLocationOnScreen();<span class="comment">//获取每个对应位置的坐标</span></span><br><span class="line">			targets[i].setBackground(Color.GREEN);<span class="comment">//设置匹配后的颜色</span></span><br><span class="line">			<span class="keyword">if</span>(location.x&lt;seat.x||location.y&lt;seat.y||location.x&gt;seat.x+<span class="number">80</span>||location.y&gt;seat.y+<span class="number">80</span>)&#123;<span class="comment">//匹配失败情况</span></span><br><span class="line">				targets[i].setBackground(Color.ORANGE);<span class="comment">//恢复原来的颜色</span></span><br><span class="line">				result=<span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mousePressed</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">		pressPoint=e.getPoint();<span class="comment">//保存拖放图片标签时的起始坐标</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseDragged</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">		JLabel sourse=(JLabel) e.getSource();<span class="comment">//获取事件源控件</span></span><br><span class="line">		Point imgPoint=sourse.getLocation();<span class="comment">//获取控件坐标</span></span><br><span class="line">		Point point=e.getPoint();<span class="comment">//获取鼠标坐标</span></span><br><span class="line">		sourse.setLocation(imgPoint.x+point.x-pressPoint.x, imgPoint.y+point.y-pressPoint.y);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseReleased</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(check())&#123;<span class="comment">//如果配对成功</span></span><br><span class="line">			getGlassPane().setVisible(<span class="literal">false</span>);</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;<span class="comment">//遍历所有匹配位置的标签</span></span><br><span class="line">				targets[i].setText(<span class="string">"匹配成功"</span>);</span><br><span class="line">				targets[i].setIcon(img[i].getIcon());<span class="comment">//设置匹配的图标</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseMoved</span><span class="params">(MouseEvent e)</span> </span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseClicked</span><span class="params">(MouseEvent e)</span> </span>&#123;&#125;	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseEntered</span><span class="params">(MouseEvent e)</span> </span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseExited</span><span class="params">(MouseEvent e)</span> </span>&#123;&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Matching matching=<span class="keyword">new</span> Matching();</span><br><span class="line">		matching.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行效果:</p>
<p><img src="/img/javause/31.png" alt="图片"><br><img src="/img/javause/32.png" alt="图片"><br><img src="/img/javause/33.png" alt="图片"></p>
<p>补充:<br>都实现对事件监听的适配器与事件监听接口区别:<br>监听器有些方法用不到，用接口必须重写方法，适配器是对监听器的一个简化，适配器是抽象类，但类中方法并不是抽象的，可以对需要的方法重写，从而简化代码。</p>
<h1 id="u7B2C_u5341_u4E00_u7AE0_Swing_u7684_u9AD8_u7EA7_u63A7_u4EF6"><a href="#u7B2C_u5341_u4E00_u7AE0_Swing_u7684_u9AD8_u7EA7_u63A7_u4EF6" class="headerlink" title="第十一章 Swing的高级控件"></a>第十一章 Swing的高级控件</h1><p>Swing提供了一些高级控件如文本编辑器、工具栏、菜单、系统托盘等。</p>
<h2 id="1-_u83DC_u5355"><a href="#1-_u83DC_u5355" class="headerlink" title="1.菜单"></a>1.菜单</h2><p>向框架中添加菜单需要3个类:菜单栏类(JMenuBar)、菜单类(JMenu)、菜单项类(JMenuItem)</p>
<p>(1)添加菜单步骤<br>创建菜单栏-&gt;创建菜单-&gt;创建菜单项</p>
<p>A.创建菜单栏<br>使用JMenuBar创建菜单栏，使用JFrame类的setJMenuBar()方法将菜单栏添加到窗体。<br>具体如下：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JMenuBar mb=<span class="keyword">new</span> JMenuBar();</span><br><span class="line">setJMenuBar(mb);<span class="comment">//易错-------------------------------区别于其add()方法</span></span><br><span class="line">备注:JMenuBar实例的add()方法实现在菜单栏中添加菜单对象</span><br></pre></td></tr></table></figure></p>
<p>B.创建菜单<br>使用JMenu创建菜单，使用JMenuBar类的add()方法将菜单添加到菜单栏中。<br>JMenu构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JMenu</span><span class="params">()</span></span>           <span class="comment">//创建没有文本的新菜单</span></span><br><span class="line"><span class="function"><span class="title">JMenu</span><span class="params">(String s)</span></span>   <span class="comment">//创建一个初始文本为指定字符串的新菜单</span></span><br></pre></td></tr></table></figure></p>
<p>JMenu类常用方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>add(JMenuItem menuItem)</td>
<td>将某个菜单项追加到此菜单的末尾</td>
</tr>
<tr>
<td>insert(JMenuItem menuItem,int pos)</td>
<td>在给定位置插入指定的菜单项</td>
</tr>
<tr>
<td>addSeparator()</td>
<td>将新分隔符追加到菜单的末尾</td>
</tr>
<tr>
<td>insertSeparator(int pos)</td>
<td>在指定的位置插入分隔符</td>
</tr>
</tbody>
</table>
<p>C.创建菜单项<br>菜单项用于执行某个特定的命令，完成特定的操作(打开窗口，退出程序等)，可以从相应的菜单中选择菜单项。<br>使用JMenuItem创建菜单项，使用JMenu的add()方法添加到菜单上.<br>通过JMenuItem类可以创建普通的文字菜单项，也可以创建带有图片的菜单项。<br>JMenuItem类常见构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JMenuItem</span><span class="params">()</span></span>			                   <span class="comment">//创建不带有文本或者图标的菜单项</span></span><br><span class="line"><span class="function"><span class="title">JMenuItem</span><span class="params">(String text)</span></span>                 <span class="comment">//创建带有指定文本的菜单项</span></span><br><span class="line"><span class="function"><span class="title">JMenuItem</span><span class="params">(Icon icon)</span></span>                   <span class="comment">//创建带有指定图标的菜单项</span></span><br><span class="line"><span class="function"><span class="title">JMenuItem</span><span class="params">(String text,Icon icon)</span></span>       <span class="comment">//创建带有文本或者图标的菜单项</span></span><br></pre></td></tr></table></figure></p>
<p>菜单项的添加动作事件可以使用addActionListener(ActionListener actionListener)实现。</p>
<p>实例:创建菜单”文件”，在其中添加菜单项”打开”和”退出”,在”打开”项添加图片文件，退出项添加单击事件<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> MenuDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MenuDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setTitle(<span class="string">"创建菜单"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">240</span>, <span class="number">160</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		JMenuBar menuBar=<span class="keyword">new</span> JMenuBar();<span class="comment">//创建菜单栏</span></span><br><span class="line">		JMenu menu_file=<span class="keyword">new</span> JMenu(<span class="string">"文件"</span>);<span class="comment">//创建菜单“文件”</span></span><br><span class="line">		URL url=getClass().getResource(<span class="string">"file.png"</span>);</span><br><span class="line">		ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);<span class="comment">//图片实例</span></span><br><span class="line">		JMenuItem menuItem_open=<span class="keyword">new</span> JMenuItem(<span class="string">"打开"</span>, icon);<span class="comment">//菜单项"打开"</span></span><br><span class="line">		JMenuItem menuItem_exit=<span class="keyword">new</span> JMenuItem(<span class="string">"退出"</span>);</span><br><span class="line">		menuItem_exit.addActionListener(<span class="keyword">new</span> ActionListener() &#123;<span class="comment">//菜单项"退出"监听事件</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		menu_file.add(menuItem_open);<span class="comment">//添加菜单项</span></span><br><span class="line">		menu_file.addSeparator();<span class="comment">//打开和退出之间添加分隔符</span></span><br><span class="line">		menu_file.add(menuItem_exit);</span><br><span class="line">		menuBar.add(menu_file);</span><br><span class="line">		setJMenuBar(menuBar);<span class="comment">//菜单栏添加到窗体</span></span><br><span class="line">		</span><br><span class="line">	<span class="comment">//二级菜单如下</span></span><br><span class="line">		JMenu menu_new=<span class="keyword">new</span> JMenu(<span class="string">"新建"</span>);<span class="comment">//创建菜单“新建”</span></span><br><span class="line">		menu_file.add(menu_new);<span class="comment">//将菜单"新建"添加到菜单"文件"</span></span><br><span class="line">		JMenuItem menuItem_txt=<span class="keyword">new</span> JMenuItem(<span class="string">"文本"</span>);</span><br><span class="line">		menu_new.add(menuItem_txt);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MenuDemo frame=<span class="keyword">new</span> MenuDemo();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/34.png" alt="图片"><br><img src="/img/javause/35.png" alt="图片"></p>
<p>(2)创建弹出式菜单<br>弹出式菜单就是单击鼠标右键时弹出的菜单，弹出式菜单由鼠标位置决定弹出菜单位置。<br>使用JPopupMenu类表示弹出式菜单。<br>JPopupMenu类构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JPopupMenu</span><span class="params">()</span></span>             <span class="comment">//构造一个新的弹出式菜单</span></span><br><span class="line"><span class="function"><span class="title">JPopupMenu</span><span class="params">(String label)</span></span> <span class="comment">//构造一个有标题的弹出式菜单</span></span><br></pre></td></tr></table></figure></p>
<p>可以通过add()方法向JPopupMenu类中添加JMenuItem对象</p>
<p>JPopupMenu类常用方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>add(JMenuItem menuItem)</td>
<td>将指定菜单项添加到此弹出菜单的末尾</td>
</tr>
<tr>
<td>addSeparator()</td>
<td>将新分隔符添加到菜单的末尾</td>
</tr>
<tr>
<td>isPopupTrigger(MouseEvevt e)</td>
<td>如果弹出菜单的当前组件将鼠标事件视为弹出菜单的触发器，则返回true</td>
</tr>
<tr>
<td>show(Component parent,int x,int y)</td>
<td>在组件调用者的坐标空间中的位置(x,y)处显示弹出菜单</td>
</tr>
</tbody>
</table>
<p>实例如下:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JPopupMenuDemo</span> <span class="keyword">extends</span> <span class="title">JFrame</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">JPopupMenuDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">250</span>, <span class="number">203</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		getContentPane().setLayout(<span class="keyword">null</span>);</span><br><span class="line">		<span class="keyword">final</span> JPopupMenu menu=<span class="keyword">new</span> JPopupMenu(<span class="string">"编辑"</span>);</span><br><span class="line">		JMenuItem copy=<span class="keyword">new</span> JMenuItem(<span class="string">"编辑"</span>);</span><br><span class="line">		JMenuItem stick=<span class="keyword">new</span> JMenuItem(<span class="string">"粘贴"</span>);</span><br><span class="line">		JMenuItem cut=<span class="keyword">new</span> JMenuItem(<span class="string">"剪切"</span>);</span><br><span class="line">		menu.add(copy);</span><br><span class="line">		menu.add(stick);</span><br><span class="line">		menu.add(cut);</span><br><span class="line">		<span class="keyword">this</span>.addMouseListener(<span class="keyword">new</span> MouseAdapter() &#123;<span class="comment">//为标签添加鼠标监听器</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseReleased</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(e.isPopupTrigger())&#123;<span class="comment">//如果弹出菜单的当前组件将鼠标事件视为弹出菜单的触发器</span></span><br><span class="line">					menu.show(e.getComponent(), e.getX(), e.getY());<span class="comment">//鼠标右键单击处显示</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		JPopupMenuDemo demo=<span class="keyword">new</span> JPopupMenuDemo();</span><br><span class="line">		demo.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>鼠标右键:<br><img src="/img/javause/36.png" alt="图片"></p>
<h2 id="2-_u5DE5_u5177_u680F"><a href="#2-_u5DE5_u5177_u680F" class="headerlink" title="2.工具栏"></a>2.工具栏</h2><p>javax.swing.JToolBar类创建工具栏，而对话框包括信息对话框、文件对话框等。<br>(1)创建工具栏并添加工具按钮<br>与菜单相比，工具栏更适合使用图像来表示命令，窗体中工具栏紧挨着菜单栏。工具栏与菜单栏一样是控件容器，可以添加菜单、组合框等。<br>JToolBar类常用构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JToolBar</span><span class="params">()</span></span>                   <span class="comment">//构造一个默认位置为水平方向的工具栏</span></span><br><span class="line"><span class="function"><span class="title">JToolBar</span><span class="params">(String name)</span></span>        <span class="comment">//构造一个默认位置为水平方向，当工具栏成为浮动状态时具有指定的图标</span></span><br></pre></td></tr></table></figure></p>
<p>JToolBar类常用方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Component add(Component c)</td>
<td>在工具栏末尾添加指定组件如按钮、复选框、单选按钮等</td>
</tr>
<tr>
<td>void addSeparator()</td>
<td>将默认大小的分隔符添加到工具栏末尾</td>
</tr>
<tr>
<td>void addSeparator(Dimension size)</td>
<td>将指定大小的分隔符添加到工具栏末尾</td>
</tr>
<tr>
<td>void setFloatable(boolean b)</td>
<td>设置工具栏是否可以移动，可以移动设置为true</td>
</tr>
</tbody>
</table>
<p>备注:如果希望工具栏可以随意移动，窗体一定要采用默认的边界布局方式，并且不能在边界布局的四周添加任何控件。</p>
<p>实例：在窗体中添加可移动的工具栏对象，并在工具栏中添加”新建”、”保存”、”退出”按钮。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/37.png" alt="图片"><br><img src="/img/javause/38.png" alt="图片"><br><img src="/img/javause/39.png" alt="图片"></p>
<p>(2)文件对话框<br>实际应用中经常需要选择文件，如读取文件或者选择指定类型文件等。通过javax.swing.JFileChooser类实现。<br>JFileChooser类常用构造方法:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JFileChooser</span><span class="params">()</span></span>                <span class="comment">//构造一个指定默认目录的文件选择对话框</span></span><br><span class="line"><span class="function"><span class="title">JFileChooser</span><span class="params">(File f)</span></span>          <span class="comment">//使用给定的File作为路径来构造一个文件选择对话框</span></span><br><span class="line"><span class="function"><span class="title">JFileChooser</span><span class="params">(String dif)</span></span>      <span class="comment">//构造一个使用给定路径的选择对话框</span></span><br><span class="line"></span><br><span class="line">重要字段:</span><br><span class="line">APPROVE_OPTION-------------单击了打开按钮，用户选择了文件，可以对文件进行操作</span><br><span class="line">CANCEL_OPTION--------------单击了取消按钮，用户没有选择文件</span><br><span class="line"></span><br><span class="line">方法:</span><br><span class="line">int <span class="function"><span class="title">showOPenDialog</span><span class="params">()</span></span>---------显示对话框</span><br></pre></td></tr></table></figure></p>
<p>实例:文件菜单中添加打开项，弹出打开文件对话框<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> FileChooseDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FileChooseDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">294</span>, <span class="number">167</span>);</span><br><span class="line">		setTitle(<span class="string">"文件选择对话框"</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		JMenuBar menuBar=<span class="keyword">new</span> JMenuBar();<span class="comment">//菜单栏</span></span><br><span class="line">		setJMenuBar(menuBar);<span class="comment">//添加到窗体</span></span><br><span class="line">		JMenu menu=<span class="keyword">new</span> JMenu(<span class="string">"文件"</span>);<span class="comment">//菜单</span></span><br><span class="line">		menuBar.add(menu);<span class="comment">//添加菜单</span></span><br><span class="line">		JMenuItem open=<span class="keyword">new</span> JMenuItem(<span class="string">"打开"</span>);<span class="comment">//菜单项</span></span><br><span class="line">		menu.add(open);</span><br><span class="line">		open.addActionListener(<span class="keyword">new</span> ActionListener() &#123;<span class="comment">//添加单击事件</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;<span class="comment">/////////////////////////////////////</span></span><br><span class="line">				JFileChooser fileChooser=<span class="keyword">new</span> JFileChooser();<span class="comment">//文件选择对话框</span></span><br><span class="line">				fileChooser.showOpenDialog(getContentPane());<span class="comment">//显示对话框</span></span><br><span class="line">				<span class="comment">//public int showOpenDialog(Component parent)-------parent - 该对话框的父组件，可以为 null</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		FileChooseDemo demo=<span class="keyword">new</span> FileChooseDemo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/40.png" alt="图片"></p>
<p>文件过滤器:<br>JFileChooser类的方法setFileFilter(FileFilter filter)对文件选择框实现过滤，只显示指定类型文件。<br>该方法的参数类型javax.swing.filechooser.FileFilter为一个抽象类，实现该类可以对文件进行过滤。<br>FileFilter类方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>public abstract boolean accept(File file)</td>
<td>过滤文件</td>
</tr>
<tr>
<td>public abstract String getDescription()</td>
<td>返回选择对话框中文件类型的描述信息</td>
</tr>
</tbody>
</table>
<p>javax.swing.filechooser.FileNameExtensionFilter实现了FileFilter类。<br>FileNameExtensionFilter只有一个构造方法：<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FileNameExtensionFilter(<span class="built_in">String</span> description,<span class="built_in">String</span><span class="attribute">...</span>extensions) <span class="comment">//description文件选择对话框中文件类型的描述信息，extensions文件对话框中允许显示的文件类型，多个文件类型用逗号分隔。</span></span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> FileChooseDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FileChooseDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">294</span>, <span class="number">167</span>);</span><br><span class="line">		setTitle(<span class="string">"文件选择对话框"</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		JMenuBar menuBar=<span class="keyword">new</span> JMenuBar();<span class="comment">//菜单栏</span></span><br><span class="line">		setJMenuBar(menuBar);<span class="comment">//添加到窗体</span></span><br><span class="line">		JMenu menu=<span class="keyword">new</span> JMenu(<span class="string">"文件"</span>);<span class="comment">//菜单</span></span><br><span class="line">		menuBar.add(menu);<span class="comment">//添加菜单</span></span><br><span class="line">		JMenuItem open=<span class="keyword">new</span> JMenuItem(<span class="string">"打开"</span>);<span class="comment">//菜单项</span></span><br><span class="line">		menu.add(open);</span><br><span class="line">		open.addActionListener(<span class="keyword">new</span> ActionListener() &#123;<span class="comment">//添加单击事件</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;<span class="comment">/////////////////////////////////////</span></span><br><span class="line">				JFileChooser fileChooser=<span class="keyword">new</span> JFileChooser();<span class="comment">//文件选择对话框</span></span><br><span class="line">				FileFilter filter=<span class="keyword">new</span> FileNameExtensionFilter(<span class="string">"图像文件(*。bmp,*.gif,*.jpg,*.ipeg,*.png)"</span>,<span class="string">"bmp"</span>,<span class="string">"gif"</span>,<span class="string">"jpg"</span>,<span class="string">"jpeg"</span>,<span class="string">"png"</span>);</span><br><span class="line">				fileChooser.setFileFilter(filter);<span class="comment">//设置文件过滤器</span></span><br><span class="line">				fileChooser.showOpenDialog(getContentPane());<span class="comment">//显示对话框</span></span><br><span class="line">				<span class="comment">//public int showOpenDialog(Component parent)-------parent - 该对话框的父组件，可以为 null			</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		FileChooseDemo demo=<span class="keyword">new</span> FileChooseDemo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/41.png" alt="图片"></p>
<p>(3)信息对话框<br>进行一个重要的操作动作时，可以使用信息对话框给用户提供一些重要信息。<br>javax.swing.JOptionPane类提供信息对话框功能，showMessageDialog()方法创建一个信息对话框。<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void showMessageDialog(Component parentComponent,<span class="keyword">Object</span> <span class="keyword">message</span>,<span class="keyword">String</span> title,int messageType)</span><br><span class="line">parentComponent<span class="comment">//信息对话框所依赖的控件，信息对话框会在该控件正前方显示，如JFrame窗体等</span></span><br><span class="line"><span class="keyword">message</span><span class="comment">//指定对话框上显示的文字信息</span></span><br><span class="line">title<span class="comment">//对话框的标题字符串</span></span><br><span class="line">messageType<span class="comment">//要显示的信息类型，包括ERROR_MESSAGE,INFORMATION_MESSAGE,WARNING_MESSAGE,QUESTION_MESSAGE,PLAIN_MESSAGE。当为WARNING_MESSAGE时对话框会有"!"</span></span><br></pre></td></tr></table></figure></p>
<p>实例:根据长和宽计算面积，输入非法数据时给出提示信息<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> Square extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Square</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setTitle(<span class="string">"计算面积"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">		JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">280</span>, <span class="number">180</span>);</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		JLabel wLabel=<span class="keyword">new</span> JLabel();</span><br><span class="line">		wLabel.setText(<span class="string">"长"</span>);</span><br><span class="line">		wLabel.setBounds(<span class="number">40</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(wLabel);</span><br><span class="line">		JLabel hLabel=<span class="keyword">new</span> JLabel();</span><br><span class="line">		hLabel.setText(<span class="string">"宽"</span>);</span><br><span class="line">		hLabel.setBounds(<span class="number">40</span>, <span class="number">60</span>, <span class="number">20</span>, <span class="number">18</span>);</span><br><span class="line">		panel.add(hLabel);</span><br><span class="line">		</span><br><span class="line">		final JTextField wTextField=<span class="keyword">new</span> JTextField();</span><br><span class="line">		wTextField.setBounds(<span class="number">70</span>, <span class="number">20</span>, <span class="number">100</span>, <span class="number">20</span>);</span><br><span class="line">		panel.add(wTextField);</span><br><span class="line">		final JTextField hTextField=<span class="keyword">new</span> JTextField();</span><br><span class="line">		hTextField.setBounds(<span class="number">70</span>, <span class="number">60</span>, <span class="number">100</span>, <span class="number">20</span>);</span><br><span class="line">		panel.add(hTextField);</span><br><span class="line">		</span><br><span class="line">		JButton button=<span class="keyword">new</span> JButton();</span><br><span class="line">		button.setText(<span class="string">"确定"</span>);</span><br><span class="line">		button.setBounds(<span class="number">80</span>, <span class="number">100</span>, <span class="number">60</span>, <span class="number">40</span>);</span><br><span class="line">		panel.add(button);</span><br><span class="line">		button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				String w=wTextField.getText();</span><br><span class="line">				String h=hTextField.getText();</span><br><span class="line">				boolean <span class="keyword">bool</span>=<span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">char</span>[] length=w.toCharArray();<span class="comment">//获取字符串的字符数组</span></span><br><span class="line">				<span class="keyword">char</span>[] hight=h.toCharArray();</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length.length;i++)&#123;<span class="comment">//判断是否有非数字字符</span></span><br><span class="line">					<span class="keyword">if</span>(!(Character.isDigit(length[i])))&#123;</span><br><span class="line">						<span class="keyword">bool</span>=<span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;hight.length;i++)&#123;<span class="comment">//判断是否有非数字字符</span></span><br><span class="line">					<span class="keyword">if</span>(!(Character.isDigit(hight[i])))&#123;</span><br><span class="line">						<span class="keyword">bool</span>=<span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(<span class="literal">false</span>==<span class="keyword">bool</span>)&#123;</span><br><span class="line">					JOptionPane.showMessageDialog(getContentPane(), <span class="string">"输入了非法字符"</span>, <span class="string">"警告提示框"</span>, JOptionPane.WARNING_MESSAGE);</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					<span class="keyword">int</span> leng=Integer.parseInt(w);<span class="comment">//字符串转换为整数</span></span><br><span class="line">					<span class="keyword">int</span> widt=Integer.parseInt(h);</span><br><span class="line">					JOptionPane.showMessageDialog(getContentPane(), <span class="string">"面积:"</span>+leng*widt, <span class="string">"面积计算结果"</span>, JOptionPane.INFORMATION_MESSAGE);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Square square=<span class="keyword">new</span> Square();</span><br><span class="line">		square.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/42.png" alt="图片"><br><img src="/img/javause/43.png" alt="图片"></p>
<p>(4)颜色对话框<br>用户可以通过颜色对话框选择自己喜欢的颜色，来改变字体颜色.<br>javax.swing.JColorChooser类的静态方法可以创建一个颜色对话框。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">showDialog</span><span class="params">(Component component,String title,Color initialColor)</span></span></span><br><span class="line">component            <span class="comment">//指定对话框所依赖的控件，如窗体等</span></span><br><span class="line">title                <span class="comment">//指定对话框的标题</span></span><br><span class="line">initialColor         <span class="comment">//指定颜色对话框中选择颜色返回一个颜色对象</span></span><br></pre></td></tr></table></figure></p>
<p>实例：单击按钮选择窗体背景颜色<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> ColorChooseDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ColorChooseDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">251</span>, <span class="number">182</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		final JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">243</span>, <span class="number">148</span>);</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		final JButton button=<span class="keyword">new</span> JButton(<span class="string">"选择颜色"</span>);</span><br><span class="line">		button.setBounds(<span class="number">65</span>, <span class="number">43</span>, <span class="number">86</span>, <span class="number">28</span>);</span><br><span class="line">		panel.add(button);</span><br><span class="line">		button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				Color color=JColorChooser.showDialog(getContentPane(), <span class="string">"调色板"</span>, panel.getBackground());<span class="comment">//显示颜色对话框</span></span><br><span class="line">				panel.setBackground(color);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ColorChooseDemo demo=<span class="keyword">new</span> ColorChooseDemo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/44.png" alt="图片"><br><img src="/img/javause/45.png" alt="图片"><br><img src="/img/javause/46.png" alt="图片"></p>
<p>(5)确认对话框<br>确认对话框一般会出现在用户要删除数据、修改数据时，用于保护系统的安全。<br>通过javax.swing.JOptionPane类静态方法showConfirmDialog()可以创建一个确认对话框。<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">showConfirmDialog(Component parentComponent,<span class="keyword">Object</span> <span class="keyword">message</span>,<span class="keyword">String</span> title,int optionType)</span><br><span class="line">parentComponent  <span class="comment">//指定确认对话框所依赖的控件，确认对话框会在该控件的正前方显示</span></span><br><span class="line"><span class="keyword">message</span>          <span class="comment">//对话框中显示的信息</span></span><br><span class="line">title            <span class="comment">//指定对话框的标题</span></span><br><span class="line">optionType       <span class="comment">//确认对话框的外观，可选值为YES_NO_OPTION,YES_NO_CANCEL_OPTION,OK_CANCEL_OPTION，如值为YES_NO_OPTION时只有yes、no两个按钮。</span></span><br></pre></td></tr></table></figure></p>
<p>实例：用户输入姓名后单击回车弹出“确认”对话框，确定时将用户姓名显示在文本域中。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> JOptionPaneDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">JOptionPaneDemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		getContentPane().setLayout(null);</span><br><span class="line">		setBounds(<span class="number">100</span>,<span class="number">100</span>, <span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">		JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		getContentPane().add(panel);</span><br><span class="line">		panel.setLayout(null);</span><br><span class="line">		panel.setBounds(<span class="number">0</span>, <span class="number">0</span>, <span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">		JLabel label=<span class="keyword">new</span> JLabel(<span class="string">"请输入姓名:"</span>);</span><br><span class="line">		panel.add(label);</span><br><span class="line">		label.setBounds(<span class="number">40</span>, <span class="number">40</span>, <span class="number">70</span>, <span class="number">20</span>);</span><br><span class="line">		final JTextField field=<span class="keyword">new</span> JTextField();<span class="comment">//需要final后面才能调用----文本框-----输入信息</span></span><br><span class="line">		field.setBounds(<span class="number">140</span>, <span class="number">40</span>, <span class="number">120</span>, <span class="number">20</span>);</span><br><span class="line">		panel.add(field);</span><br><span class="line">		final JTextArea field2=<span class="keyword">new</span> JTextArea();<span class="comment">//文本域------显示信息----------区别于文本框</span></span><br><span class="line">		field2.setBounds(<span class="number">40</span>, <span class="number">80</span>, <span class="number">180</span>, <span class="number">60</span>);</span><br><span class="line">		panel.add(field2);</span><br><span class="line">		field.addActionListener(<span class="keyword">new</span> ActionListener() &#123;<span class="comment">//输入框添加监听事件，输入完毕回车时执行</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				String name=field.getText();</span><br><span class="line">				<span class="keyword">if</span>(name.equals(<span class="string">""</span>))&#123;<span class="comment">//没有输入就回车情况</span></span><br><span class="line">					JOptionPane.showConfirmDialog(getContentPane(), <span class="string">"没有输入姓名"</span>, <span class="string">"信息提示框"</span>, JOptionPane.CANCEL_OPTION);</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;<span class="comment">//输入姓名后弹出确认框</span></span><br><span class="line">					<span class="keyword">int</span> n=JOptionPane.showConfirmDialog(getContentPane(), <span class="string">"确认正确吗?"</span>, <span class="string">"确认对话框"</span>, JOptionPane.YES_NO_CANCEL_OPTION);</span><br><span class="line">					<span class="keyword">if</span>(JOptionPane.YES_OPTION==n)&#123;<span class="comment">//如果用户确认信息 //选择NO时返回NO_OPTION</span></span><br><span class="line">						field2.append(name+<span class="string">"\n"</span>);</span><br><span class="line">						field.setText(<span class="string">""</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		JOptionPaneDemo demo=<span class="keyword">new</span> JOptionPaneDemo();</span><br><span class="line">		demo.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/47.png" alt="图片"></p>
<h2 id="3-_u8868_u683C"><a href="#3-_u8868_u683C" class="headerlink" title="3.表格"></a>3.表格</h2><p>表格是由多行多列组成的二维表形式，由Swing中的JTable类实现。<br>表格通常需要显示在滚动面板上，否则面板不会显示列标题。<br>(1)表格创建及其常用方法<br>构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">JTable</span><span class="params">()</span></span>                                      <span class="comment">//创建一个没有初始数据的表格</span></span><br><span class="line"><span class="function"><span class="title">JTable</span><span class="params">(Object[][] rowData,Object[] columnName)</span></span><span class="comment">//以二维数组rowData中的元素值作为单元格中显示的数据，以一维数组columnName中的元素值作为列名创建一个表格</span></span><br><span class="line"><span class="function"><span class="title">JTable</span><span class="params">(TableModel model)</span></span>                      <span class="comment">//使用表格模型model创建一个表格</span></span><br><span class="line"><span class="function"><span class="title">JTable</span><span class="params">(Vector dataVector,Vector columnVector)</span></span> <span class="comment">//以向量dataVector中的元素值作为单元格中显示的数据，以向量columnVector中的元素值作为列名创建一个表格</span></span><br></pre></td></tr></table></figure></p>
<p>后三个构造方法详情见下：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">String</span>[] columnNames=&#123;<span class="string">"学号"</span>,<span class="string">"姓名"</span>,<span class="string">"分数"</span>&#125;;</span><br><span class="line"><span class="keyword">String</span>[][] rowData=&#123;&#123;<span class="string">"1"</span>,<span class="string">"zhang"</span>,<span class="string">"80"</span>&#125;,&#123;<span class="string">"2"</span>,<span class="string">"li"</span>,<span class="string">"79"</span>&#125;&#125;;</span><br><span class="line">JTable table=<span class="keyword">new</span> JTable(rowData,columnNames);</span><br><span class="line">JScrollpane pane=<span class="keyword">new</span> JScrollpane();<span class="comment">//创建滚动窗格</span></span><br><span class="line">pane.setViewportView(table);<span class="comment">//添加表格到窗格</span></span><br><span class="line">getContentPane().<span class="built_in">add</span>(pane);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DefaultTableModel model=<span class="keyword">new</span> DefaultTableModel(rowData,columnNames);</span><br><span class="line">JTable table=<span class="keyword">new</span> JTable(model);</span><br><span class="line">JScrollpane pane=<span class="keyword">new</span> JScrollpane();<span class="comment">//创建滚动窗格</span></span><br><span class="line">pane.setViewportView(table);<span class="comment">//添加表格到窗格</span></span><br><span class="line">getContentPane().<span class="built_in">add</span>(pane);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Vector columnVector=<span class="keyword">new</span> Vector();</span><br><span class="line">columnVector.<span class="built_in">add</span>(<span class="string">"学号"</span>);<span class="comment">//添加列名</span></span><br><span class="line">columnVector.<span class="built_in">add</span>(<span class="string">"姓名"</span>);</span><br><span class="line">columnVector.<span class="built_in">add</span>(<span class="string">"分数"</span>);</span><br><span class="line">Vector dataVector=<span class="keyword">new</span> Vector();<span class="comment">//定义表格数据向量</span></span><br><span class="line">Vector rowVector=<span class="keyword">new</span> Vector();<span class="comment">//定义行向量</span></span><br><span class="line">rowVector.<span class="built_in">add</span>(<span class="string">"1"</span>);</span><br><span class="line">rowVector.<span class="built_in">add</span>(<span class="string">"zhang"</span>);</span><br><span class="line">rowVector.<span class="built_in">add</span>(<span class="string">"80"</span>);</span><br><span class="line">dataVector.<span class="built_in">add</span>(rowVector);</span><br><span class="line">JTable table=<span class="keyword">new</span> JTable(dataVector,columnVctor);</span><br><span class="line">JScrollpane pane=<span class="keyword">new</span> JScrollpane();<span class="comment">//创建滚动窗格</span></span><br><span class="line">pane.setViewportView(table);<span class="comment">//添加表格到窗格</span></span><br><span class="line">getContentPane().<span class="built_in">add</span>(pane);</span><br></pre></td></tr></table></figure></p>
<p>表格常见方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>getModel()</td>
<td>获取表格所显示数据的表格模型</td>
</tr>
<tr>
<td>getRowCount()</td>
<td>获取表格中所显示数据的行数</td>
</tr>
<tr>
<td>getSelectedColumn()</td>
<td>获取表格中第一个选择列的索引，如果没有被选择的列，返回-1</td>
</tr>
<tr>
<td>getSelectedRow()</td>
<td>获取表格中第一个选择行的索引，如果没有被选择的行，返回-1</td>
</tr>
<tr>
<td>getValueAt()</td>
<td>获取由指定行索引row和列索引column指定单元格的值</td>
</tr>
<tr>
<td>setAutoResizeMode()</td>
<td>设置表格的自动调整模式</td>
</tr>
<tr>
<td>setSelectionMode()</td>
<td>设置表格的选择模式</td>
</tr>
</tbody>
</table>
<p>实例：窗体中添加表格控件，实现向表格中添加数据行、修改数据库以及删除数据行。<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class EditTableModelFrame extends JFrame &#123;</span><br><span class="line">	DefaultTableModel tableModel;</span><br><span class="line">	JTable table;</span><br><span class="line">	JTextField aTextField,bTextField;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> EditTableModelFrame() &#123;</span><br><span class="line">		setTitle(<span class="string">"维护表格模型"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">400</span>, <span class="number">200</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		<span class="keyword">final</span> JScrollPane scrollPane=<span class="keyword">new</span> JScrollPane();<span class="comment">//滚动面板</span></span><br><span class="line">		getContentPane().<span class="built_in">add</span>(scrollPane,BorderLayout.CENTER);</span><br><span class="line">		<span class="keyword">String</span>[] columnNames=&#123;<span class="string">"学号"</span>,<span class="string">"姓名"</span>&#125;;<span class="comment">//定义表格列名数组</span></span><br><span class="line">		<span class="keyword">String</span>[][] tableValue=&#123;&#123;<span class="string">"1"</span>,<span class="string">"zhang"</span>&#125;,&#123;<span class="string">"2"</span>,<span class="string">"li"</span>&#125;&#125;;<span class="comment">//定义表格数据数组</span></span><br><span class="line">		tableModel=<span class="keyword">new</span> DefaultTableModel(tableValue, columnNames);</span><br><span class="line">		table=<span class="keyword">new</span> JTable(tableModel);<span class="comment">//创建指定表格模型的表格</span></span><br><span class="line">		table.setRowSorter(<span class="keyword">new</span> TableRowSorter(tableModel));<span class="comment">//设置表格的排序器</span></span><br><span class="line">		table.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);<span class="comment">//设置表格的选择模式单选</span></span><br><span class="line">		table.addMouseListener(<span class="keyword">new</span> MouseAdapter() &#123;<span class="comment">//为表格添加鼠标事件监听器</span></span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="built_in">mouseClicked</span>(MouseEvent e) &#123;</span><br><span class="line">				<span class="built_in">int</span> selectedRow=table.getSelectedRow();<span class="comment">//获取被选中的行的索引</span></span><br><span class="line">				<span class="keyword">Object</span> oa=tableModel.getValueAt(selectedRow, <span class="number">0</span>);<span class="comment">//从表格模型中获得指定值---学号</span></span><br><span class="line">				<span class="keyword">Object</span> ob=tableModel.getValueAt(selectedRow, <span class="number">1</span>);  <span class="comment">//姓名</span></span><br><span class="line">				aTextField.setText(oa.toString());<span class="comment">//将获得的值赋值给文本框</span></span><br><span class="line">				bTextField.setText(ob.toString());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		scrollPane.setViewportView(table);<span class="comment">//把表格放到滚动面板的视图中</span></span><br><span class="line">		<span class="keyword">final</span> JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		getContentPane().<span class="built_in">add</span>(panel,BorderLayout.SOUTH);<span class="comment">//面板添加到窗体下面</span></span><br><span class="line">		panel.<span class="built_in">add</span>(<span class="keyword">new</span> JLabel(<span class="string">"A: "</span>));</span><br><span class="line">		aTextField=<span class="keyword">new</span> JTextField(<span class="string">"A3"</span>, <span class="number">4</span>);<span class="comment">//创建文本框</span></span><br><span class="line">		panel.<span class="built_in">add</span>(aTextField);</span><br><span class="line">		panel.<span class="built_in">add</span>(<span class="keyword">new</span> JLabel(<span class="string">"B: "</span>));</span><br><span class="line">		bTextField=<span class="keyword">new</span> JTextField(<span class="string">"B3"</span>, <span class="number">4</span>);</span><br><span class="line">		panel.<span class="built_in">add</span>(bTextField);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">final</span> JButton addButton=<span class="keyword">new</span> JButton(<span class="string">"添加"</span>);</span><br><span class="line">		addButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				<span class="keyword">String</span>[] rowValues=&#123;aTextField.getText(),bTextField.getText()&#125;;<span class="comment">//创建表格行数组</span></span><br><span class="line">				tableModel.addRow(rowValues);<span class="comment">//向表格模型中添加一行</span></span><br><span class="line">				<span class="built_in">int</span> rowCount=table.getRowCount()+<span class="number">1</span>;<span class="comment">//表格行总数加1</span></span><br><span class="line">				aTextField.setText(<span class="string">"A"</span>+rowCount);<span class="comment">//文本框设置值为A连接总行数加1的值</span></span><br><span class="line">				bTextField.setText(<span class="string">"B"</span>+rowCount);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		panel.<span class="built_in">add</span>(addButton);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">final</span> JButton updButton=<span class="keyword">new</span> JButton(<span class="string">"修改"</span>);</span><br><span class="line">		updButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				<span class="built_in">int</span> selectedRow=table.getSelectedRow();</span><br><span class="line">				<span class="keyword">if</span>(selectedRow!=-<span class="number">1</span>)&#123;<span class="comment">//判断 是否存在被选中行</span></span><br><span class="line">					tableModel.setValueAt(aTextField.getText(), selectedRow, <span class="number">0</span>);</span><br><span class="line">					tableModel.setValueAt(bTextField.getText(), selectedRow, <span class="number">1</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		panel.<span class="built_in">add</span>(updButton);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">final</span> JButton delButton=<span class="keyword">new</span> JButton(<span class="string">"删除"</span>);</span><br><span class="line">		delButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				<span class="built_in">int</span> selectedRow=table.getSelectedRow();</span><br><span class="line">				<span class="keyword">if</span>(selectedRow!=-<span class="number">1</span>)&#123;<span class="comment">//是否存在选中行</span></span><br><span class="line">					tableModel.removeRow(selectedRow);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		panel.<span class="built_in">add</span>(delButton);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		EditTableModelFrame frame=<span class="keyword">new</span> EditTableModelFrame();</span><br><span class="line">		frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如下可以实现增加、修改、删除<br><img src="/img/javause/48.png" alt="图片"></p>
<p>(2)对模型事件的监听和处理<br>TableModelListener接口可监听模型事件，实现该接口，可监控表格的变化，该接口中只有一个方法tableChanged(),当模型产生表格事件时被调用。<br>tableChanged()方法只有一个入口参数为TableModelEvent,该类通过的方法可以对表格模型事件进行处理。<br>TableModelEvent类方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>getColumn()</td>
<td>返回表格模型中事件的列</td>
</tr>
<tr>
<td>getFirstRow()</td>
<td>返回表格模型中第一个被更改的行</td>
</tr>
<tr>
<td>getLastRow()</td>
<td>返回表格模型中最后一个被更改的行</td>
</tr>
<tr>
<td>getType()</td>
<td>返回事件类型，该类型为INSERT、UPDATE、DELETE之一</td>
</tr>
</tbody>
</table>
<p>TableModelEvent类的 getType()方法可以判断事件的类型，通过TableModelEvent类的字段可以实现对事件类型的判断。<br>TableModelEvent类常用字段：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>TableModelEvent.DELETE</td>
<td>表示对表格模型中的行或者列进行了删除操作</td>
</tr>
<tr>
<td>TableModelEvent.INSERT</td>
<td>表示在表格模型中添加了新的行或者列</td>
</tr>
<tr>
<td>TableModelEvent.UPDATE</td>
<td>表示对表格模型中的现有数据进行了修改操作</td>
</tr>
</tbody>
</table>
<p>除了数据模型发生变化会触发表格模型监听事件外，还可以通过AbstractTableModel类提供的方法来触发表格模型事件监听器对事件进行处理。<br>AbstractTableModel常用方法：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>firstTablecellUpdated(int row,int column)</td>
<td>通知所有监听器，已更新[row,column]处的单元格值</td>
</tr>
<tr>
<td>firstTableRowsDeleted(int firstRow,int lastRow)</td>
<td>通知所有监听器，已删除范围在[firstRow,lastRow]的行</td>
</tr>
<tr>
<td>firstTableRowsInserted(int firstRow,int lastRow)</td>
<td>通知所有监听器，已插入范围在[firstRow,lastRow]的行</td>
</tr>
<tr>
<td>firstTableRowsUpdated(int firstRow,int lastRow)</td>
<td>通知所有监听器，已更新范围在[firstRow,lastRow]的行</td>
</tr>
</tbody>
</table>
<p>备注：AbstractTableModel类方法触发事件监听器时，并不是真正的对表格进行了添加删除等操作，只是通过这些方法通知表格的所有监听器，并对事件进行响应处理。事件响应代码可以对事件类型分类，不同事件分别实现不同功能。</p>
<p>实例：实现表格数据的修改删除，更改后提示<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TableModelEventFrame</span> <span class="keyword">extends</span> <span class="title">JFrame</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> DefaultTableModel tableModel;<span class="comment">//表格模型</span></span><br><span class="line">	<span class="keyword">private</span> JTable table;<span class="comment">//表格</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TableModelEventFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setTitle(<span class="string">"表格模型事件"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">160</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		<span class="keyword">final</span> JScrollPane scrollPane=<span class="keyword">new</span> JScrollPane();<span class="comment">//滚动面板</span></span><br><span class="line">		getContentPane().add(scrollPane,BorderLayout.CENTER);<span class="comment">//添加在中间</span></span><br><span class="line">		String[] columnNames=&#123;<span class="string">"学号"</span>,<span class="string">"姓名"</span>&#125;;<span class="comment">//表格列名数组</span></span><br><span class="line">		String[][] tableValues=&#123;&#123;<span class="string">"1"</span>,<span class="string">"zhang"</span>&#125;,&#123;<span class="string">"2"</span>,<span class="string">"cheng"</span>&#125;&#125;;<span class="comment">//表格数据数组</span></span><br><span class="line">		tableModel=<span class="keyword">new</span> DefaultTableModel(tableValues,columnNames);</span><br><span class="line">		tableModel.addTableModelListener(<span class="keyword">new</span> TableModelListener() &#123;<span class="comment">//为表格添加事件监听器</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tableChanged</span><span class="params">(TableModelEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(e.getType()==TableModelEvent.UPDATE)&#123;<span class="comment">//是否修改</span></span><br><span class="line">					JOptionPane.showConfirmDialog(getContentPane(), <span class="string">"单击修改按钮"</span>, <span class="string">"信息对话框"</span>, JOptionPane.CANCEL_OPTION);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span>(e.getType()==TableModelEvent.DELETE)&#123;<span class="comment">//是否修改</span></span><br><span class="line">					JOptionPane.showConfirmDialog(getContentPane(), <span class="string">"单击删除按钮"</span>, <span class="string">"信息对话框"</span>, JOptionPane.CANCEL_OPTION);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		table=<span class="keyword">new</span> JTable(tableModel);<span class="comment">//创建表格</span></span><br><span class="line">		table.setRowSorter(<span class="keyword">new</span> TableRowSorter(tableModel));<span class="comment">//表格排序器</span></span><br><span class="line">		table.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);<span class="comment">//表格选择模式单选</span></span><br><span class="line">		scrollPane.setViewportView(table);<span class="comment">//表格添加到面板视图</span></span><br><span class="line">		<span class="keyword">final</span> JPanel panel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		getContentPane().add(panel,BorderLayout.SOUTH);</span><br><span class="line">		<span class="keyword">final</span> JButton updButton=<span class="keyword">new</span> JButton(<span class="string">"修改"</span>);</span><br><span class="line">		updButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">int</span> selectedRow=table.getSelectedRow();</span><br><span class="line">				<span class="keyword">if</span>(selectedRow!=-<span class="number">1</span>)&#123;</span><br><span class="line">					tableModel.fireTableRowsUpdated(selectedRow, selectedRow);<span class="comment">//通知所有监听器修改了索引位置的数据行</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		panel.add(updButton);</span><br><span class="line">		<span class="keyword">final</span> JButton delButton=<span class="keyword">new</span> JButton(<span class="string">"删除"</span>);</span><br><span class="line">		delButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">int</span> selectedRow=table.getSelectedRow();				</span><br><span class="line">				<span class="keyword">if</span>(selectedRow!=-<span class="number">1</span>)&#123;</span><br><span class="line">					tableModel.fireTableRowsDeleted(selectedRow, selectedRow);<span class="comment">//通知所有监听器修改了索引位置的数据行</span></span><br><span class="line">				&#125;				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		panel.add(delButton);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		TableModelEventFrame frame=<span class="keyword">new</span> TableModelEventFrame();</span><br><span class="line">		frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>单击按钮或者直接在表格中改变数据后回车弹出窗口<br><img src="/img/javause/49.png" alt="图片"><br><img src="/img/javause/50.png" alt="图片"></p>
<h2 id="4-_u7CFB_u7EDF_u6258_u76D8"><a href="#4-_u7CFB_u7EDF_u6258_u76D8" class="headerlink" title="4.系统托盘"></a>4.系统托盘</h2><p>系统托盘<br>系统托盘是一个特殊区域，可以驻留程序，被运行在桌面的所有程序共享，系统托盘显示在桌面底部。<br>(1)获取系统托盘<br>java.awt.SystemTray类表示桌面的系统托盘，每个java应用程序在运行时都会分配一个该类实例。<br>SystemTray类常用方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>void add(TrayIcon trayIcon)</td>
<td>将托盘图标添加到系统托盘</td>
</tr>
<tr>
<td>static SystemTray getSystemTray()</td>
<td>获取表示桌面托盘区的系统托盘实例</td>
</tr>
<tr>
<td>TrayIcon[] getTrayIcons()</td>
<td>返回由此应用程序添加到托盘中的所有图标的数组</td>
</tr>
<tr>
<td>Dimension getTrayIconSize()</td>
<td>返回托盘图标在系统托盘中占用的空间大小（像素）</td>
</tr>
<tr>
<td>static boolean isSupported()</td>
<td>返回当前平台是否支持系统托盘</td>
</tr>
<tr>
<td>void remove(TrayIcon trayIcon)</td>
<td>从系统托盘中移除指定的托盘图标</td>
</tr>
</tbody>
</table>
<p>备注:有些平台不支持系统托盘，因此在使用时可以先使用isSupported()判断一下。可以再获取系统托盘getSystemTray()</p>
<p>(2)为系统托盘添加图标<br>系统托盘可以包含一个或者多个托盘图标，需要时add(TrayIcon trayIcon)添加，不需要时remove(TrayIcon trayIcon)移除。<br>托盘图标由TrayIcon类表示，其构造方法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">TrayIcon</span><span class="params">(Image image)</span></span>                                 <span class="comment">//创建带有指定图像的托盘图标</span></span><br><span class="line"><span class="function"><span class="title">TrayIcon</span><span class="params">(Image image,String tooltip)</span></span>                  <span class="comment">//创建带有指定图像和工具提示文本的托盘图标</span></span><br><span class="line"><span class="function"><span class="title">TrayIcon</span><span class="params">(Image image,String tooltip,PopupMenu popup)</span></span>  <span class="comment">//创建带有指定图像、工具提示文本和弹出菜单的托盘图标</span></span><br></pre></td></tr></table></figure></p>
<p>指定图像：托盘显示的图像<br>工具提示文本：鼠标放置在系统托盘中出现的文字<br>弹出菜单：鼠标右键弹出菜单</p>
<p>(3)添加弹出菜单<br>在托盘中单击鼠标右键时会显示菜单。<br>TrayIcon类的setPopupMenu(PopupMenu popupMenu)方法实现为系统托盘设置弹出式菜单</p>
<p>实例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> SystemTrayFrame extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SystemTrayFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setTitle(<span class="string">"使用系统托盘"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">260</span>, <span class="number">180</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span><br><span class="line">		<span class="keyword">if</span>(SystemTray.isSupported())&#123;<span class="comment">//是否支持系统托盘</span></span><br><span class="line">			URL url=getClass().getResource(<span class="string">"system.png"</span>);</span><br><span class="line">			ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);</span><br><span class="line">			Image image=icon.getImage();<span class="comment">//获取Image对象</span></span><br><span class="line">			TrayIcon trayIcon=<span class="keyword">new</span> TrayIcon(image);</span><br><span class="line">			trayIcon.setToolTip(<span class="string">"系统托盘"</span>);<span class="comment">//添加工具提示文本</span></span><br><span class="line">			PopupMenu popupMenu=<span class="keyword">new</span> PopupMenu();<span class="comment">//弹出式菜单</span></span><br><span class="line">			MenuItem <span class="built_in">exit</span>=<span class="keyword">new</span> MenuItem(<span class="string">"退出"</span>);<span class="comment">//菜单项</span></span><br><span class="line">			MenuItem show=<span class="keyword">new</span> MenuItem(<span class="string">"显示主窗体"</span>);</span><br><span class="line">			<span class="comment">//添加事件监听器</span></span><br><span class="line">			<span class="built_in">exit</span>.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">					System.<span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">//退出系统</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			show.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line"><span class="comment">//					getContentPane().setVisible(true);//显示窗体  这条语句和下面一条一样的效果</span></span><br><span class="line">					showFrame();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			popupMenu.add(show);<span class="comment">//为弹出菜单添加菜单项</span></span><br><span class="line">			popupMenu.add(<span class="built_in">exit</span>);</span><br><span class="line">			trayIcon.setPopupMenu(popupMenu);<span class="comment">//为托盘图标添加弹出菜单</span></span><br><span class="line">			SystemTray systemTray=SystemTray.getSystemTray();</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				systemTray.add(trayIcon);<span class="comment">//为系统添加托盘图标</span></span><br><span class="line">			&#125; <span class="keyword">catch</span> (AWTException e1) &#123;</span><br><span class="line">				e1.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showFrame</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SystemTrayFrame frame=<span class="keyword">new</span> SystemTrayFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/51.png" alt="图片"><br><img src="/img/javause/52.png" alt="图片"></p>
<h2 id="5-_u7EC3_u4E60-1"><a href="#5-_u7EC3_u4E60-1" class="headerlink" title="5.练习"></a>5.练习</h2><p>(1)随意获取文件属性<br>打开文件选择对话框选择任意文件将用户选择文件的属性显示在窗体中。<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class OpenTextFileFrame extends JFrame &#123;</span><br><span class="line">	JTextArea ta_showProperty = <span class="keyword">new</span> JTextArea();<span class="comment">//文本域</span></span><br><span class="line">	JTextArea ta_showText =<span class="keyword">new</span> JTextArea();</span><br><span class="line">	<span class="keyword">public</span> OpenTextFileFrame() &#123;</span><br><span class="line">		<span class="comment">//getContentPane().setLayout(null); //取消这行才能显示---不然只有窗体</span></span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">260</span>, <span class="number">200</span>);</span><br><span class="line">		setTitle(<span class="string">"打开文件"</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">final</span> JToolBar toolBar=<span class="keyword">new</span> JToolBar();<span class="comment">//工具栏</span></span><br><span class="line">		getContentPane().<span class="built_in">add</span>(toolBar,BorderLayout.NORTH);</span><br><span class="line">		JButton open_Button=<span class="keyword">new</span> JButton(<span class="string">"打开"</span>);</span><br><span class="line">		open_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				openTextFile();<span class="comment">//调用方法操作文件</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		toolBar.<span class="built_in">add</span>(open_Button);</span><br><span class="line">		</span><br><span class="line">		JButton exit_Button=<span class="keyword">new</span> JButton(<span class="string">"退出"</span>);</span><br><span class="line">		exit_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				<span class="built_in">int</span> n=JOptionPane.showConfirmDialog(getContentPane(), <span class="string">"确认退出吗"</span>,<span class="string">"确认对话框"</span>,JOptionPane.YES_NO_OPTION);</span><br><span class="line">				<span class="keyword">if</span>(JOptionPane.YES_OPTION==n)&#123;</span><br><span class="line">					System.<span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">//退出系统</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		toolBar.<span class="built_in">add</span>(exit_Button);</span><br><span class="line">		<span class="keyword">final</span> JTabbedPane tabbedPane=<span class="keyword">new</span> JTabbedPane();<span class="comment">//选项卡面板</span></span><br><span class="line">		getContentPane().<span class="built_in">add</span>(tabbedPane,BorderLayout.CENTER);</span><br><span class="line">		<span class="keyword">final</span> JScrollPane scrollPane=<span class="keyword">new</span> JScrollPane();</span><br><span class="line">		tabbedPane.addTab(<span class="string">"文件的属性"</span>,<span class="keyword">null</span>,scrollPane,<span class="keyword">null</span>);<span class="comment">//滚动面板放到选项卡的第一个选项页</span></span><br><span class="line">		scrollPane.setViewportView(ta_showProperty);<span class="comment">//文本域添加到滚动面板视图-----------------注意：不能用add</span></span><br><span class="line">		<span class="keyword">final</span> JScrollPane scrollPane2=<span class="keyword">new</span> JScrollPane();</span><br><span class="line">		tabbedPane.addTab(<span class="string">"文件内容"</span>,<span class="keyword">null</span>,scrollPane2,<span class="keyword">null</span>);<span class="comment">//第二个选项卡</span></span><br><span class="line">		scrollPane2.setViewportView(ta_showText);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> openTextFile()&#123;</span><br><span class="line">		JFileChooser fileChooser=<span class="keyword">new</span> JFileChooser();<span class="comment">//文件选择对话框</span></span><br><span class="line">		<span class="built_in">int</span> returnValue=fileChooser.showOpenDialog(getContentPane());<span class="comment">//打开文件选择对话框</span></span><br><span class="line">		<span class="keyword">if</span>(returnValue==JFileChooser.APPROVE_OPTION)&#123;<span class="comment">//是否选择了文件</span></span><br><span class="line">			File file=fileChooser.getSelectedFile();<span class="comment">//获取文件对象</span></span><br><span class="line">			ta_showProperty.<span class="built_in">append</span>(<span class="string">"文件路径："</span>+file.getAbsolutePath()+<span class="string">"\n"</span>);</span><br><span class="line">			ta_showProperty.<span class="built_in">append</span>(<span class="string">"隐藏文件:"</span>+file.isHidden()+<span class="string">"\n"</span>);</span><br><span class="line">			FileReader reader;<span class="comment">//字符流</span></span><br><span class="line">			<span class="keyword">BufferedReader</span> in;<span class="comment">//字符缓冲流</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				reader=<span class="keyword">new</span> FileReader(file);<span class="comment">//字符流</span></span><br><span class="line">				in=<span class="keyword">new</span> <span class="keyword">BufferedReader</span>(reader);<span class="comment">//字符缓冲流</span></span><br><span class="line">				<span class="keyword">String</span> info=in.readLine();<span class="comment">//从文件中读取一行信息</span></span><br><span class="line">				<span class="keyword">while</span>(info!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					ta_showText.<span class="built_in">append</span>(info+<span class="string">"\n"</span>);</span><br><span class="line">					info=in.readLine();<span class="comment">//继续读下一行</span></span><br><span class="line">				&#125;</span><br><span class="line">				in.close();</span><br><span class="line">				reader.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		OpenTextFileFrame frame=<span class="keyword">new</span> OpenTextFileFrame();</span><br><span class="line">		frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>打开txt文件如下:<br><img src="/img/javause/53.png" alt="图片"><br><img src="/img/javause/54.png" alt="图片"></p>
<p>打开图片文件如下:<br><img src="/img/javause/55.png" alt="图片"><br><img src="/img/javause/56.png" alt="图片"></p>
<p>(2)实现浏览图片<br>创建窗体，在窗体上添加”上一张”与”下一张”按钮，实现浏览指定文件夹下的图片。<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class BrowsePictureFrame extends JFrame &#123;</span><br><span class="line">	<span class="keyword">public</span> BrowsePictureFrame() &#123;</span><br><span class="line">		setTitle(<span class="string">"浏览图片"</span>);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">180</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span><br><span class="line">		<span class="keyword">final</span> JSplitPane splitPane=<span class="keyword">new</span> JSplitPane();<span class="comment">//分割面板</span></span><br><span class="line">		getContentPane().<span class="built_in">add</span>(splitPane,BorderLayout.CENTER);</span><br><span class="line">		<span class="keyword">final</span> JPanel buttonPanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		splitPane.setLeftComponent(buttonPanel);<span class="comment">//放按钮的面板放到分割面板左边</span></span><br><span class="line">		splitPane.setDividerLocation(<span class="number">90</span>);<span class="comment">//设置分割线的位置</span></span><br><span class="line">		<span class="keyword">final</span> JPanel showpictureJPanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">		<span class="keyword">final</span> CardLayout cardLayout=<span class="keyword">new</span> CardLayout();<span class="comment">//创建卡片式布局</span></span><br><span class="line">		showpictureJPanel.setLayout(cardLayout);<span class="comment">//把显示图片的面板设置为卡片式布局</span></span><br><span class="line">		splitPane.setRightComponent(showpictureJPanel);</span><br><span class="line">		<span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">			<span class="keyword">String</span> pictureIndex=<span class="keyword">String</span>.valueOf(i);<span class="comment">//把图片的索引值转换为字符串</span></span><br><span class="line">			<span class="keyword">String</span> pictureName=<span class="keyword">String</span>.valueOf(pictureIndex)+<span class="string">".jpg"</span>;</span><br><span class="line">			URL url=getClass().getResource(pictureName);</span><br><span class="line">			ImageIcon icon=<span class="keyword">new</span> ImageIcon(url);</span><br><span class="line">			showpictureJPanel.<span class="built_in">add</span>(<span class="keyword">new</span> JLabel(icon),pictureIndex);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">final</span> JButton previousButton=<span class="keyword">new</span> JButton();</span><br><span class="line">		previousButton.setText(<span class="string">"上一张"</span>);</span><br><span class="line">		previousButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				cardLayout.previous(showpictureJPanel);<span class="comment">//显示上一张图片</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		buttonPanel.<span class="built_in">add</span>(previousButton);<span class="comment">//按钮添加到左侧面板</span></span><br><span class="line">		<span class="keyword">final</span> JButton nextButton=<span class="keyword">new</span> JButton();<span class="comment">//创建显示下一张图片的按钮</span></span><br><span class="line">		nextButton.setText(<span class="string">"下一张"</span>);</span><br><span class="line">		nextButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> actionPerformed(ActionEvent e) &#123;</span><br><span class="line">				cardLayout.next(showpictureJPanel);<span class="comment">//显示下一张图片</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		buttonPanel.<span class="built_in">add</span>(nextButton);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">		BrowsePictureFrame frame=<span class="keyword">new</span> BrowsePictureFrame();</span><br><span class="line">		frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>按上一张下一张可以实现图片1，2，3，4，5循环.<br><img src="/img/javause/57.png" alt="图片"><br><img src="/img/javause/58.png" alt="图片"></p>
<p>备注：菜单的启动和禁用可以通过JMenuItem类的setEnabled()方法，参数设置false菜单禁用，true菜单启用。</p>
<h1 id="u7B2C_u5341_u4E8C_u7AE0__u7ED8_u56FE_u4E0E_u6253_u5370_u6280_u672F"><a href="#u7B2C_u5341_u4E8C_u7AE0__u7ED8_u56FE_u4E0E_u6253_u5370_u6280_u672F" class="headerlink" title="第十二章 绘图与打印技术"></a>第十二章 绘图与打印技术</h1><p>前面的内容无法在程序界面显示背景图片、无法处理图片、无法实现打印功能等。为了美化java应用程序的界面，可以通过java提供的绘图技术实现。PrintJob可以获得打印对象再调用相应的方法打印。</p>
<h2 id="1-java_u7ED8_u56FE"><a href="#1-java_u7ED8_u56FE" class="headerlink" title="1.java绘图"></a>1.java绘图</h2><p>Java使用Graphics类和Graphics2D类(继承自Graphics 推荐使用，Graphics类的实例可以进行强转)绘制图形。<br>Graphics类常用方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>drawArc(int x,int y,int width,int height,int startAngle,int arcAngle)</td>
<td>弧形</td>
</tr>
<tr>
<td>drawLine(int x1,int y1,int x2,int y2)</td>
<td>直线</td>
</tr>
<tr>
<td>drawOval(int x,int y,int width,int height)</td>
<td>椭圆</td>
</tr>
<tr>
<td>drawPolygon(int[] xPoints,int[] yPoints,int n) //(xn,yn)坐标全部依次连成n点,首尾闭合</td>
<td>多边形</td>
</tr>
<tr>
<td>drawPolyline(int[] xPoints,int[] yPoints,int n) //(xn,yn)坐标全部依次连成 首尾不闭合</td>
<td>多边线</td>
</tr>
<tr>
<td>drawRect(int x,int y,int width,int height)</td>
<td>矩形</td>
</tr>
<tr>
<td>drawRoundRect(int x,int y,int width,int height,int arcWidth,int arcHeight)</td>
<td>圆角矩形</td>
</tr>
<tr>
<td>fillArc(int x,int y,int width,int height,int startAngle,int arcAngle)</td>
<td>实心弧形</td>
</tr>
<tr>
<td>fillOval(int x,int y,int width,int height)</td>
<td>实心椭圆</td>
</tr>
<tr>
<td>fillPolygon(int[] xPoints,int[] yPoints,int n) //(xn,yn)坐标全部依次连成n点,首尾闭合</td>
<td>实心多边形</td>
</tr>
<tr>
<td>fillRect(int x,int y,int width,int height)</td>
<td>实心矩形</td>
</tr>
<tr>
<td>fillRoundRect(int x,int y,int width,int height,int arcWidth,int arcHeight)</td>
<td>实心圆角矩形</td>
</tr>
</tbody>
</table>
<p>Graphics2D类是继承Graphics的，Graphics2D类可以分别使用不同的类来表示不同的形状，如Line2D,Recttangle2D等。<br>绘制指定图形需要先创建并初始化该图形类的对象，这些图形必须是Shape接口的实现类，然后使用Graphics2D类的draw()方法绘制或者使用fill()方法填充。<br>java.awt.geom包提供如下常用的图形类，这些图形类都实现了Shape接口。<br>Arc2D、CubicCurve2D、Ellipse2D、Line2D、Point2D、QuadCurve2D、Rectangle2D、RoundRectangle2D<br>在不同的图形类中有Double和Float两个实现类,以不同的精度构建图形对象，图形太多时建议使用Float类实例绘制，节省空间</p>
<p>实例:绘图<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> DrawGraphics extends JFrame&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DrawGraphics</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">		<span class="keyword">this</span>.setSize(<span class="number">400</span>, <span class="number">400</span>);<span class="comment">//设置窗体大小</span></span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		setContentPane(<span class="keyword">new</span> DrawPanel());<span class="comment">/////////设置窗体面板为绘图面板对象</span></span><br><span class="line">		<span class="keyword">this</span>.setTitle(<span class="string">"绘制图像"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">class</span> DrawPanel extends JPanel&#123;<span class="comment">//创建用于绘图的内部面板类</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">			super.paint(g);</span><br><span class="line">			g.drawOval(<span class="number">10</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">80</span>);</span><br><span class="line">			g.drawRect(<span class="number">100</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">80</span>);</span><br><span class="line">			g.drawLine(<span class="number">10</span>, <span class="number">120</span>, <span class="number">380</span>, <span class="number">120</span>);</span><br><span class="line">			</span><br><span class="line">			Graphics2D g2=(Graphics2D) g;</span><br><span class="line"><span class="comment">//			g2.drawRoundRect(190, 20, 80, 60, 20, 10);</span></span><br><span class="line">			Rectangle2D rect1=<span class="keyword">new</span> Rectangle2D.Double(<span class="number">190</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">60</span>);<span class="comment">//创建矩形对象</span></span><br><span class="line">			g2.draw(rect1);<span class="comment">//绘制无填充的矩形对象</span></span><br><span class="line">			Rectangle2D rect2=<span class="keyword">new</span> Rectangle2D.Double(<span class="number">280</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">60</span>);<span class="comment">//创建矩形对象</span></span><br><span class="line">			g2.fill(rect2);<span class="comment">//绘制填充的矩形对象	</span></span><br><span class="line">			</span><br><span class="line"><span class="comment">//java.awt.Shape接口提供了表示一些几何形状对象的定义，其主要实现类有Ellipse2D.Double（椭圆）、Line2D.Double（直线）、Rectangle2D.Double（矩形）、</span></span><br><span class="line"><span class="comment">//			RoundRectangle2D.Double（带圆角的矩形）和Arc2D.Double（孤形）等。</span></span><br><span class="line">			Shape[] shapes=<span class="keyword">new</span> Shape[<span class="number">4</span>];<span class="comment">//声明图形数组</span></span><br><span class="line">			shapes[<span class="number">0</span>]=<span class="keyword">new</span> Rectangle2D.Double(<span class="number">25</span>,<span class="number">165</span>,<span class="number">70</span>,<span class="number">70</span>);<span class="comment">//矩形</span></span><br><span class="line">			shapes[<span class="number">1</span>]=<span class="keyword">new</span> Rectangle2D.Double(<span class="number">130</span>,<span class="number">150</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">			shapes[<span class="number">2</span>]=<span class="keyword">new</span> Ellipse2D.Double(<span class="number">130</span>,<span class="number">150</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">			shapes[<span class="number">3</span>]=<span class="keyword">new</span> Ellipse2D.Double(<span class="number">10</span>,<span class="number">150</span>,<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; shapes.length; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">					g2.fill(shapes[i]);</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					g2.draw(shapes[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">new</span> DrawGraphics().setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/59.png" alt="图片"></p>
<h2 id="2-_u7ED8_u56FE_u989C_u8272_u4E0E_u7B14_u753B_u5C5E_u6027"><a href="#2-_u7ED8_u56FE_u989C_u8272_u4E0E_u7B14_u753B_u5C5E_u6027" class="headerlink" title="2.绘图颜色与笔画属性"></a>2.绘图颜色与笔画属性</h2><p>Color类对颜色属性进行管理,java2D的Graphics2D类的setStroke()方法可以指定笔画属性(线的粗细、虚实、线段端点的形状、风格等)<br>Color对象构造方法:<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Color<span class="comment">(int r,int g,int b)</span>       <span class="comment">//使用RGB值创建颜色对象的构造方法</span></span><br><span class="line">Color<span class="comment">(int rgb)</span>                 <span class="comment">//使用RGB 3原色的总和创建颜色对象</span></span><br><span class="line">用法:</span><br><span class="line">Graphics<span class="number">2</span>D <span class="keyword">g2</span>=<span class="comment">(Graphics2D)</span>g;</span><br><span class="line"><span class="keyword">g2.</span>setColor<span class="comment">(Color.BLUE)</span>;</span><br></pre></td></tr></table></figure></p>
<p>常用Color常量:</p>
<table>
<thead>
<tr>
<th>常量名</th>
<th>颜色值</th>
<th>使用方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>BLACK</td>
<td>黑色</td>
<td>Color.BLAC</td>
</tr>
<tr>
<td>WHITE</td>
<td>白色</td>
<td>Color.WHITE</td>
</tr>
<tr>
<td>GRAY</td>
<td>灰色</td>
<td>Color.GRAY</td>
</tr>
<tr>
<td>GREEN</td>
<td>绿色</td>
<td>Color.GREEN</td>
</tr>
<tr>
<td>LIGHT_GRAY</td>
<td>浅灰色</td>
<td>Color.LIGHT_GRAY</td>
</tr>
<tr>
<td>CYAN</td>
<td>青色</td>
<td>Color.CYAN</td>
</tr>
<tr>
<td>MAGENTA</td>
<td>洋红色</td>
<td>Color.MAGENTA</td>
</tr>
<tr>
<td>ORANGE</td>
<td>橘黄色</td>
<td>Color.ORANGE</td>
</tr>
<tr>
<td>BLUE</td>
<td>蓝色</td>
<td>Color.BLUE</td>
</tr>
<tr>
<td>PINK</td>
<td>粉红色</td>
<td>Color.PINK</td>
</tr>
<tr>
<td>DARK_GRAY</td>
<td>深灰色</td>
<td>Color.DARK_GRAY</td>
</tr>
<tr>
<td>RED</td>
<td>红色</td>
<td>Color.RED</td>
</tr>
<tr>
<td>YELLOW</td>
<td>黄色</td>
<td>Color.YELLOW</td>
</tr>
</tbody>
</table>
<p>Graphics绘图默认使用笔画属性为粗细为1个像素的正方形，Graphics2D可调用setStroke(Stroke stroke)方法设置笔画属性。<br>java.awt.BasicStroke类实现了Stroke接口，其构造方法如下：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BasicStroke()</span><br><span class="line">BasicStroke(<span class="built_in">float</span> <span class="variable">width</span>,<span class="built_in">int</span> cap)</span><br><span class="line">BasicStroke(<span class="built_in">float</span> <span class="variable">width</span>,<span class="built_in">int</span> cap,<span class="built_in">int</span> <span class="built_in">join</span>)</span><br><span class="line">BasicStroke(<span class="built_in">float</span> <span class="variable">width</span>,<span class="built_in">int</span> cap,<span class="built_in">int</span> <span class="built_in">join</span>,<span class="built_in">float</span> miterlimit)</span><br><span class="line">BasicStroke(<span class="built_in">float</span> <span class="variable">width</span>,<span class="built_in">int</span> cap,<span class="built_in">int</span> <span class="built_in">join</span>,<span class="built_in">float</span> miterlimit,<span class="built_in">float</span>[] dash,<span class="built_in">float</span> dash_phase)</span><br></pre></td></tr></table></figure></p>
<p>参数说明:</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>笔画宽度，此宽度必须大于或者等于0.0f(0.0f时将设置为当前设备默认宽度)</td>
</tr>
<tr>
<td>cap</td>
<td>线端点的装饰  可选值:CAP_BUIT,CAP_ROUND,CAP_SQUARE</td>
</tr>
<tr>
<td>join</td>
<td>应用在路径线段交汇处的装饰  可选值:JOIN_BEVEL,JOIN_MITER,JOIN_ROUND</td>
</tr>
<tr>
<td>miterlimit</td>
<td>斜接处的剪切限制，该参数必须大于等于1.0f</td>
</tr>
<tr>
<td>dash</td>
<td>表示虚线模式的数组</td>
</tr>
<tr>
<td>dash_phase</td>
<td>开始虚线模式的偏移量</td>
</tr>
</tbody>
</table>
<h2 id="3-_u7ED8_u5236_u6587_u672C"><a href="#3-_u7ED8_u5236_u6587_u672C" class="headerlink" title="3.绘制文本"></a>3.绘制文本</h2><p>Graphics2D类的drawString()在图像上绘制文本内容。<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drawString(<span class="keyword">String</span> <span class="built_in">str</span>,<span class="built_in">int</span> x,<span class="built_in">int</span> y)    <span class="comment">//str:绘制的文本字符串，x:水平起始位置  y：垂直起始位置</span></span><br><span class="line">drawString(<span class="keyword">String</span> <span class="built_in">str</span>,<span class="built_in">float</span> x,<span class="built_in">float</span> y)</span><br></pre></td></tr></table></figure></p>
<p>java.awt.Font类封装了字体名称、字号、样式等属性，构造方法如下:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">Font</span><span class="params">( String name,int style,int size)</span></span><span class="comment">//name:字体名称  style:字体样式（PLAIN-普通 BOLD-粗体 ITALIC-斜体） size:字体大小</span></span><br><span class="line">用法:</span><br><span class="line"><span class="function"><span class="title">setFont</span><span class="params">(Font font)</span></span></span><br></pre></td></tr></table></figure></p>
<p>实例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> DrawString extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DrawString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.setSize(<span class="number">260</span>,<span class="number">180</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		add(<span class="keyword">new</span> CanvasPanel());</span><br><span class="line">		<span class="keyword">this</span>.setTitle(<span class="string">"绘制文本信息"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">class</span> CanvasPanel extends Canvas&#123;<span class="comment">//继承Canvas类成为画布类</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">			super.paint(g);</span><br><span class="line">			Graphics2D g2=(Graphics2D) g;</span><br><span class="line">			g2.setColor(Color.BLUE);</span><br><span class="line">			Font font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.BOLD, <span class="number">24</span>);</span><br><span class="line">			g2.setFont(font);</span><br><span class="line">			g2.drawString(<span class="string">"静夜思"</span>, <span class="number">80</span>, <span class="number">40</span>);</span><br><span class="line">			font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>,Font.BOLD|Font.ITALIC,<span class="number">18</span>);</span><br><span class="line">			g2.setFont(font);</span><br><span class="line">			g2.drawString(<span class="string">"李白"</span>, <span class="number">130</span>, <span class="number">70</span>);</span><br><span class="line">			font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">14</span>);</span><br><span class="line">			g2.setFont(font);</span><br><span class="line">			g2.drawString(<span class="string">"床前明月光，"</span>, <span class="number">40</span>, <span class="number">100</span>);</span><br><span class="line">			g2.drawString(<span class="string">"疑是地上霜。"</span>, <span class="number">120</span>, <span class="number">100</span>);</span><br><span class="line">			g2.drawString(<span class="string">"举头望明月，"</span>, <span class="number">40</span>, <span class="number">120</span>);</span><br><span class="line">			g2.drawString(<span class="string">"低头思故乡。"</span>, <span class="number">120</span>, <span class="number">120</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		DrawString frame=<span class="keyword">new</span> DrawString();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/60.png" alt="图片"></p>
<h2 id="4-_u7ED8_u5236_u56FE_u50CF"><a href="#4-_u7ED8_u5236_u56FE_u50CF" class="headerlink" title="4.绘制图像"></a>4.绘制图像</h2><p>(1)绘制图像<br>绘图类不仅可以绘制图形和文本，还可以使用Graphics2D类的drawImage()方法将图片资源绘制到绘图上下文中，而且可以实现图片的缩放、翻转、倾斜、旋转等效果。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">drawImage</span><span class="params">(Image img,int x,int y,ImageObserver observer)</span></span><span class="comment">//在x,y指定位置上将图像对象img指定的图片绘制到上下文 observer：要通知的图像观察者</span></span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">DrawImageFrame</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">JFrame</span> &#123;</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">Image</span> img=<span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">JPanel</span> panel=<span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">Canvas</span> canvas=<span class="literal">null</span>;<span class="comment">//画布</span></span><br><span class="line">	public <span class="type">DrawImageFrame</span>() &#123;</span><br><span class="line">		<span class="type">URL</span> imgurl=getClass().getResource(<span class="string">"/img/img.jpg"</span>);<span class="comment">//图片放src下的img文件夹中</span></span><br><span class="line">		img=<span class="type">Toolkit</span>.getDefaultToolkit().getImage(imgurl);<span class="comment">//获取图片资源</span></span><br><span class="line">		canvas=<span class="keyword">new</span> <span class="type">CanvasPanel</span>();</span><br><span class="line">		setBounds(<span class="number">200</span>, <span class="number">160</span>,<span class="number">460</span>, <span class="number">300</span>);</span><br><span class="line">		setContentPane(getContPanel());</span><br><span class="line">		setDefaultCloseOperation(<span class="type">JFrame</span>.<span class="type">EXIT_ON_CLOSE</span>);</span><br><span class="line">		setTitle(<span class="string">"绘制图片"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">JPanel</span> getContPanel()&#123;</span><br><span class="line">		<span class="keyword">if</span>(panel==<span class="literal">null</span>)&#123;</span><br><span class="line">			panel=<span class="keyword">new</span> <span class="type">JPanel</span>();</span><br><span class="line">			panel.setLayout(<span class="keyword">new</span> <span class="type">BorderLayout</span>());</span><br><span class="line">			panel.add(canvas,<span class="type">BorderLayout</span>.<span class="type">CENTER</span>);</span><br><span class="line">			panel.repaint();<span class="comment">/////////////////////////重绘component的方法  component中己有的图形发生变化后不会立刻显示，须使用repaint方法。</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> panel;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">CanvasPanel</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Canvas</span>&#123;</span></span><br><span class="line">		public void paint(<span class="type">Graphics</span> g) &#123;</span><br><span class="line">			<span class="keyword">super</span>.paint(g);</span><br><span class="line">			g.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">new</span> <span class="type">DrawImageFrame</span>().setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/61.png" alt="图片"></p>
<p>(2)翻转特效<br>翻转使用Graphics2D类的另一个drawImage()方法<br>采用源矩形到目标矩形坐标的映射实现翻转<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">drawImage(Image img,<span class="keyword">int</span> dx1,<span class="keyword">int</span> dy1,<span class="keyword">int</span> dx2,<span class="keyword">int</span> dy2,<span class="keyword">int</span> sx1,<span class="keyword">int</span> sy1,<span class="keyword">int</span> sx2,<span class="keyword">int</span> sy2,ImageObserver observer)</span><br><span class="line"></span><br><span class="line">dx1,dy1,dx2,dy2分别为目标矩形的第<span class="number">1</span>,<span class="number">2</span>个x,y位置；sx1,sy1,sx2,sy2分别为源矩形矩形的第<span class="number">1</span>,<span class="number">2</span>个x,y位置</span><br></pre></td></tr></table></figure></p>
<p>实例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> DrawImageFrame extends JFrame &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> dx1,dy1,dx2,dy2;<span class="comment">//目标矩形位置</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> sx1,sy1,sx2,sy2;<span class="comment">//源矩形位置</span></span><br><span class="line">	<span class="keyword">private</span> JPanel jPanel1=null;</span><br><span class="line">	<span class="keyword">private</span> JPanel jPanel2=null;</span><br><span class="line">	<span class="keyword">private</span> JButton button1=null;</span><br><span class="line">	<span class="keyword">private</span> JButton button2=null;</span><br><span class="line">	<span class="keyword">private</span> Image img=null;</span><br><span class="line">	<span class="keyword">private</span> MyCanvas canvasPanel=<span class="keyword">new</span> MyCanvas();</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DrawImageFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		dx2=sx2=<span class="number">650</span>;</span><br><span class="line">		dy2=sy2=<span class="number">650</span>;</span><br><span class="line">		URL imgURL=getClass().getResource(<span class="string">"/img/img.jpg"</span>);</span><br><span class="line">		img=Toolkit.getDefaultToolkit().getImage(imgURL);</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">700</span>, <span class="number">700</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		setTitle(<span class="string">"图片翻转"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(button1==null)&#123;<span class="comment">//水平按钮</span></span><br><span class="line">			button1=<span class="keyword">new</span> JButton();</span><br><span class="line">			button1.setText(<span class="string">"水平翻转"</span>);</span><br><span class="line">			button1.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">					sx1=Math.<span class="built_in">abs</span>(sx1-<span class="number">650</span>);<span class="comment">//水平翻转==水平方向坐标减去初始大小</span></span><br><span class="line">					sx2=Math.<span class="built_in">abs</span>(sx1-<span class="number">650</span>);</span><br><span class="line">					canvasPanel.repaint();<span class="comment">///////////////</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(button2==null)&#123;<span class="comment">//垂直按钮</span></span><br><span class="line">			button2=<span class="keyword">new</span> JButton();</span><br><span class="line">			button2.setText(<span class="string">"垂直翻转"</span>);</span><br><span class="line">			button2.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">					sy1=Math.<span class="built_in">abs</span>(sy1-<span class="number">650</span>);<span class="comment">//垂直翻转==垂直方向坐标减去初始大小</span></span><br><span class="line">					sy2=Math.<span class="built_in">abs</span>(sy1-<span class="number">650</span>);</span><br><span class="line">					canvasPanel.repaint();<span class="comment">///////////////</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(jPanel2==null)&#123;<span class="comment">//按钮控制面板</span></span><br><span class="line">			GridBagConstraints gridBagConstraints=<span class="keyword">new</span> GridBagConstraints();</span><br><span class="line">			gridBagConstraints.gridx=<span class="number">1</span>;</span><br><span class="line">			gridBagConstraints.gridy=<span class="number">0</span>;</span><br><span class="line">			jPanel2=<span class="keyword">new</span> JPanel();</span><br><span class="line">			jPanel2.setLayout(<span class="keyword">new</span> GridBagLayout());</span><br><span class="line">			jPanel2.add(button1,<span class="keyword">new</span> GridBagConstraints());</span><br><span class="line">			jPanel2.add(button2,gridBagConstraints);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(jPanel1==null)&#123;<span class="comment">//内容面板</span></span><br><span class="line">			jPanel1=<span class="keyword">new</span> JPanel();</span><br><span class="line">			jPanel1.setLayout(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">			jPanel1.add(jPanel2,BorderLayout.SOUTH);</span><br><span class="line">			jPanel1.add(canvasPanel,BorderLayout.CENTER);</span><br><span class="line">		&#125;</span><br><span class="line">		setContentPane(jPanel1);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">class</span> MyCanvas extends JPanel&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">			super.paint(g);</span><br><span class="line">			g.drawImage(img, dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2, <span class="keyword">this</span>);<span class="comment">//绘制图片</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> DrawImageFrame().setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>原图:<br><img src="/img/javause/62.png" alt="图片"><br>水平翻转:<br><img src="/img/javause/63.png" alt="图片"><br>垂直翻转:<br><img src="/img/javause/64.png" alt="图片"></p>
<p>(3)放大缩小<br>Graphics2D的drawImage()方法如下:<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drawImage(Image img,<span class="built_in">int</span> x,<span class="built_in">int</span> y,<span class="built_in">int</span> <span class="variable">width</span>,<span class="built_in">int</span> <span class="variable">height</span>,ImageObserver observer)<span class="comment">//显示在x,y位置，并指定宽高</span></span><br></pre></td></tr></table></figure></p>
<p>实例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> ImageScaleFrame extends JFrame &#123;</span><br><span class="line">	<span class="keyword">private</span> Image img=null;</span><br><span class="line">	<span class="keyword">private</span> JPanel contentJPanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">	<span class="keyword">private</span> JSlider jSlider=<span class="keyword">new</span> JSlider();<span class="comment">//滑块</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> imgWidth,imgHeight;</span><br><span class="line">	<span class="keyword">private</span> Canvas canvas=<span class="keyword">new</span> MyCanvas();<span class="comment">//画板</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ImageScaleFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line">		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		setTitle(<span class="string">"放大缩小图片"</span>);</span><br><span class="line">		URL imgUrl=getClass().getResource(<span class="string">"/img/img2.jpg"</span>);</span><br><span class="line">		img=Toolkit.getDefaultToolkit().getImage(imgUrl);<span class="comment">//获得图片资源</span></span><br><span class="line">		setContentPane(contentJPanel);<span class="comment">//设置面板内容</span></span><br><span class="line">		</span><br><span class="line">		contentJPanel.setLayout(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		contentJPanel.add(jSlider, BorderLayout.SOUTH);</span><br><span class="line">		contentJPanel.add(canvas, BorderLayout.CENTER);</span><br><span class="line">		</span><br><span class="line">		jSlider.setMaximum(<span class="number">1000</span>);</span><br><span class="line">		jSlider.setValue(<span class="number">100</span>);</span><br><span class="line">		jSlider.setMinimum(<span class="number">1</span>);</span><br><span class="line">		jSlider.addChangeListener(<span class="keyword">new</span> ChangeListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stateChanged</span><span class="params">(ChangeEvent e)</span> </span>&#123;</span><br><span class="line">				canvas.repaint();<span class="comment">//改变后重新画</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">class</span> MyCanvas extends Canvas&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">			super.paint(g);</span><br><span class="line">			<span class="keyword">int</span> newW=<span class="number">0</span>,newH=<span class="number">0</span>;</span><br><span class="line">			imgWidth=img.getWidth(<span class="keyword">this</span>);</span><br><span class="line">			imgHeight=img.getHeight(<span class="keyword">this</span>);</span><br><span class="line">			<span class="keyword">float</span> value=jSlider.getValue();<span class="comment">//滑块组件的取值</span></span><br><span class="line">			newW=(<span class="keyword">int</span>) (imgWidth*value/<span class="number">100</span>);<span class="comment">//图片缩放后大小</span></span><br><span class="line">			newH=(<span class="keyword">int</span>) (imgHeight*value/<span class="number">100</span>);</span><br><span class="line">			g.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, newW, newH, <span class="keyword">this</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> ImageScaleFrame().setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/65.png" alt="图片"><br><img src="/img/javause/66.png" alt="图片"></p>
<p>(4)倾斜<br>Graphics2D提供的shear()方法绘制图像的倾斜特效。<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">shear</span>(<span class="value">double</span> shx,<span class="value">double</span> shy)  <span class="comment">//shx、shy分别为水平垂直方向倾斜量</span></span><br></pre></td></tr></table></figure></p>
<p>将放大缩小实例部分代码修改如下:<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">Graphics2D</span> g2=(<span class="constant">Graphics2D</span>) g;</span><br><span class="line">g2.shear(<span class="number">0.5</span>, <span class="number">0</span>);<span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">//</span><span class="regexp">/倾斜</span><br><span class="line">g2.drawImage(img, 0, 0, newW, newH, this);</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/67.png" alt="图片"></p>
<p>(5)旋转<br>Graphics2D类的rotate(double rotate)方法指定图像旋转的弧度进行旋转。<br>将放大缩小实例部分代码修改如下:<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Graphics<span class="number">2</span>D <span class="keyword">g2</span>=<span class="comment">(Graphics2D)</span> g;</span><br><span class="line"><span class="keyword">g2.</span>rotate<span class="comment">(Math.toRadians(10)</span>);<span class="comment">//图片旋转10度         Math.toRadians将角度转化为弧度</span></span><br><span class="line"><span class="keyword">g2.</span>drawImage<span class="comment">(img, 0, 0, newW, newH, this)</span>;</span><br><span class="line"><span class="keyword">g2.</span>rotate<span class="comment">(Math.toRadians(10)</span>);<span class="comment">//图片旋转10度</span></span><br><span class="line"><span class="keyword">g2.</span>drawImage<span class="comment">(img, 0, 0, newW, newH, this)</span>;</span><br><span class="line"><span class="keyword">g2.</span>rotate<span class="comment">(Math.toRadians(10)</span>);<span class="comment">//图片旋转10度</span></span><br><span class="line"><span class="keyword">g2.</span>drawImage<span class="comment">(img, 0, 0, newW, newH, this)</span>;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/68.png" alt="图片"></p>
<h2 id="5-_u6253_u5370"><a href="#5-_u6253_u5370" class="headerlink" title="5.打印"></a>5.打印</h2><p>(1)打印控制类<br>PrinterJob类是进行打印控制的主要类。PrinterJob类使用单例模式，用getPrinterJob获得唯一实例，之后再次调用该方法将直接返回该对象的引用。<br>获取PrinterJob对象:<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PrinterJob job=PrinterJob.getPrinterJob()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<p>设置打印页面:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">job.<span class="function"><span class="title">setPrinterable</span><span class="params">(Printerable painter)</span></span><span class="comment">//painter:接口Printerable实现类的实例对象</span></span><br></pre></td></tr></table></figure></p>
<p>设置获取打印任务名称:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">job.<span class="function"><span class="title">setJobName</span><span class="params">(String jobName)</span></span></span><br><span class="line">String printName=job.<span class="function"><span class="title">getJobName</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></p>
<p>获取打印状态：<br>用户可以控制取消下一次打印作业<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boolean cancel=job.<span class="function"><span class="title">isCancelled</span><span class="params">()</span></span>  <span class="comment">//打印被取消时返回true,否则返回false</span></span><br></pre></td></tr></table></figure></p>
<p>(2)打印对话框<br>用户可以使用打印对话框对打印任务进行设置，如打印纸张的大小、是否彩色、打印方向、打印份数等。<br>PrinterJob类的printDialog()方法将打开”打印”对话框。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">boolean</span> ok=job.printDialog()        //用户点击打印框<span class="string">"确定"</span>返回<span class="built_in">true</span>,单击取消返回<span class="string">"false"</span></span><br></pre></td></tr></table></figure></p>
<p>(3)打印页面<br>打印页面是打印任务要执行打印的内容如文本、图片、网页和图形等。<br>打印需要实现java.awt.print.Printable接口。该接口有一个方法如下：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(Graphics graphics,PageFormat pageFormat,<span class="typename">int</span> pageInddex)     <span class="comment">//返回值可选：PAGE_EXISTS:页面可以打印  NO_SUCH_PAGE:页面不能打印</span></span><br><span class="line"><span class="string">graphics:</span>绘制打印页面的图形上下文</span><br><span class="line"><span class="string">pageFormat:</span>绘制打印页面的格式属性，如方向大小等</span><br><span class="line"><span class="string">pageInddex:</span>当前打印页的索引</span><br></pre></td></tr></table></figure></p>
<p>可打印区域：纸张除被打印机夹住区域剩余的部分<br>打印设置对话框可以设置打印区域大小，可以使用pageFormat参数设置打印区域的宽度、高度、打印区域的起始位置坐标。<br>PageFormat类常用方法:</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>getWidth()</td>
<td>获取打印页面的宽度</td>
</tr>
<tr>
<td>getHeight()</td>
<td>获取打印页面的高度</td>
</tr>
<tr>
<td>getImageableWidth()</td>
<td>获取可打印区域的宽度</td>
</tr>
<tr>
<td>getImageableHeight()</td>
<td>获取可打印区域的高度</td>
</tr>
<tr>
<td>getImageableX()</td>
<td>获取可打印区域左上方起始坐标x轴的位置</td>
</tr>
<tr>
<td>getImageableY()</td>
<td>获取可打印区域左上方起始坐标x轴的位置</td>
</tr>
</tbody>
</table>
<p>实例：打印《静夜思》<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> PrintDemo extends JFrame &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		PrinterJob job=PrinterJob.getPrinterJob();<span class="comment">//获取打印对象</span></span><br><span class="line">		<span class="keyword">if</span>(!job.printDialog())<span class="comment">//打开打印对话框</span></span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		job.setPrintable(<span class="keyword">new</span> Printable() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">print</span><span class="params">(Graphics graphics, PageFormat pageFormat, <span class="keyword">int</span> pageIndex)</span></span><br><span class="line">					throws PrinterException </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(pageIndex&gt;<span class="number">0</span>)<span class="comment">//////////////////当前打印页索引大于0时不能打印</span></span><br><span class="line">					<span class="keyword">return</span> Printable.NO_SUCH_PAGE;</span><br><span class="line">				<span class="keyword">int</span> x=(<span class="keyword">int</span>) pageFormat.getImageableX();</span><br><span class="line">				<span class="keyword">int</span> y=(<span class="keyword">int</span>) pageFormat.getImageableY();</span><br><span class="line">				Graphics2D  g2=(Graphics2D) graphics;</span><br><span class="line">				g2.setColor(Color.BLUE);</span><br><span class="line">				Font font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.BOLD, <span class="number">24</span>);</span><br><span class="line">				g2.setFont(font);</span><br><span class="line">				g2.drawString(<span class="string">"静夜思"</span>, <span class="number">80</span>, <span class="number">40</span>);</span><br><span class="line">				font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>,Font.BOLD|Font.ITALIC,<span class="number">18</span>);</span><br><span class="line">				g2.setFont(font);</span><br><span class="line">				g2.drawString(<span class="string">"李白"</span>, <span class="number">130</span>, <span class="number">70</span>);</span><br><span class="line">				font=<span class="keyword">new</span> Font(<span class="string">"宋体"</span>, Font.PLAIN, <span class="number">14</span>);</span><br><span class="line">				g2.setFont(font);</span><br><span class="line">				g2.drawString(<span class="string">"床前明月光，"</span>, <span class="number">40</span>, <span class="number">100</span>);</span><br><span class="line">				g2.drawString(<span class="string">"疑是地上霜。"</span>, <span class="number">120</span>, <span class="number">100</span>);</span><br><span class="line">				g2.drawString(<span class="string">"举头望明月，"</span>, <span class="number">40</span>, <span class="number">120</span>);</span><br><span class="line">				g2.drawString(<span class="string">"低头思故乡。"</span>, <span class="number">120</span>, <span class="number">120</span>);</span><br><span class="line">				<span class="keyword">return</span> Printable.PAGE_EXISTS;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		job.setJobName(<span class="string">"打印唐诗"</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			job.print();<span class="comment">////////////////////打印</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (PrinterException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行效果:<br><img src="/img/javause/69.png" alt="图片"><br>打印效果:<br><img src="/img/javause/70.png" alt="图片"></p>
<h2 id="6-_u7EC3_u4E60-1"><a href="#6-_u7EC3_u4E60-1" class="headerlink" title="6.练习"></a>6.练习</h2><p>(1)简单画图程序<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//画布类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> DrawPictureCanvas extends Canvas&#123;</span><br><span class="line">	<span class="keyword">private</span> Image image=null;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DrawPictureCanvas</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		super();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImage</span><span class="params">(Image image)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.image = image;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">		g.drawImage(image, <span class="number">0</span>, <span class="number">0</span>, null);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">		paint(g);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> DrawPictureFrame extends JFrame &#123;</span><br><span class="line">	BufferedImage image=<span class="keyword">new</span> BufferedImage(<span class="number">570</span>, <span class="number">390</span>, BufferedImage.TYPE_INT_BGR);<span class="comment">//创建图像对象</span></span><br><span class="line">	Graphics gs=image.getGraphics();<span class="comment">//获得图像的上下文对象</span></span><br><span class="line">	Graphics2D g=(Graphics2D) gs;</span><br><span class="line">	DrawPictureCanvas canvas=<span class="keyword">new</span> DrawPictureCanvas();<span class="comment">//创建画布</span></span><br><span class="line">	Color foreColor=Color.BLUE;<span class="comment">//定义前颜色</span></span><br><span class="line">	Color backgroundColor=Color.WHITE;<span class="comment">//定义背景颜色</span></span><br><span class="line">	boolean rubber=<span class="literal">false</span>;<span class="comment">//橡皮擦标识变量</span></span><br><span class="line">	<span class="keyword">int</span> x=-<span class="number">1</span>,y=-<span class="number">1</span>;<span class="comment">//上一次鼠标绘制点的横纵坐标</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DrawPictureFrame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">570</span>, <span class="number">390</span>);</span><br><span class="line">		g.setColor(backgroundColor);<span class="comment">//用背景颜色设置绘图上下文对象的颜色</span></span><br><span class="line">		g.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">570</span>, <span class="number">390</span>);<span class="comment">//用背景颜色填充整个画布</span></span><br><span class="line">		g.setColor(foreColor);<span class="comment">//用前景颜色设置绘图上下文对象的颜色</span></span><br><span class="line">		canvas.setImage(image);</span><br><span class="line">		canvas.setBounds(<span class="number">20</span>, <span class="number">20</span>, <span class="number">550</span>, <span class="number">370</span>);</span><br><span class="line">		getContentPane().add(canvas);<span class="comment">//添加画布到窗体</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		工具栏</span></span><br><span class="line">		JToolBar toolBar=<span class="keyword">new</span> JToolBar();</span><br><span class="line">		toolBar.setFloatable(<span class="literal">true</span>);<span class="comment">//可以移动</span></span><br><span class="line">		getContentPane().add(toolBar,BorderLayout.NORTH);<span class="comment">//添加到窗体</span></span><br><span class="line">		JButton line0_Button=<span class="keyword">new</span> JButton(<span class="string">"细线"</span>);</span><br><span class="line">		toolBar.add(line0_Button);</span><br><span class="line">		JButton line1_Button=<span class="keyword">new</span> JButton(<span class="string">"粗线"</span>);</span><br><span class="line">		toolBar.add(line1_Button);</span><br><span class="line">		JButton line2_Button=<span class="keyword">new</span> JButton(<span class="string">"较粗"</span>);</span><br><span class="line">		toolBar.add(line2_Button);</span><br><span class="line">		JButton background_Button=<span class="keyword">new</span> JButton(<span class="string">"背景颜色"</span>);</span><br><span class="line">		toolBar.add(background_Button);</span><br><span class="line">		JButton fore_Button=<span class="keyword">new</span> JButton(<span class="string">"前景颜色"</span>);</span><br><span class="line">		toolBar.add(fore_Button);</span><br><span class="line">		JButton clear_Button=<span class="keyword">new</span> JButton(<span class="string">"清除"</span>);</span><br><span class="line">		toolBar.add(clear_Button);</span><br><span class="line">		final JButton rubber_Button=<span class="keyword">new</span> JButton(<span class="string">"橡皮"</span>);</span><br><span class="line">		toolBar.add(rubber_Button);</span><br><span class="line">		JButton exit_Button=<span class="keyword">new</span> JButton(<span class="string">"退出"</span>);</span><br><span class="line">		toolBar.add(exit_Button);</span><br><span class="line">		</span><br><span class="line"><span class="comment">//为画布添加鼠标拖动事件,在画布上画画</span></span><br><span class="line">		canvas.addMouseListener(<span class="keyword">new</span> MouseAdapter() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseReleased</span><span class="params">(MouseEvent e)</span> </span>&#123;<span class="comment">//鼠标释放事件		</span></span><br><span class="line">				x=-<span class="number">1</span>;<span class="comment">//上一次鼠标绘制点的横坐标</span></span><br><span class="line">				y=-<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		canvas.addMouseMotionListener(<span class="keyword">new</span> MouseMotionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseMoved</span><span class="params">(MouseEvent e)</span> </span>&#123;<span class="comment">//设置鼠标形状</span></span><br><span class="line">				<span class="keyword">if</span>(rubber)&#123;</span><br><span class="line">					setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mouseDragged</span><span class="params">(MouseEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(rubber)&#123;</span><br><span class="line">					<span class="keyword">if</span>(x&gt;<span class="number">0</span>&amp;&amp;y&gt;<span class="number">0</span>)&#123;</span><br><span class="line">						g.setColor(backgroundColor);<span class="comment">//背景色绘制内容----擦除</span></span><br><span class="line">						g.fillRect(x, y, <span class="number">10</span>, <span class="number">10</span>);<span class="comment">//擦除鼠标经过的位置</span></span><br><span class="line"><span class="comment">//						g.fillRect(e.getX(), e.getY(), 10, 10);//擦除鼠标经过的位置</span></span><br><span class="line">					&#125;</span><br><span class="line">					x=e.getX();</span><br><span class="line">					y=e.getY();</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					<span class="keyword">if</span>(x&gt;<span class="number">0</span>&amp;&amp;y&gt;<span class="number">0</span>)&#123;</span><br><span class="line">						g.drawLine(x, y, e.getX(), e.getY());</span><br><span class="line">					&#125;</span><br><span class="line">					x=e.getX();<span class="comment">//上一次鼠标绘制点的横坐标</span></span><br><span class="line">					y=e.getY();<span class="comment">//上一次鼠标绘制点的纵坐标</span></span><br><span class="line">				&#125;</span><br><span class="line">				canvas.repaint();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line"><span class="comment">//	为工具栏添加事件</span></span><br><span class="line">		line0_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				BasicStroke bs=<span class="keyword">new</span> BasicStroke(<span class="number">1</span>, BasicStroke.CAP_BUTT,BasicStroke.JOIN_MITER);</span><br><span class="line">				g.setStroke(bs);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		line1_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				BasicStroke bs=<span class="keyword">new</span> BasicStroke(<span class="number">2</span>, BasicStroke.CAP_BUTT,BasicStroke.JOIN_MITER);</span><br><span class="line">				g.setStroke(bs);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		line2_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				BasicStroke bs=<span class="keyword">new</span> BasicStroke(<span class="number">4</span>, BasicStroke.CAP_BUTT,BasicStroke.JOIN_MITER);</span><br><span class="line">				g.setStroke(bs);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		background_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				Color bgColor=JColorChooser.showDialog(null, <span class="string">"选择颜色对话框"</span>,Color.CYAN);</span><br><span class="line">				<span class="keyword">if</span>(bgColor!=null)&#123;</span><br><span class="line">					backgroundColor=bgColor;</span><br><span class="line">				&#125;</span><br><span class="line">				g.setColor(backgroundColor);</span><br><span class="line">				g.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">570</span>, <span class="number">390</span>);</span><br><span class="line">				g.setColor(foreColor);</span><br><span class="line">				canvas.repaint();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		fore_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				Color fColor=JColorChooser.showDialog(null, <span class="string">"选择颜色对话框"</span>,Color.CYAN);</span><br><span class="line">				<span class="keyword">if</span>(fColor!=null)&#123;</span><br><span class="line">					foreColor=fColor;</span><br><span class="line">				&#125;</span><br><span class="line">				g.setColor(foreColor);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		clear_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				g.setColor(backgroundColor);</span><br><span class="line">				g.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">570</span>, <span class="number">390</span>);</span><br><span class="line">				g.setColor(foreColor);</span><br><span class="line">				canvas.repaint();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		rubber_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(rubber_Button.getText().equals(<span class="string">"橡皮"</span>))&#123;</span><br><span class="line">					rubber=<span class="literal">true</span>;</span><br><span class="line">					rubber_Button.setText(<span class="string">"画图"</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					rubber=<span class="literal">false</span>;</span><br><span class="line">					rubber_Button.setText(<span class="string">"橡皮"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		exit_Button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">				System.<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		DrawPictureFrame frame=<span class="keyword">new</span> DrawPictureFrame();</span><br><span class="line">		frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/71.png" alt="图片"></p>
<p>(2)打印预览<br>java.swing没有提供打印预览，打印预览可以使用户在打印前查看要打印的内容和样式。<br>在组件的paint()方法中调用Printable接口的print()方法就可以实现打印预览。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintPanel</span> <span class="keyword">extends</span> <span class="title">JPanel</span> <span class="keyword">implements</span> <span class="title">Printable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> JButton printButton;</span><br><span class="line">	<span class="keyword">private</span> JButton previewButton;</span><br><span class="line">	<span class="keyword">private</span> JPanel controlJPanel;</span><br><span class="line">	<span class="keyword">private</span> Image img;</span><br><span class="line">	<span class="keyword">private</span> Dimension size;</span><br><span class="line">	<span class="keyword">private</span> PrinterJob job;</span><br><span class="line">	<span class="keyword">private</span> JFrame previewDialog;</span><br><span class="line">	<span class="keyword">private</span> PageFormat pf;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> URL imgUrl=<span class="keyword">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">PrintPanel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		setLayout(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">		setBackground(Color.WHITE);</span><br><span class="line">		add(getControlPanel(),BorderLayout.SOUTH);</span><br><span class="line">		pf=<span class="keyword">new</span> PageFormat();</span><br><span class="line">		pf.setOrientation(PageFormat.LANDSCAPE);</span><br><span class="line">		job=PrinterJob.getPrinterJob();</span><br><span class="line">		previewDialog=<span class="keyword">new</span> JFrame(<span class="string">"显示预览效果"</span>);</span><br><span class="line">		previewDialog.setSize(<span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">drawPage</span><span class="params">(Graphics2D g2)</span></span>&#123;</span><br><span class="line">		g2.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> JButton <span class="title">getPreviewButton</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(previewButton==<span class="keyword">null</span>)&#123;</span><br><span class="line">			previewButton=<span class="keyword">new</span> JButton();</span><br><span class="line">			previewButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">					pf=job.pageDialog(pf);</span><br><span class="line">					MyCanvas canvas=<span class="keyword">new</span> MyCanvas(pf, img);</span><br><span class="line">					JScrollPane spanel=<span class="keyword">new</span> JScrollPane(canvas);</span><br><span class="line">					previewDialog.getContentPane().setLayout(<span class="keyword">new</span> BorderLayout());</span><br><span class="line">					previewDialog.getContentPane().add(spanel);</span><br><span class="line">					previewDialog.setVisible(<span class="keyword">true</span>);</span><br><span class="line">					canvas.repaint();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			previewButton.setText(<span class="string">"打印预览"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> previewButton;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> JButton <span class="title">getPrintButton</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(printButton==<span class="keyword">null</span>)&#123;</span><br><span class="line">			printButton=<span class="keyword">new</span> JButton();</span><br><span class="line">			printButton.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">				<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">					job.setPrintable(PrintPanel.<span class="keyword">this</span>);</span><br><span class="line">					job.setJobName(<span class="string">"打印图形"</span>);</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						job.print();</span><br><span class="line">					&#125; <span class="keyword">catch</span> (PrinterException e1) &#123;</span><br><span class="line">						e1.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			printButton.setText(<span class="string">"打印"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> printButton;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> JPanel <span class="title">getControlPanel</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(controlJPanel==<span class="keyword">null</span>)&#123;</span><br><span class="line">			controlJPanel=<span class="keyword">new</span> JPanel();</span><br><span class="line">			controlJPanel.setBorder(<span class="keyword">new</span> LineBorder(Color.BLUE, <span class="number">1</span>, <span class="keyword">false</span>));</span><br><span class="line">			<span class="keyword">final</span> FlowLayout flowLayout=<span class="keyword">new</span> FlowLayout();</span><br><span class="line">			flowLayout.setHgap(<span class="number">20</span>);</span><br><span class="line">			controlJPanel.setLayout(flowLayout);</span><br><span class="line">			controlJPanel.add(getPreviewButton());</span><br><span class="line">			controlJPanel.add(getPrintButton());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> controlJPanel;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="annotation">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">paintComponent</span><span class="params">(Graphics g)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.paintComponent(g);</span><br><span class="line">		<span class="keyword">if</span>(size==<span class="keyword">null</span>)&#123;</span><br><span class="line">			size=getSize();</span><br><span class="line">			img=Toolkit.getDefaultToolkit().getImage(imgUrl);</span><br><span class="line">		&#125;</span><br><span class="line">		Graphics2D g2=(Graphics2D) g;</span><br><span class="line">		drawPage(g2);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">print</span><span class="params">(Graphics graphics, PageFormat pageFormat, <span class="keyword">int</span> pageIndex)</span></span><br><span class="line">			<span class="keyword">throws</span> PrinterException </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(pageIndex&gt;<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> Printable.NO_SUCH_PAGE;</span><br><span class="line">		<span class="keyword">int</span> x=(<span class="keyword">int</span>) pageFormat.getImageableX();</span><br><span class="line">		<span class="keyword">int</span> y=(<span class="keyword">int</span>) pageFormat.getImageableY();</span><br><span class="line">		Graphics2D g2=(Graphics2D) graphics;</span><br><span class="line">		g2.translate(x, y);</span><br><span class="line">		drawPage(g2);</span><br><span class="line">		<span class="keyword">return</span> Printable.PAGE_EXISTS;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		JFrame frame=<span class="keyword">new</span> JFrame(<span class="string">"打印预览"</span>);</span><br><span class="line">		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		frame.setSize(<span class="number">600</span>, <span class="number">480</span>);</span><br><span class="line">		imgUrl=PrintPanel.class.getResource(<span class="string">"/img/img2.jpg"</span>);</span><br><span class="line">		PrintPanel canvas=<span class="keyword">new</span> PrintPanel();</span><br><span class="line">		frame.add(canvas);</span><br><span class="line">		frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/javause/72.png" alt="图片"><br><img src="/img/javause/73.png" alt="图片"><br><img src="/img/javause/74.png" alt="图片"></p>
<h1 id="u9644_u5F55_uFF1AJAVA_u67E5_u8BE2"><a href="#u9644_u5F55_uFF1AJAVA_u67E5_u8BE2" class="headerlink" title="附录：JAVA查询"></a>附录：JAVA查询</h1><h2 id="1-_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7"><a href="#1-_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7" class="headerlink" title="1.运算符优先级"></a>1.运算符优先级</h2><p>由高到低如下：<br>括号：（）<br>正负号：+，-<br>一元运算符：++，–，！<br>乘除：*，/,%<br>加减:+,-<br>移位运算：&lt;&lt;,&gt;&gt;,&gt;&gt;&gt;<br>比较大小:&lt;,&gt;,&lt;=,&gt;=<br>比较是否相等:==,!=<br>按位与：&amp;<br>按位异或：^<br>按位或：|<br>逻辑与:&amp;&amp;<br>逻辑或：||<br>三元运算符：？：<br>赋值运算符：=</p>
<h2 id="2-java_u5173_u952E_u5B57"><a href="#2-java_u5173_u952E_u5B57" class="headerlink" title="2.java关键字"></a>2.java关键字</h2><p>int,public,this,finally,boolean,abstract,continue,float,long,short,throw,throws,return,break,<br>for,static,new,interface,if,goto,default,byte,do,case,strictfp,package,super,void,try,switch,<br>else,catch,implements,private,final,class,extends,volatile,while,synchronized,instanceof,char,<br>protected,import,transient,double</p>
<h2 id="3-_u952E_u76D8keycode_u5217_u8868"><a href="#3-_u952E_u76D8keycode_u5217_u8868" class="headerlink" title="3.键盘keycode列表"></a>3.键盘keycode列表</h2><p><img src="/img/javause/keycode.jpg" alt="图片"></p>
<h2 id="4-_u5F02_u5E38_u5904_u7406"><a href="#4-_u5F02_u5E38_u5904_u7406" class="headerlink" title="4.异常处理"></a>4.异常处理</h2><p>异常产生后不做处理程序将会结束，使用try-catch方法或者将异常向上抛出由方法的调用者来处理，进行异常处理后异常语句后面的代码继续执行<br>原则：<br>（1）当前方法声明中使用try-catch语句捕获异常<br>（2）一个方法被覆盖时，覆盖他的方法必须抛出相同的异常或者异常的子类<br>（3）如果父类抛出多个异常，那么覆盖方法必须抛出那些异常的一个子集，不能抛出新异常<br>try-catch方法：<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">try</span>&#123;</span><br><span class="line"><span class="comment">//程序代码块</span></span><br><span class="line">&#125;<span class="tag">catch</span>(Exceptiontype1 e)&#123;</span><br><span class="line"><span class="comment">//Exceptiontype1异常处理</span></span><br><span class="line">&#125;<span class="tag">catch</span>(Exceptiontype2 e)&#123;</span><br><span class="line"><span class="comment">//Exceptiontype2异常处理</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="tag">finally</span>&#123;</span><br><span class="line"><span class="comment">//程序块，永远会执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>throws关键字抛出异常:<br>throws关键字通常应用在声明方法时，用来指定方法可能抛出的异常，多个异常可以用”,”分隔<br>使用throws关键字将异常抛给上级调用者后，如果不想处理，可以继续向上抛出，但是最终一定要有处理该异常的语句<br>eg:<br><figure class="highlight nimrod"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//异常处理加不加运行时都不会报错，当出现异常时抛出异常</span><br><span class="line">public class <span class="type">Mytest</span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> pop(<span class="type">int</span> num1,<span class="type">int</span> num2) throws <span class="type">ArithmeticException</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1/num2;</span><br><span class="line">	&#125;</span><br><span class="line">	public <span class="keyword">static</span> <span class="type">void</span> main(<span class="type">String</span>[] args) &#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="type">int</span> <span class="literal">result</span>=pop(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.print(<span class="literal">result</span>);</span><br><span class="line">		&#125;catch(<span class="type">ArithmeticException</span> e)&#123;</span><br><span class="line">			//e.printStackTrace();</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.println(<span class="string">"除数不能为0!"</span>);//除数不能为<span class="number">0</span>!</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>自定义异常：<br>（1）创建自定义异常类，必须继承自Exception类<br>（2）在方法中通过throw(区别于throws)关键字抛出异常对象<br>（3）当前抛出异常的方法中处理可以使用try-catch语句捕获并处理，否则在方法声明处通过throws关键字指明要抛出给方法调用者的异常，继续进行下一步操作<br>（4）在出现异常方法的调用者中捕获并处理异常<br>实例:<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyException</span> <span class="title">extends</span> <span class="title">Exception</span> &#123;</span><br><span class="line">	String msg;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyException</span>(<span class="params">String errorMsg</span>)</span>&#123;</span><br><span class="line">		msg=errorMsg;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span>(<span class="params"></span>)</span>&#123;<span class="comment">//覆盖getMessage()方法</span></span><br><span class="line">		<span class="keyword">return</span> msg;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mytest</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">pop</span>(<span class="params"><span class="keyword">int</span> num1,<span class="keyword">int</span> num2</span>) throws MyException</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(num2&lt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> MyException(<span class="string">"除数不能&lt;0"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> num1/num2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">int</span> result=pop(<span class="number">1</span>,-<span class="number">1</span>);</span><br><span class="line">			System.<span class="keyword">out</span>.print(result);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(MyException e)&#123;</span><br><span class="line">			System.<span class="keyword">out</span>.println(e.getMessage());<span class="comment"><span class="xmlDocTag">///</span><span class="xmlDocTag">///</span>输出异常信息</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(ArithmeticException e)&#123;</span><br><span class="line">			<span class="comment">//e.printStackTrace();</span></span><br><span class="line">			System.<span class="keyword">out</span>.println(<span class="string">"除数不能为0!"</span>);<span class="comment">//除数不能为0!</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			System.<span class="keyword">out</span>.println(<span class="string">"发生了其他异常"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>常见异常列表：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ClassCastException<span class="comment">----------------------------类型转换异常类</span></span><br><span class="line">ClassNotFoundException<span class="comment">------------------------未找到相应类异常</span></span><br><span class="line">ArithmeticException<span class="comment">---------------------------算术异常类</span></span><br><span class="line">ArrayIndexOutOfBoundsException<span class="comment">----------------数组下标越界异常类</span></span><br><span class="line">ArrayStoreException<span class="comment">---------------------------数组中包含不兼容的值异常类</span></span><br><span class="line">SQLException<span class="comment">----------------------------------操作数据库异常类</span></span><br><span class="line">NullPointerException<span class="comment">-------------------------空指针异常类</span></span><br><span class="line">NoSuchFiledException<span class="comment">--------------------------字节未找到异常类</span></span><br><span class="line">NoSuchMethodException<span class="comment">-------------------------方法未找到异常类</span></span><br><span class="line">NumberFormatException<span class="comment">-------------------------字符串转换为数字异常类</span></span><br><span class="line">NegativeArraySizeException<span class="comment">--------------------数组元素个数为负数异常</span></span><br><span class="line">StringIndexOutOfBoundsException<span class="comment">---------------字符串索引超出范围异常</span></span><br><span class="line">IOException<span class="comment">-----------------------------------输入输出异常</span></span><br><span class="line">IllegalAccessException<span class="comment">------------------------不允许访问某类异常</span></span><br><span class="line">InstantiationException<span class="comment">------------------------使用newInstance方法创建一个类的实例，而指定类无法被实例化时抛出异常</span></span><br><span class="line">EOFException<span class="comment">----------------------------------文件结束异常</span></span><br><span class="line">FileNotFoundException<span class="comment">-------------------------文件未找到异常</span></span><br></pre></td></tr></table></figure></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVA/" rel="tag">#JAVA</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/01/27/MySql/" rel="next" title="MySql">
                <i class="fa fa-chevron-left"></i> MySql
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/02/02/div_css_use/" rel="prev" title="DIV+CSS网站布局">
                DIV+CSS网站布局 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/02/02/java_use/"
     data-title="JAVA学习篇"
     data-content=""
     data-url="http://www.bestzhangjin.com/2016/02/02/java_use/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/02/02/java_use/"
           data-title="JAVA学习篇" data-url="http://www.bestzhangjin.com/2016/02/02/java_use/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpeg" alt="Jin Zhang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Jin Zhang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">天高任鸟飞，海阔凭鱼跃。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E00_u7AE0_uFF1A_u4ECB_u7ECD"><span class="nav-number">1.</span> <span class="nav-text">第一章：介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u672C_u6559_u7A0B_u4ECB_u7ECD"><span class="nav-number">1.1.</span> <span class="nav-text">1.本教程介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5E38_u7528_u5F00_u53D1_u73AF_u5883_u4ECB_u7ECD"><span class="nav-number">1.2.</span> <span class="nav-text">2.常用开发环境介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-java_u5E94_u7528_u9886_u57DF"><span class="nav-number">1.3.</span> <span class="nav-text">3.java应用领域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u57FA_u672C_u77E5_u8BC6_u6784_u67B6"><span class="nav-number">1.4.</span> <span class="nav-text">4.基本知识构架</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E8C_u7AE0_uFF1A_u57FA_u672C_u77E5_u8BC6"><span class="nav-number">2.</span> <span class="nav-text">第二章：基本知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u6570_u636E_u7C7B_u578B"><span class="nav-number">2.1.</span> <span class="nav-text">1.数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u8FD0_u7B97_u7B26"><span class="nav-number">2.2.</span> <span class="nav-text">2.运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u5E38_u91CF_u53D8_u91CF_uFF0C_u6807_u8BC6_u7B26_u5173_u952E_u5B57_uFF0C_u6CE8_u91CA"><span class="nav-number">2.3.</span> <span class="nav-text">3.常量变量，标识符关键字，注释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u6D41_u7A0B_u63A7_u5236_u8BED_u53E5"><span class="nav-number">2.4.</span> <span class="nav-text">4.流程控制语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u6570_u7EC4"><span class="nav-number">2.5.</span> <span class="nav-text">5.数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u5B57_u7B26_u4E32"><span class="nav-number">2.6.</span> <span class="nav-text">6.字符串</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E09_u7AE0__u7C7B_uFF08_u5BF9_u8C61_uFF09_u3001_u7EE7_u627F_u4E0E_u591A_u6001_u3001_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B"><span class="nav-number">3.</span> <span class="nav-text">第三章 类（对象）、继承与多态、接口与抽象类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u7C7B_u4E0E_u5BF9_u8C61"><span class="nav-number">3.1.</span> <span class="nav-text">1.类与对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u7EE7_u627F_u4E0E_u591A_u6001"><span class="nav-number">3.2.</span> <span class="nav-text">2.继承与多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u63A5_u53E3_u4E0E_u62BD_u8C61_u7C7B"><span class="nav-number">3.3.</span> <span class="nav-text">3.接口与抽象类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u56DB_u7AE0__u96C6_u5408_u7C7B_uFF08_u5BB9_u5668_uFF09"><span class="nav-number">4.</span> <span class="nav-text">第四章 集合类（容器）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Collection_u63A5_u53E3"><span class="nav-number">4.1.</span> <span class="nav-text">1.Collection接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5E38_u89C1_u96C6_u5408_u7C7B"><span class="nav-number">4.2.</span> <span class="nav-text">2.常见集合类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E94_u7AE0_IO_u6D41"><span class="nav-number">5.</span> <span class="nav-text">第五章 IO流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u6587_u4EF6_u7C7B"><span class="nav-number">5.1.</span> <span class="nav-text">1.文件类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5B57_u8282_u8F93_u5165_u8F93_u51FA_u6D41"><span class="nav-number">5.2.</span> <span class="nav-text">2.字节输入输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u5B57_u7B26_u8F93_u5165_u8F93_u51FA_u6D41"><span class="nav-number">5.3.</span> <span class="nav-text">3.字符输入输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u64CD_u4F5C"><span class="nav-number">5.4.</span> <span class="nav-text">4.操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u516D_u7AE0_TCP_u4E0EUDP_u534F_u8BAE"><span class="nav-number">6.</span> <span class="nav-text">第六章 TCP与UDP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u7F51_u7EDC_u7F16_u7A0B_u5FC5_u9700_u7AEF_u53E3_u4E0E_u5957_u63A5_u5B57"><span class="nav-number">6.1.</span> <span class="nav-text">1.网络编程必需端口与套接字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-TCP_u7F16_u7A0B_u539F_u7406"><span class="nav-number">6.2.</span> <span class="nav-text">2.TCP编程原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-UDP_u7F16_u7A0B_u539F_u7406"><span class="nav-number">6.3.</span> <span class="nav-text">3.UDP编程原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u7EC3_u4E60"><span class="nav-number">6.4.</span> <span class="nav-text">4.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E03_u7AE0__u7A97_u53E3_u7A0B_u5E8F_u5F00_u53D1"><span class="nav-number">7.</span> <span class="nav-text">第七章 窗口程序开发</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u521B_u5EFAJFrame_u7A97_u4F53"><span class="nav-number">7.1.</span> <span class="nav-text">1.创建JFrame窗体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5411_u7A97_u4F53_u6DFB_u52A0_u9762_u677F"><span class="nav-number">7.2.</span> <span class="nav-text">2.向窗体添加面板</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u5E03_u5C40"><span class="nav-number">7.3.</span> <span class="nav-text">3.布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u57FA_u672C_u63A7_u4EF6"><span class="nav-number">7.4.</span> <span class="nav-text">4.基本控件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u7EC3_u4E60"><span class="nav-number">7.5.</span> <span class="nav-text">5.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u516B_u7AE0__u591A_u7EBF_u7A0B_u6280_u672F"><span class="nav-number">8.</span> <span class="nav-text">第八章 多线程技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u591A_u7EBF_u7A0B_u4ECB_u7ECD"><span class="nav-number">8.1.</span> <span class="nav-text">1.多线程介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5B9E_u73B0_u591A_u7EBF_u7A0B"><span class="nav-number">8.2.</span> <span class="nav-text">2.实现多线程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u7EBF_u7A0B_u63A7_u5236"><span class="nav-number">8.3.</span> <span class="nav-text">3.线程控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u7EC3_u4E60-1"><span class="nav-number">8.4.</span> <span class="nav-text">4.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E5D_u7AE0_JDBC_u6280_u672F"><span class="nav-number">9.</span> <span class="nav-text">第九章 JDBC技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-JBDC_u4E0D_u53EF_u7F3A_u5C11_u7684_u63A5_u53E3_u4E0E_u7C7B"><span class="nav-number">9.1.</span> <span class="nav-text">1.JBDC不可缺少的接口与类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u6570_u636E_u5E93_u64CD_u4F5C"><span class="nav-number">9.2.</span> <span class="nav-text">2.数据库操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u4F7F_u7528_u9884_u5904_u7406_u8BED_u53E5"><span class="nav-number">9.3.</span> <span class="nav-text">3.使用预处理语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u7EC3_u4E60-2"><span class="nav-number">9.4.</span> <span class="nav-text">4.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u7AE0_GUI_u4E8B_u4EF6_u5904_u7406_u673A_u5236"><span class="nav-number">10.</span> <span class="nav-text">第十章 GUI事件处理机制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-GUI_u4E8B_u4EF6"><span class="nav-number">10.1.</span> <span class="nav-text">1.GUI事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u52A8_u4F5C_u4E8B_u4EF6"><span class="nav-number">10.2.</span> <span class="nav-text">2.动作事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u7A97_u4F53_u63A7_u5236"><span class="nav-number">10.3.</span> <span class="nav-text">3.窗体控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u9F20_u6807_u63A7_u5236"><span class="nav-number">10.4.</span> <span class="nav-text">4.鼠标控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u952E_u76D8_u63A7_u5236"><span class="nav-number">10.5.</span> <span class="nav-text">5.键盘控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u7EC3_u4E60"><span class="nav-number">10.6.</span> <span class="nav-text">6.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u4E00_u7AE0_Swing_u7684_u9AD8_u7EA7_u63A7_u4EF6"><span class="nav-number">11.</span> <span class="nav-text">第十一章 Swing的高级控件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u83DC_u5355"><span class="nav-number">11.1.</span> <span class="nav-text">1.菜单</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5DE5_u5177_u680F"><span class="nav-number">11.2.</span> <span class="nav-text">2.工具栏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u8868_u683C"><span class="nav-number">11.3.</span> <span class="nav-text">3.表格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u7CFB_u7EDF_u6258_u76D8"><span class="nav-number">11.4.</span> <span class="nav-text">4.系统托盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u7EC3_u4E60-1"><span class="nav-number">11.5.</span> <span class="nav-text">5.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u4E8C_u7AE0__u7ED8_u56FE_u4E0E_u6253_u5370_u6280_u672F"><span class="nav-number">12.</span> <span class="nav-text">第十二章 绘图与打印技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-java_u7ED8_u56FE"><span class="nav-number">12.1.</span> <span class="nav-text">1.java绘图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u7ED8_u56FE_u989C_u8272_u4E0E_u7B14_u753B_u5C5E_u6027"><span class="nav-number">12.2.</span> <span class="nav-text">2.绘图颜色与笔画属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u7ED8_u5236_u6587_u672C"><span class="nav-number">12.3.</span> <span class="nav-text">3.绘制文本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u7ED8_u5236_u56FE_u50CF"><span class="nav-number">12.4.</span> <span class="nav-text">4.绘制图像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u6253_u5370"><span class="nav-number">12.5.</span> <span class="nav-text">5.打印</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u7EC3_u4E60-1"><span class="nav-number">12.6.</span> <span class="nav-text">6.练习</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u9644_u5F55_uFF1AJAVA_u67E5_u8BE2"><span class="nav-number">13.</span> <span class="nav-text">附录：JAVA查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7"><span class="nav-number">13.1.</span> <span class="nav-text">1.运算符优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-java_u5173_u952E_u5B57"><span class="nav-number">13.2.</span> <span class="nav-text">2.java关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u952E_u76D8keycode_u5217_u8868"><span class="nav-number">13.3.</span> <span class="nav-text">3.键盘keycode列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u5F02_u5E38_u5904_u7406"><span class="nav-number">13.4.</span> <span class="nav-text">4.异常处理</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jin Zhang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"bestzhangjin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
