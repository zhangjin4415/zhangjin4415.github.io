<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="SxtUWZeCB1kdMgucSmFlZL9HwwJmgQHGcp9w_p4Xtgc" />
<meta name="baidu-site-verification" content="Sil1fR2zak" />



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python," />





  <link rel="alternate" href="/atom.xml" title="做最好的自己" type="application/atom+xml" />




      <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="主要内容：Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="http://www.bestzhangjin.com/2016/06/15/python/index.html">
<meta property="og:site_name" content="做最好的自己">
<meta property="og:description" content="主要内容：Python">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/1.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/2.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/3.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/4.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/5.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/6.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/7.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/8.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/9.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/10.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/11.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/12.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/13.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/14.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/15.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/16.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/17.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/18.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/19.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/20.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/22.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/23.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/24.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/25.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/26.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/27.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/28.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/29.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/30.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/31.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/32.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/33.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/34.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/35.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/36.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/37.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/38.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/39.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/40.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/41.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/42.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/43.png">
<meta property="og:image" content="http://www.bestzhangjin.com/img/python/21.png">
<meta property="og:updated_time" content="2016-07-14T07:05:13.525Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python">
<meta name="twitter:description" content="主要内容：Python">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> Python | 做最好的自己 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">做最好的自己</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Python
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-06-15T20:36:00+08:00" content="2016-06-15">
              2016-06-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/15/python/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/15/python/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>主要内容：Python<br><a id="more"></a></p>
<h1 id="u7B2C_u4E00_u7AE0__u73AF_u5883_u642D_u5EFA"><a href="#u7B2C_u4E00_u7AE0__u73AF_u5883_u642D_u5EFA" class="headerlink" title="第一章 环境搭建"></a>第一章 环境搭建</h1><p>python有2.x和3.x之分，2.x运行速度较快，3.x功能更多，2.x开发程序更多，这里用2.x。<br>python以及开发工具PyCharm下载地址如下：<br>官网下载：<a href="https://www.python.org/downloads/" target="_blank" rel="external">https://www.python.org/downloads/</a> 注意：分64位和32位<br>官网下载：<a href="http://www.jetbrains.com/pycharm/download/#section=windows" target="_blank" rel="external">http://www.jetbrains.com/pycharm/download/#section=windows</a><br>具体安装步骤自己百度</p>
<h1 id="u7B2C_u4E8C_u7AE0__u57FA_u672C_u77E5_u8BC6"><a href="#u7B2C_u4E8C_u7AE0__u57FA_u672C_u77E5_u8BC6" class="headerlink" title="第二章 基本知识"></a>第二章 基本知识</h1><h2 id="1-_u53D8_u91CF"><a href="#1-_u53D8_u91CF" class="headerlink" title="1.变量"></a>1.变量</h2><p>python会自动识别变量类型，不用加变量类型<br>如：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line"><span class="built_in">c</span>=a+b</span><br><span class="line"><span class="built_in">print</span> <span class="string">"c="</span>,<span class="built_in">c</span></span><br></pre></td></tr></table></figure></p>
<p>就可以得到c= 3</p>
<p>2.判断语句<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span>  #程序中有中文时必须加#coding=utf-<span class="number">8</span> 不然会提示错误</span><br><span class="line"></span><br><span class="line">s=<span class="number">80</span></span><br><span class="line"><span class="keyword">if</span> s&gt;=<span class="number">80</span>: #注意要加冒号 :</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">"很好"</span>)</span></span> #格式必须用tab键缩进</span><br><span class="line">elif s&gt;=<span class="number">60</span>:</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">"及格"</span>)</span></span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="function"><span class="title">print</span><span class="params">(<span class="string">"很差"</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u5FAA_u73AF"><a href="#3-_u5FAA_u73AF" class="headerlink" title="3.循环"></a>3.循环</h2><p>输出0-9<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(0,10):</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"out &#123;0&#125;,&#123;1&#125;"</span>.<span class="keyword">format</span>(<span class="string">"hello"</span>,i)); #&#123;0&#125;&#123;1&#125;对应被<span class="string">"hello"</span>,i替换</span><br></pre></td></tr></table></figure></p>
<p>输出结果：<br>out hello,0<br>out hello,1<br>out hello,2<br>out hello,3<br>out hello,4<br>out hello,5<br>out hello,6<br>out hello,7<br>out hello,8<br>out hello,9</p>
<h2 id="4-_u5B9A_u4E49_u51FD_u6570"><a href="#4-_u5B9A_u4E49_u51FD_u6570" class="headerlink" title="4.定义函数"></a>4.定义函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"hello"</span>) <span class="comment">#缩进部分都属于函数sayHello</span></span><br><span class="line"></span><br><span class="line">sayHello() <span class="comment">#函数调用 不能有缩进，否则认为属于上面函数的一部分</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a&gt;b:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (max(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>输出结果：<br>hello<br>2</p>
<h2 id="5-_u7C7B-_u9762_u5411_u5BF9_u8C61"><a href="#5-_u7C7B-_u9762_u5411_u5BF9_u8C61" class="headerlink" title="5.类-面向对象"></a>5.类-面向对象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span>  <span class="comment">#构造方法 注意init两边是两杠__</span></span><br><span class="line">        self.name=name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">(self)</span>:</span> <span class="comment">#方法</span></span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"Hello &#123;0&#125;"</span>.format(self.name))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hi</span><span class="params">(Hello)</span>:</span> <span class="comment">#继承自Hello</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        Hello.__init__(self,name)<span class="comment">#继承后需要执行父类构造方法 不然会出错TypeError: __init__() takes exactly2 arguments(1 given)</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"Hi &#123;0&#125;"</span>.format(self.name))</span><br><span class="line"></span><br><span class="line">h=Hello(<span class="string">"liming"</span>) <span class="comment">#定义类</span></span><br><span class="line">h.sayHello() <span class="comment">#调用方法</span></span><br><span class="line"></span><br><span class="line">h1=Hi(<span class="string">"xiaohua"</span>)</span><br><span class="line">h1.sayHi()</span><br></pre></td></tr></table></figure>
<p>输出结果:<br>Hello liming<br>Hi xiaohua</p>
<h2 id="6-_u5F15_u5165Python_u6587_u4EF6"><a href="#6-_u5F15_u5165Python_u6587_u4EF6" class="headerlink" title="6.引入Python文件"></a>6.引入Python文件</h2><p>pi.py<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span><span class="params">(self)</span>:</span>  <span class="comment"># 方法</span></span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"Hello"</span>)</span><br></pre></td></tr></table></figure></p>
<p>my.py<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">#方法一</span><br><span class="line">import pi</span><br><span class="line">h=pi.<span class="function"><span class="title">Hello</span><span class="params">()</span></span></span><br><span class="line">h.<span class="function"><span class="title">sayHello</span><span class="params">()</span></span>#输出Hello</span><br><span class="line"></span><br><span class="line">#方法二</span><br><span class="line">from pi import Hello</span><br><span class="line">h=<span class="function"><span class="title">Hello</span><span class="params">()</span></span></span><br><span class="line">h.<span class="function"><span class="title">sayHello</span><span class="params">()</span></span>#输出Hello</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u4E09_u7AE0_Python_u8BED_u8A00Web_u5F00_u53D1_u6846_u67B6web2py"><a href="#u7B2C_u4E09_u7AE0_Python_u8BED_u8A00Web_u5F00_u53D1_u6846_u67B6web2py" class="headerlink" title="第三章 Python语言Web开发框架web2py"></a>第三章 Python语言Web开发框架web2py</h1><h2 id="1-_u521B_u5EFAweb2py_u9879_u76EE"><a href="#1-_u521B_u5EFAweb2py_u9879_u76EE" class="headerlink" title="1.创建web2py项目"></a>1.创建web2py项目</h2><p>创建如下<br><img src="/img/python/1.png" alt="image"><br>没有选择local的话会下载文件<br>当然也可以在<a href="http://web2py.com/init/default/download选择source" target="_blank" rel="external">http://web2py.com/init/default/download选择source</a> code下载之后，以后选择local<br>创建好如下：<br><img src="/img/python/2.png" alt="image"><br>可以直接点击运行如下：<br><img src="/img/python/3.png" alt="image"><br>端口用默认的8000，密码自己输入一个，这里输入123456，点击start server如下：<br><img src="/img/python/4.png" alt="image"></p>
<p>如果在创建的时候application name填写main则可以管理如下：<br><img src="/img/python/5.png" alt="image"><br>点击admin<br><img src="/img/python/6.png" alt="image"><br>密码和刚进入时设置的一样<br>登录后可以管理如下<br><img src="/img/python/7.png" alt="image"></p>
<h2 id="2-_u5904_u7406_u9759_u6001_u6587_u4EF6"><a href="#2-_u5904_u7406_u9759_u6001_u6587_u4EF6" class="headerlink" title="2.处理静态文件"></a>2.处理静态文件</h2><p>可以直接输入static里面的地址访问内容，如下：<br><img src="/img/python/8.png" alt="image"></p>
<h2 id="3-_u7F16_u5199_u63A7_u5236_u5668"><a href="#3-_u7F16_u5199_u63A7_u5236_u5668" class="headerlink" title="3.编写控制器"></a>3.编写控制器</h2><p>在controllers（控制）目录下可以新建python文件<br><img src="/img/python/9.png" alt="image"><br>新建一个hello.py访问:直接新建文件写上代码就可以访问，不用自己重新部署，会自动实时部署<br><img src="/img/python/10.png" alt="image"><br>可以直接访问方法，不写方法默认访问index方法<br><img src="/img/python/11.png" alt="image"></p>
<h1 id="u7B2C_u56DB_u7AE0_Python__u521D_u8BC6"><a href="#u7B2C_u56DB_u7AE0_Python__u521D_u8BC6" class="headerlink" title="第四章 Python 初识"></a>第四章 Python 初识</h1><h2 id="1-python_u7279_u70B9"><a href="#1-python_u7279_u70B9" class="headerlink" title="1.python特点"></a>1.python特点</h2><p>大小写严格区分。简单、支持面向对象，开源、库丰富（如邮件标准库可以实现邮件功能）,跨平台使用，解释性语言（区别于C++等编译性语言 直接通过解释器执行），高级语言。</p>
<h2 id="2-cmd_u4E0B_u7F16_u5199"><a href="#2-cmd_u4E0B_u7F16_u5199" class="headerlink" title="2.cmd下编写"></a>2.cmd下编写</h2><p><img src="/img/python/12.png" alt="image"><br>cmd下运行python文件<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python</span> xxx.<span class="keyword">py</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-Python__u8BED_u6CD5_u57FA_u7840"><a href="#3-Python__u8BED_u6CD5_u57FA_u7840" class="headerlink" title="3.Python 语法基础"></a>3.Python 语法基础</h2><p>(1)常量与变量<br>常量不可以更改<br>常量是指一旦初始化后就不能修改的固定值。c++中使用const保留字指定常量，而Python并没有定义常量的保留字。但是python是一门功能强大的语言，可以自己定义一个常量类来实现常量的功能。<br>新建const.py放python安装目录下的Lib目录下<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*- </span></span><br><span class="line"><span class="comment"># Filename: const.py </span></span><br><span class="line"><span class="comment"># 定义一个常量类实现常量的功能 </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 该类定义了一个方法__setattr()__，和一个异常ConstError, ConstError类继承 </span></span><br><span class="line"><span class="comment"># 自类TypeError. 通过调用类自带的字典__dict__, 判断定义的常量是否包含在字典 </span></span><br><span class="line"><span class="comment"># 中。如果字典中包含此变量，将抛出异常，否则，给新创建的常量赋值。 </span></span><br><span class="line"><span class="comment"># 最后两行代码的作用是把const类注册到sys.modules这个全局字典中。 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_const</span>:</span> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ConstError</span><span class="params">(TypeError)</span>:</span><span class="keyword">pass</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, name, value)</span>:</span> </span><br><span class="line">        <span class="keyword">if</span> self.__dict__.has_key(name): </span><br><span class="line">            <span class="keyword">raise</span> self.ConstError, <span class="string">"Can't rebind const (%s)"</span> %name </span><br><span class="line">        self.__dict__[name]=value </span><br><span class="line"><span class="keyword">import</span> sys </span><br><span class="line">sys.modules[__name__] = _const()</span><br></pre></td></tr></table></figure></p>
<p>test.py引入const定义常量，重复赋值常量则会出错<br><img src="/img/python/13.png" alt="image"></p>
<p>变量可以更改 如：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">1</span></span><br><span class="line">i=<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>(2)数与字符串<br>数类型:有符号型(int),长整型(long),浮点型(float),布尔型(bool),复数型(complex)。<br><img src="/img/python/14.png" alt="image"></p>
<p>字符串:用引号包含的字符<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">'hello'</span><span class="comment">#单引号</span></span><br><span class="line"><span class="built_in">print</span> a</span><br><span class="line">b=<span class="string">'It is a "boy" '</span></span><br><span class="line"><span class="built_in">print</span> b</span><br><span class="line">c=<span class="string">"It's a gril"</span></span><br><span class="line"><span class="built_in">print</span> c</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br>hello<br>It is a “boy”<br>It’s a gril</p>
<p>##单引号和双引号可以交叉使用，但是单引号中不能使用单引号，双引号中不能使用双引号</p>
<p>三引号:三个单引号或者三个双引号<br>三引号中的字符串是可以换行的，但是单引号或者双引号中是不可以换行的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#三引号 '''也可以用"""但是前后必须一致</span></span><br><span class="line">a=<span class="string">'''my</span><br><span class="line">you</span><br><span class="line">he</span><br><span class="line">she</span><br><span class="line">'''</span></span><br><span class="line"><span class="keyword">print</span> a</span><br></pre></td></tr></table></figure></p>
<p>输出：<br>my<br>you<br>he<br>she</p>
<p>转义符 \<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="string">'It\'s a boy'</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">"my\nyou"</span></span><br></pre></td></tr></table></figure></p>
<p>输出:<br>It’s a boy<br>my<br>you</p>
<p>自然字符串:如果一串字符串有转义符，也要按原样保留，可以用自然字符串，即在字符串前加上r<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">'It\'s a boy'</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">r"my\nyou"</span></span><br></pre></td></tr></table></figure></p>
<p>输出:<br>It’s a boy<br>my\nyou</p>
<p>字符串的重复，可以使用重复字符串，如将hello重复5次<br><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">a</span>=<span class="string">"hello\n"</span>*<span class="number">5</span></span><br><span class="line">print <span class="literal">a</span></span><br></pre></td></tr></table></figure></p>
<p>输出:<br>hello<br>hello<br>hello<br>hello<br>hello</p>
<p>子字符串:如”HelloWorld”中”He”,”Hello”,”World”等都是”HelloWorld”的子字符串，可以进行子字符串运输找出一个字符串中子字符串。<br>方法一：索引运算符[]<br>方法二：切片运算符[:]<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-<span class="number">8</span></span></span><br><span class="line"></span><br><span class="line">a=<span class="string">"HelloWorld"</span></span><br><span class="line"><span class="preprocessor">#索引运算从<span class="number">0</span>开始 返回下标对应的那个字符</span></span><br><span class="line">a1=a[<span class="number">0</span>]</span><br><span class="line">print a1</span><br><span class="line"><span class="preprocessor">#切片运算符[a:b]从第a下标开始到第b-<span class="number">1</span>下标，第一个下标为<span class="number">0</span></span></span><br><span class="line">a2=a[:<span class="number">2</span>]</span><br><span class="line">print a2</span><br><span class="line">a3=a[<span class="number">2</span>:]</span><br><span class="line">print a3</span><br><span class="line">a4=a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">print a4</span><br></pre></td></tr></table></figure></p>
<p>输出:<br>H<br>He<br>lloWorld<br>lloW</p>
<p>(3).数据类型<br>python中没有数组，跟数组最接近的是列表和元组<br>列表：用来储存一连串元素的容器，用[]表示，元素内容可以修改<br>元组:元组用()表示，元素内容只能读取，不能修改<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#<span class="atom">coding</span>=<span class="atom">utf</span>-<span class="number">8</span></span><br><span class="line">#列表</span><br><span class="line"><span class="atom">stu</span>=[<span class="string">"张三"</span>,<span class="string">"李四"</span>,<span class="string">"王五"</span>] #下标从<span class="number">0</span>开始</span><br><span class="line"><span class="atom">print</span> <span class="atom">stu</span>[<span class="number">2</span>]</span><br><span class="line"><span class="atom">stu</span>[<span class="number">2</span>]=<span class="string">"小明"</span></span><br><span class="line"><span class="atom">print</span> <span class="atom">stu</span>[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="atom">stu1</span>=(<span class="string">"张三"</span>,<span class="string">"李四"</span>,<span class="string">"王五"</span>)</span><br><span class="line"><span class="atom">print</span> <span class="atom">stu1</span>[<span class="number">2</span>]</span><br><span class="line">#<span class="atom">stu1</span>[<span class="number">2</span>]=<span class="string">"小明"</span>  #<span class="name">TypeError</span>: <span class="string">'tuple'</span> <span class="atom">object</span> <span class="atom">does</span> <span class="atom">not</span> <span class="atom">support</span> <span class="atom">item</span> <span class="atom">assignment</span></span><br></pre></td></tr></table></figure></p>
<p>输出：<br>王五<br>小明<br>王五</p>
<p>集合：格式set(元素) 功能：建立关系，消除重复元素<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#集合</span></span><br><span class="line">a=<span class="keyword">set</span>(<span class="string">"abcdaaafg"</span>) #<span class="keyword">set</span>([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'g'</span>, <span class="string">'f'</span>])</span><br><span class="line">b=<span class="keyword">set</span>(<span class="string">"cderr"</span>)</span><br><span class="line"><span class="preprocessor">#交集</span></span><br><span class="line">x=a&amp;b #<span class="keyword">set</span>([<span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line"><span class="preprocessor">#并集</span></span><br><span class="line">y=a|b #<span class="keyword">set</span>([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>, <span class="string">'g'</span>, <span class="string">'f'</span>, <span class="string">'r'</span>])</span><br><span class="line"><span class="preprocessor">#差集</span></span><br><span class="line">z=a-b #<span class="keyword">set</span>([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'g'</span>, <span class="string">'f'</span>])</span><br><span class="line"><span class="preprocessor">#去除重复元素</span></span><br><span class="line"><span class="keyword">new</span>=<span class="keyword">set</span>(a) #<span class="keyword">set</span>([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'g'</span>, <span class="string">'f'</span>])</span><br><span class="line">print a,x,y,z,<span class="keyword">new</span></span><br></pre></td></tr></table></figure></p>
<p>输出：<br>set([‘a’, ‘c’, ‘b’, ‘d’, ‘g’, ‘f’]) set([‘c’, ‘d’]) set([‘a’, ‘c’, ‘b’, ‘e’, ‘d’, ‘g’, ‘f’, ‘r’]) set([‘a’, ‘b’, ‘g’, ‘f’]) set([‘a’, ‘c’, ‘b’, ‘d’, ‘g’, ‘f’])</p>
<p>字典:也叫关联数组，用{}括起来如a={‘name’:’小明’,’home’:’北京’,’like’:’音乐’}<br>每个元素分为两部分。冒号左边为项目名称，右边为其值<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#字典  ''也可以用""替换</span></span><br><span class="line"><span class="operator">a</span>=&#123;<span class="string">'姓名'</span>:<span class="string">'小明'</span>,<span class="string">'家乡'</span>:<span class="string">'北京'</span>,<span class="string">'爱好'</span>:<span class="string">'音乐'</span>&#125;</span><br><span class="line">print <span class="operator">a</span>[<span class="string">'姓名'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#添加数据</span></span><br><span class="line"><span class="operator">a</span>[<span class="string">'QQ'</span>]=<span class="string">"123456"</span></span><br><span class="line">print <span class="operator">a</span>[<span class="string">"QQ"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#改数据</span></span><br><span class="line"><span class="operator">a</span>[<span class="string">'家乡'</span>]=<span class="string">'重庆'</span></span><br><span class="line">print <span class="operator">a</span>[<span class="string">'家乡'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#a.clear()#删除 a中所有的条目</span></span><br><span class="line"><span class="comment">#del a#删除整个 dict2 字典</span></span><br><span class="line"><span class="comment">#a.pop('姓名')#删除并返回键为“name”的条目</span></span><br><span class="line"><span class="comment">#print a['姓名']  #KeyError: '\xe5\xa7\x93\xe5\x90\x8d'</span></span><br></pre></td></tr></table></figure></p>
<p>输出:<br>小明<br>123456<br>重庆</p>
<p>(4).标识符<br>编程的时候起的名字统称为标识符<br>命名规则：<br>第一个字符必须只能是字母或者下划线，不能出现数字或者其他字符<br>标识符除第一个字符外，其他部分可以是字母、下划线、数字<br>对大小写敏感，name与Name不同</p>
<p>关键字：系统自带的具备特定含义的标识符，<br>常见有and,elif,global,or,else,pass,break,continue,import,class,return,for,while等</p>
<p>(5).对象<br>一切都是对象，如数字，字符串，元组等都是对象。<br>pickle(腌制):一些对象需要持久性储存，并且不丢失对象的类型与数据，我们则需要对其进行序列化，需要的时候再恢复数据，这种序列化的过程叫pickle.<br>序列化叫pickle腌制，恢复叫反pickle腌制<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">#pickle腌制</span><br><span class="line"></span><br><span class="line">import pickle</span><br><span class="line"></span><br><span class="line">#<span class="function"><span class="title">dumps</span><span class="params">(object)</span></span>将对象序列化</span><br><span class="line">lista=[<span class="string">"aaa"</span>,<span class="string">"bbb"</span>]</span><br><span class="line">print lista               #[<span class="string">'aaa'</span>, <span class="string">'bbb'</span>]</span><br><span class="line">listb=pickle.<span class="function"><span class="title">dumps</span><span class="params">(lista)</span></span></span><br><span class="line">print listb               #(lp0 S<span class="string">'aaa'</span> p1 aS<span class="string">'bbb'</span> p2 <span class="tag">a</span>.</span><br><span class="line"></span><br><span class="line">#<span class="function"><span class="title">loads</span><span class="params">(string)</span></span>将对象原样恢复,并且对象类型也是恢复为原来的格式</span><br><span class="line">listc=pickle.<span class="function"><span class="title">loads</span><span class="params">(listb)</span></span></span><br><span class="line">print listc              #[<span class="string">'aaa'</span>, <span class="string">'bbb'</span>]</span><br><span class="line"></span><br><span class="line">#<span class="function"><span class="title">dump</span><span class="params">(object,file)</span></span>将对象储存到文件里面序列化</span><br><span class="line">fa=(<span class="string">"google"</span>,<span class="string">"baidu"</span>)</span><br><span class="line">f1=<span class="function"><span class="title">file</span><span class="params">(<span class="string">'1.pkl'</span>,<span class="string">'wb'</span>)</span></span></span><br><span class="line">fa1=pickle.<span class="function"><span class="title">dump</span><span class="params">(fa,f1,True)</span></span></span><br><span class="line">print fa1                      <span class="id">#None</span></span><br><span class="line">f1.<span class="function"><span class="title">close</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">#<span class="function"><span class="title">load</span><span class="params">(object,file)</span></span>将<span class="function"><span class="title">dump</span><span class="params">()</span></span>储存在文件里面的数据恢复</span><br><span class="line">f2=<span class="function"><span class="title">file</span><span class="params">(<span class="string">'1.pkl'</span>,<span class="string">'rb'</span>)</span></span></span><br><span class="line">fb=pickle.<span class="function"><span class="title">load</span><span class="params">(f2)</span></span></span><br><span class="line">print fb                       #(<span class="string">'google'</span>, <span class="string">'baidu'</span>)</span><br><span class="line">f2.<span class="function"><span class="title">close</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></p>
<p>(6).行与缩进<br>逻辑行:一段代码在实际意义上的行数<br>物理行:实际看到的行数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#一个物理行，三个逻辑行</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"abc"</span>;<span class="keyword">print</span> <span class="string">"def"</span>;<span class="keyword">print</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#一个逻辑行，两个物理行</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'''hello</span><br><span class="line">你好</span><br><span class="line">'''</span></span><br></pre></td></tr></table></figure></p>
<p>一个物理行包含多个逻辑行时需要用分号“;”隔开，最后一个可以省略</p>
<p>行连接<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#行连接 \</span></span><br><span class="line">print <span class="string">"我们都是\</span></span><br><span class="line">好孩子<span class="string">"</span></span><br></pre></td></tr></table></figure></p>
<p>输出:<br>我们都是好孩子</p>
<p>缩进:<br>python逻辑行行首的空白是有规定的，逻辑行行首的空白不对就会导致程序出错，这与其他语言不同<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">a</span>=<span class="string">"abc"</span></span><br><span class="line"> print <span class="operator">a</span> <span class="comment">#print前面多了一个空格 出错IndentationError: unexpected indent</span></span><br></pre></td></tr></table></figure></p>
<p>一般情况逻辑行行首不会有空白，但是if,while需要缩进<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-<span class="number">8</span></span></span><br><span class="line"></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> a&gt;<span class="number">0</span>:</span><br><span class="line">    print <span class="string">"a&gt;0"</span> <span class="preprocessor">#缩进一个tab字符或者任意个空格 否则错</span></span><br><span class="line"><span class="preprocessor"># <span class="keyword">if</span> a &gt; <span class="number">0</span>:</span></span><br><span class="line"><span class="preprocessor"># print <span class="string">"a&gt;0"</span>  #错误 IndentationError: expected an indented block</span></span><br><span class="line"><span class="keyword">while</span> a&gt;<span class="number">0</span>:</span><br><span class="line">    print a</span><br><span class="line">    a-=<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>输出：<br>a&gt;0<br>1</p>
<h1 id="u7B2C_u4E94_u7AE0_Python_u6838_u5FC3_u7F16_u7A0B_u57FA_u7840_u6559_u7A0B_u4E4BPython_u8FD0_u7B97_u7B26_u3001_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7_u3001_u8868_u8FBE_u5F0F_u7B80_u4ECB"><a href="#u7B2C_u4E94_u7AE0_Python_u6838_u5FC3_u7F16_u7A0B_u57FA_u7840_u6559_u7A0B_u4E4BPython_u8FD0_u7B97_u7B26_u3001_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7_u3001_u8868_u8FBE_u5F0F_u7B80_u4ECB" class="headerlink" title="第五章 Python核心编程基础教程之Python运算符、运算符优先级、表达式简介"></a>第五章 Python核心编程基础教程之Python运算符、运算符优先级、表达式简介</h1><h2 id="1-_u8FD0_u7B97_u7B26"><a href="#1-_u8FD0_u7B97_u7B26" class="headerlink" title="1.运算符"></a>1.运算符</h2><p>常见运算符:+、-、<em>、/、*</em>、&lt;、&gt;、!=、//、%、&amp;、|、^、~、&gt;&gt;、&lt;&lt;、&lt;=、&gt;=、==、not、and、or。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-<span class="number">8</span></span></span><br><span class="line">a=<span class="number">7</span>+<span class="number">8</span> <span class="preprocessor">#<span class="number">15</span></span></span><br><span class="line">b=<span class="string">"Hello"</span>+<span class="string">" World"</span><span class="preprocessor">#Hello+World</span></span><br><span class="line">c = -(-<span class="number">8</span>)<span class="preprocessor">#<span class="number">8</span></span></span><br><span class="line">d=<span class="string">"my"</span>*<span class="number">3</span><span class="preprocessor">#mymymy</span></span><br><span class="line">e=<span class="number">7</span>/<span class="number">2</span><span class="preprocessor">#<span class="number">3</span></span></span><br><span class="line">f=<span class="number">7.0</span>/<span class="number">2</span><span class="preprocessor">#<span class="number">3.5</span></span></span><br><span class="line">g=<span class="number">7</span>/<span class="number">2.0</span><span class="preprocessor">#<span class="number">3.5</span></span></span><br><span class="line">h=<span class="number">2</span>**<span class="number">3</span><span class="preprocessor">#<span class="number">8</span></span></span><br><span class="line">k=<span class="number">3</span>&lt;<span class="number">7</span><span class="preprocessor">#True</span></span><br><span class="line">l=<span class="number">3</span>&lt;<span class="number">3</span><span class="preprocessor">#False</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">2</span>!=<span class="number">3</span><span class="preprocessor">#True</span></span><br><span class="line">b=<span class="number">2</span>!=<span class="number">2</span><span class="preprocessor">#False</span></span><br><span class="line">c=<span class="number">10</span><span class="comment">//3 #返回商的整数部分</span></span><br><span class="line">d=<span class="number">10</span>%<span class="number">3</span><span class="preprocessor">#返回商的余数</span></span><br><span class="line">e=<span class="number">10</span>%<span class="number">1</span><span class="preprocessor">#<span class="number">0</span></span></span><br><span class="line">f=<span class="number">7</span>&amp;<span class="number">18</span><span class="preprocessor">#按位与 <span class="number">2</span> <span class="number">7</span>和<span class="number">18</span>的<span class="number">2</span>进制与为<span class="number">2</span></span></span><br><span class="line">g=<span class="number">7</span>|<span class="number">18</span><span class="preprocessor">#<span class="number">23</span> 按位或</span></span><br><span class="line">h=<span class="number">7</span>^<span class="number">18</span><span class="preprocessor">#按位异或</span></span><br><span class="line">i=~<span class="number">18</span><span class="preprocessor">#按位翻转 #x=-(x+<span class="number">1</span>) ~<span class="number">18</span>=-(<span class="number">18</span>+<span class="number">1</span>)=-<span class="number">19</span></span></span><br><span class="line">j=<span class="number">18</span>&lt;&lt;<span class="number">1</span><span class="preprocessor">#<span class="number">36</span>   #左移n个单位相当于乘以<span class="number">2</span>的n次幂</span></span><br><span class="line">k=<span class="number">2</span>&lt;&lt;<span class="number">1</span><span class="preprocessor">#<span class="number">4</span></span></span><br><span class="line"></span><br><span class="line">a=<span class="number">18</span>&gt;&gt;<span class="number">1</span>  <span class="preprocessor">#<span class="number">9</span> 向右移动n个单位相当于除以<span class="number">2</span>的n次幂</span></span><br><span class="line">b=<span class="number">3</span>&lt;=<span class="number">3</span> <span class="preprocessor">#True</span></span><br><span class="line">c=<span class="number">12</span>==<span class="number">13</span> <span class="preprocessor">#False</span></span><br><span class="line">d=<span class="string">"hello"</span>==<span class="string">"hello"</span><span class="preprocessor">#True</span></span><br><span class="line">e=not d <span class="preprocessor">#False #################  逻辑非 not</span></span><br><span class="line">f=True and True <span class="preprocessor">#True #逻辑与 两个为真才为真 #逻辑与 and</span></span><br><span class="line">g=True or False <span class="preprocessor">#True 逻辑或 两个为False才为False #逻辑或 or</span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-python_u4F18_u5148_u7EA7"><a href="#2-python_u4F18_u5148_u7EA7" class="headerlink" title="2.python优先级"></a>2.python优先级</h2><p>选择优先级高的运算符先执行<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#优先级排行榜</span></span><br><span class="line"><span class="preprocessor">#<span class="number">1.</span>函数调用，寻址，下标</span></span><br><span class="line"><span class="preprocessor">#<span class="number">2.</span>幂运算 **</span></span><br><span class="line">a=<span class="number">2</span>*<span class="number">3</span>**<span class="number">2</span> <span class="preprocessor">#<span class="number">18</span></span></span><br><span class="line"><span class="preprocessor">#<span class="number">3.</span>翻转运算 ~</span></span><br><span class="line"><span class="preprocessor">#<span class="number">4.</span>正负号</span></span><br><span class="line">b=<span class="number">4</span>*-<span class="number">2</span> <span class="preprocessor">#-<span class="number">8</span></span></span><br><span class="line"><span class="preprocessor">#<span class="number">5.</span>乘除符号</span></span><br><span class="line"><span class="preprocessor">#<span class="number">6.</span>加减符号 + -</span></span><br><span class="line"><span class="preprocessor">#<span class="number">7.</span>向左移动向右移动 &lt;&lt;,&gt;&gt;</span></span><br><span class="line"><span class="preprocessor">#<span class="number">8.</span>按位&amp;,^,|</span></span><br><span class="line"><span class="preprocessor">#<span class="number">9.</span>比较运算符</span></span><br><span class="line">c=<span class="number">2</span>*<span class="number">2</span>+<span class="number">1</span>&lt;<span class="number">6</span> <span class="preprocessor">#True</span></span><br><span class="line"><span class="preprocessor">#<span class="number">10.</span>逻辑not,and,or</span></span><br><span class="line"><span class="preprocessor">#<span class="number">11.l</span>ambda表达式</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#优先级使用规律</span></span><br><span class="line"><span class="preprocessor">#一般情况是左结合的</span></span><br><span class="line"><span class="preprocessor">#出现赋值时候一般是右结合的</span></span><br></pre></td></tr></table></figure></p>
<p>优先级记忆规律:<br>函数寻址下标一，幂运算小二小(<em>^__^</em>) 嘻嘻……；<br>全体单元第三位；单元运算符就是操作一个操作对象的运算符，如~，正负号<br>乘除求余四千里；<br>乘除完了五加减；<br>六娃玩耍左右移；<br>七是按位或跟与; 同时包括异或<br>八仙生气要比敌； 比较运算符<br>倒数第一逻辑或非与；<br>lambda表达式刚开始很少遇到，遇到时候将其放最低优先级；</p>
<p>不知道可以用()包含则先计算，优先级最高的是()里面的。</p>
<h2 id="3-_u8868_u8FBE_u5F0F"><a href="#3-_u8868_u8FBE_u5F0F" class="headerlink" title="3.表达式"></a>3.表达式</h2><p>值，变量，运算符共同组成的整体叫表达式。<br>如：”ok”,a=”hello”<br>实例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-<span class="number">8</span></span></span><br><span class="line"><span class="number">4</span> <span class="preprocessor">#值表达式</span></span><br><span class="line"><span class="string">"hello"</span> <span class="preprocessor">#字符串表达式</span></span><br><span class="line"><span class="number">25</span>+<span class="number">7</span> <span class="preprocessor">#计算表达式</span></span><br><span class="line">a=<span class="number">5</span> <span class="preprocessor">#赋值表达式</span></span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u516D_u7AE0__u63A7_u5236_u6D41"><a href="#u7B2C_u516D_u7AE0__u63A7_u5236_u6D41" class="headerlink" title="第六章 控制流"></a>第六章 控制流</h1><h2 id="1-_u63A7_u5236_u6D41_u7C7B_u578B"><a href="#1-_u63A7_u5236_u6D41_u7C7B_u578B" class="headerlink" title="1.控制流类型"></a>1.控制流类型</h2><p>顺序结构，分支结构，循环结构</p>
<h2 id="2-if_uFF0Cwhile_2Cfor"><a href="#2-if_uFF0Cwhile_2Cfor" class="headerlink" title="2.if，while,for"></a>2.if，while,for</h2><p>if用法如下<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">if 条件:</span><br><span class="line">    语句;</span><br><span class="line">elif 条件:</span><br><span class="line">    语句;</span><br><span class="line">else:</span><br><span class="line">    语句;</span><br><span class="line">'''</span></span><br><span class="line">a=<span class="number">78</span>;</span><br><span class="line"><span class="keyword">if</span> a&lt;<span class="number">60</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'不及格'</span>;</span><br><span class="line"><span class="keyword">elif</span> <span class="number">60</span>&lt;=a&lt;=<span class="number">80</span>: <span class="comment">#可以用a&lt;=80</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'良好'</span>;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'优秀'</span>;</span><br></pre></td></tr></table></figure></p>
<p>while语句用法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">while 条件为真:</span><br><span class="line">    循环执行语句;</span><br><span class="line">else:  #else部分可以省略</span><br><span class="line">    条件为假执行语句:</span><br><span class="line">'''</span></span><br><span class="line">a=<span class="keyword">False</span></span><br><span class="line"><span class="keyword">while</span> a:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"hello"</span> <span class="comment">#死循环 需要避免</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"你好"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#多层嵌套</span></span><br><span class="line">b=<span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> b&lt;<span class="number">5</span>:</span><br><span class="line">    <span class="keyword">if</span> b&lt;<span class="number">3</span>:</span><br><span class="line">        <span class="keyword">print</span> b;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"hello"</span></span><br><span class="line">    b+=<span class="number">1</span>;<span class="comment">#不在else的缩进,属于while语句</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"b&gt;=5"</span></span><br><span class="line"><span class="comment">#输出 1，2，hello，hello，b&gt;=5</span></span><br></pre></td></tr></table></figure></p>
<p>for语句用法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">for 格式:</span><br><span class="line">for i in 集合:</span><br><span class="line">    执行语句;</span><br><span class="line">else:</span><br><span class="line">    执行语句：</span><br><span class="line">'''</span></span><br><span class="line">k=range(<span class="number">1</span>,<span class="number">4</span>);<span class="comment">#[1, 2, 3]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">3</span>,<span class="number">45</span>]:</span><br><span class="line">    <span class="keyword">print</span> i;<span class="comment">#1,3,45</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">print</span> j;<span class="comment">#1,2,3</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>):<span class="comment">#2代表步长 ，每两个输出一个</span></span><br><span class="line">    <span class="keyword">print</span> m;<span class="comment">#1,3</span></span><br><span class="line"><span class="comment">#嵌套分支结构</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">if</span> n%<span class="number">2</span>==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"&#123;0&#125;是偶数"</span>.format(n));</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"&#123;0&#125;是奇数"</span>.format(n));</span><br><span class="line"><span class="comment">#输出:1是奇数,2是偶数,3是奇数,4是偶数</span></span><br></pre></td></tr></table></figure></p>
<p>break语句用法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">'''</span><br><span class="line">break语句退出循环</span><br><span class="line">'''</span></span><br><span class="line">a=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> a:</span><br><span class="line">    <span class="keyword">print</span> a; <span class="comment">#输出1，2  因为下面有a==3时退出循环</span></span><br><span class="line">    a+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> a==<span class="number">3</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"><span class="comment">#输出结果:1,2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#双层嵌套循环</span></span><br><span class="line">a=<span class="number">4</span>;</span><br><span class="line"><span class="keyword">while</span> a&lt;<span class="number">6</span>: <span class="comment">#4,5循环两次</span></span><br><span class="line">    a+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">6</span>):<span class="comment">#输出1,2,3跳出当前循环，进入嵌套循环继续输出1,2,3</span></span><br><span class="line">        <span class="keyword">print</span> i;</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">3</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"><span class="comment">#运行结果:1,2,3,1,2,3</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> a&lt;<span class="number">7</span>:</span><br><span class="line">    a+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">"&#123;0&#125;输出"</span>.format(i));</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">4</span>:</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">#跳出for</span></span><br><span class="line">    <span class="keyword">if</span> a==<span class="number">5</span>:</span><br><span class="line">        <span class="keyword">break</span>;<span class="comment">#跳出while</span></span><br><span class="line"><span class="comment">#运行结果:1输出,2输出,3输出,4输出,1输出,2输出,3输出,4输出</span></span><br></pre></td></tr></table></figure></p>
<p>continue语句用法<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-8</span><br><span class="line"><span class="horizontal_rule">'''</span></span><br><span class="line">continue语句结束本次循环，继续下一次循环</span><br><span class="line"><span class="horizontal_rule">'''</span></span><br><span class="line">for i in range(1,5):</span><br><span class="line"><span class="code">    if i==3:</span></span><br><span class="line"><span class="code">        continue;</span></span><br><span class="line"><span class="code">    print i;</span></span><br><span class="line">#输出结果：1，2，4</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u4E03_u7AE0__u51FD_u6570"><a href="#u7B2C_u4E03_u7AE0__u51FD_u6570" class="headerlink" title="第七章 函数"></a>第七章 函数</h1><h2 id="1-_u51FD_u6570_u8BA4_u8BC6"><a href="#1-_u51FD_u6570_u8BA4_u8BC6" class="headerlink" title="1.函数认识"></a>1.函数认识</h2><p>函数(function)是用来封装特定功能的；分系统自带函数和用户自己定义的自定义函数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#系统自带的函数</span></span><br><span class="line"><span class="comment">#1,取字符串长度</span></span><br><span class="line">a=<span class="string">"hello"</span></span><br><span class="line"><span class="keyword">print</span> len(a) <span class="comment">#5</span></span><br><span class="line"><span class="comment">#字符串切割</span></span><br><span class="line">b=a.split(<span class="string">"e"</span>) <span class="comment">#['h', 'llo']</span></span><br><span class="line"><span class="comment">#自定义函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">m</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"hello"</span></span><br><span class="line">m(); <span class="comment">#hello</span></span><br></pre></td></tr></table></figure></p>
<p>函数定义格式：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名<span class="params">()</span>:</span></span><br><span class="line">	函数内容;...</span><br><span class="line">	函数内容;...</span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u5F62_u53C2_u4E0E_u5B9E_u53C2"><a href="#2-_u5F62_u53C2_u4E0E_u5B9E_u53C2" class="headerlink" title="2.形参与实参"></a>2.形参与实参</h2><p>形参一般发生在函数定义中，指参数的名称，而不代表参数的指；<br>实参一般在函数调用的时候出现，指的是具体的值；<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fmax</span><span class="params">(a,b)</span>:</span>  <span class="comment">#a,b代表形参，只是一个名称而已</span></span><br><span class="line">    <span class="keyword">if</span> a&gt;b:</span><br><span class="line">        <span class="keyword">print</span> a;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> b;</span><br><span class="line">fmax(<span class="number">1</span>,<span class="number">3</span>);  <span class="comment">#1,3代表实参</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u53C2_u6570_u7684_u4F20_u9012"><a href="#3-_u53C2_u6570_u7684_u4F20_u9012" class="headerlink" title="3.参数的传递"></a>3.参数的传递</h2><p>关键参数：一个函数出现多个参数的时候，我们可以通过参数的名字直接给我们的参数赋值，那么这些参数叫关键参数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#参数传递</span></span><br><span class="line"><span class="comment">#1.简单传递</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fmax</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> a&gt;b:</span><br><span class="line">        <span class="keyword">print</span> a;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> b;</span><br><span class="line">fmax(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">#2.赋值传递</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fmax2</span><span class="params">(a,b=<span class="number">8</span>)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> a;<span class="keyword">print</span> b;</span><br><span class="line">fmax2(<span class="number">2</span>);<span class="comment">#输出2,8</span></span><br><span class="line">fmax2(<span class="number">2</span>,<span class="number">9</span>);<span class="comment">#输出2,9</span></span><br><span class="line"><span class="comment">#3.关键参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fmax3</span><span class="params">(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> a;<span class="keyword">print</span> b;<span class="keyword">print</span> c;</span><br><span class="line">fmax3(<span class="number">5</span>); <span class="comment">#a=5  输出5,2,3</span></span><br><span class="line">fmax3(b=<span class="number">4</span>,a=<span class="number">6</span>); <span class="comment">#按关键字传递 不会考虑参数位置 a=6,b=4,c=3 输出:6,4，3</span></span><br><span class="line">fmax3(<span class="number">5</span>,c=<span class="number">6</span>,b=<span class="number">7</span>); <span class="comment">#5没有关键字，默认为第一个 有关键字的对应 输出:5,7,6</span></span><br><span class="line">fmax3(b=<span class="number">5</span>,c=<span class="number">6</span>,a=<span class="number">4</span>); <span class="comment">#输出4,5,6</span></span><br><span class="line"><span class="comment">#注意参数不能冲突</span></span><br><span class="line"><span class="comment">#fmax3(b=2,c=1,5); #error!!!!!!!!!!</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u5168_u5C40_u53D8_u91CF_u4E0E_u5C40_u90E8_u53D8_u91CF"><a href="#4-_u5168_u5C40_u53D8_u91CF_u4E0E_u5C40_u90E8_u53D8_u91CF" class="headerlink" title="4.全局变量与局部变量"></a>4.全局变量与局部变量</h2><p>作用域：一个变量在一定的范围内有效<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fa</span><span class="params">()</span>:</span></span><br><span class="line">    i=<span class="number">8</span>;</span><br><span class="line"><span class="keyword">print</span> i; <span class="comment">#error!!!***** i的作用范围在函数内有效</span></span><br><span class="line"><span class="keyword">print</span> j; <span class="comment">#error 因为先用后定义，定义后面才有效</span></span><br><span class="line">j=<span class="number">9</span>;</span><br></pre></td></tr></table></figure></p>
<p>局部变量：在一定范围内起作用而非全局都起作用的变量；一个函数中变量没有进行全局变量声明时默认是局部变量。如上面的i.<br>全局变量:作用域为全局的变量，需要声明global.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fa</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> i;</span><br><span class="line">    i=<span class="number">8</span>;</span><br><span class="line"><span class="comment">#print i; #global name 'i' is not defined--因为没有执行fa()等于还没有定义</span></span><br><span class="line">i=<span class="number">9</span>;</span><br><span class="line"><span class="keyword">print</span> i;  <span class="comment">#9</span></span><br><span class="line">fa();</span><br><span class="line"><span class="keyword">print</span> i;  <span class="comment">#8</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-_u51FD_u6570_u4F7F_u7528_u4E0E_u8FD4_u56DE_u503C"><a href="#5-_u51FD_u6570_u4F7F_u7528_u4E0E_u8FD4_u56DE_u503C" class="headerlink" title="5.函数使用与返回值"></a>5.函数使用与返回值</h2><p>调用函数：在函数定义后直接输入函数名即可。<br>函数返回值：通过return实现，可以返回一个或者多个值<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">print</span> test();   <span class="comment">#输出： 1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span><span class="params">(i,j)</span>:</span></span><br><span class="line">    k=i*j;</span><br><span class="line">    <span class="keyword">return</span> (i,j,k);</span><br><span class="line">x=test2(<span class="number">2</span>,<span class="number">3</span>); <span class="comment">#x默认为三个元素组成的元组</span></span><br><span class="line"><span class="keyword">print</span> x;   <span class="comment">#输出： (2, 3, 6)</span></span><br><span class="line">x,y,z=test2(<span class="number">3</span>,<span class="number">4</span>); <span class="comment">#返回值赋给三个变量分别存储</span></span><br><span class="line"><span class="keyword">print</span> x;<span class="keyword">print</span> y;<span class="keyword">print</span> z;  <span class="comment">#输出： 3,4,12</span></span><br></pre></td></tr></table></figure></p>
<h2 id="6-_u6587_u6863_u5B57_u7B26_u4E32"><a href="#6-_u6587_u6863_u5B57_u7B26_u4E32" class="headerlink" title="6.文档字符串"></a>6.文档字符串</h2><p>函数太多太乱问题解决：<br>方法一：开发时为每一个函数写一个文档说明；<br>方法二：文档字符串-python特有，在每个函数开头加一行说明性文字，这行说明性文字叫文档字符串。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#文档字符串 函数定义下面第一行开始 用三引号包含</span></span><br><span class="line"><span class="comment">#第一行概括函数功能</span></span><br><span class="line"><span class="comment">#第二行不写</span></span><br><span class="line"><span class="comment">#第三行以下为详细说明</span></span><br><span class="line"><span class="comment">#每行句末使用句号</span></span><br><span class="line"><span class="comment">#如果是英文每一行第一个字母必须大写，中文不用</span></span><br><span class="line"><span class="comment">#用法 函数名._doc_ 或者 help(函数名)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">d</span><span class="params">(i,j)</span>:</span></span><br><span class="line">    <span class="string">'''</span><br><span class="line">    这是一个乘法运算。</span><br><span class="line"></span><br><span class="line">    函数传入两个数，返回相乘后的结果。</span><br><span class="line">    '''</span></span><br><span class="line">    k=i*j;</span><br><span class="line">    <span class="keyword">return</span> k;</span><br><span class="line"><span class="keyword">print</span> d.__doc__</span><br><span class="line"><span class="comment">#输出结果：</span></span><br><span class="line"><span class="comment"># 这是一个乘法运算。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 函数传入两个数，返回相乘后的结果。</span></span><br><span class="line"></span><br><span class="line">help(d)</span><br><span class="line"><span class="comment">#输出结果:</span></span><br><span class="line"><span class="comment">#Help on function d in module __main__:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#d(i, j)</span></span><br><span class="line"><span class="comment">#    这是一个乘法运算。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#    函数传入两个数，返回相乘后的结果。</span></span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u516B_u7AE0__u6A21_u5757"><a href="#u7B2C_u516B_u7AE0__u6A21_u5757" class="headerlink" title="第八章 模块"></a>第八章 模块</h1><h2 id="1-_u8BA4_u8BC6_u6A21_u5757"><a href="#1-_u8BA4_u8BC6_u6A21_u5757" class="headerlink" title="1.认识模块"></a>1.认识模块</h2><p>函数是可以实现一项或者多项功能的一段程序，模块是函数功能的拓展，函数是一段程序，模块是一项程序块，函数和模块都是实现功能，但是模块比函数广，模块里面可以重用多个函数;<br>模块都是放在python安装目录下的Lib目录下的;<br>比如压缩模块zipfile.py实现了压缩解压一类功能;<br>使用模块时必须先导入，导入用import;<br>如math里面的pi=3.14159…<br>import math之后就可以使用math.pi得到pi的值。</p>
<p>sys模块：在标准库中与系统功能有关的模块。<br>如下可以查看版本信息:<br><figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> sys</span></span><br><span class="line"><span class="built_in">print</span> sys.version<span class="preprocessor"> #python版本信息</span></span><br><span class="line"><span class="built_in">print</span> sys.executable<span class="preprocessor"> #查看当前运行的程序的目录地址</span></span><br><span class="line"><span class="built_in">print</span> sys.getwindowsversion()<span class="preprocessor"> #返回windows操作系统的版本信息</span></span><br><span class="line"><span class="built_in">print</span> sys.modules.keys()<span class="preprocessor"> #查看已经导入模块的关键字</span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u5B57_u8282_u7F16_u8BD1"><a href="#2-_u5B57_u8282_u7F16_u8BD1" class="headerlink" title="2.字节编译"></a>2.字节编译</h2><p>python需要到二进制才能执行，有两种执行方式：<br>(1)将模块里的内容编译成二进制语言，然后执行这些二进制语言；<br>(2)省略编译这一步，直接执行对应模块的二进制语言程序。<br>第二种方法比第一种快。<br>字节编译:把模块程序编译成二进制语言程序的过程；<br>.pyc文件:经过编译后的模块对应的二进制文件。</p>
<p>字节编译与编译区别:<br>python是解释型语言，而不是编译型语言，python中虽然出现了编译过程，但是python的编译过程是在python解释器中发生的；<br>编译型语言是指在软件中有一个独立的编译模块编译程序；<br>python中字节编译由解释器完成，所以python仍然是解释型语言。</p>
<p>两种.pyc文件产生的方式：<br>(1)在运行一个模块的时候，如果没有对应的.pyc文件则编译生成.pyc文件；有的话直接运行.pyc文件。<br>代码中如果没有对应.pyc文件，主要import 模块.py 就会自动编译生成.pyc文件。<br>(2)cmd下，进入对应模块目录；输入命令：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python</span> -<span class="keyword">m</span> compileall 模块.<span class="keyword">py</span></span><br></pre></td></tr></table></figure></p>
<p>则会产生对应的.pyc文件。<br>.pyc最大作用就是加快模块的运行速度；.pyc文件可以作为反编译等高级功能。<br>利用二进制文件阅读器可以查看.pyc文件。<br>反编译就是把.pyc变成.py;比.py变成.pyc难。</p>
<h2 id="3-from_u2026import"><a href="#3-from_u2026import" class="headerlink" title="3.from…import"></a>3.from…import</h2><p>导入模块用import，没有导入模块的属性方法，可以用from…import导入属性方法。<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.<span class="keyword">version</span> #impot不能直接调用<span class="keyword">version</span>方法</span><br></pre></td></tr></table></figure></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sys import <span class="property">version</span></span><br><span class="line"><span class="property">version</span></span><br></pre></td></tr></table></figure>
<p>from … import 只能导入模块的一个属性或者方法，而from … import *可以导入模块的所有属性和方法。</p>
<h2 id="4-name_u5C5E_u6027"><a href="#4-name_u5C5E_u6027" class="headerlink" title="4.name属性"></a>4.<strong>name</strong>属性</h2><p>一个函数调用其他函数完成功能叫主函数，没有调用其他函数叫非主函数；一个模块被直接调用而没有被别人调用叫主模块，一个模块被别人调用叫非主模块。<br>将如下程序lname_.py放Lib目录下（模块目录）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#查看这个模块在不同场景下的__name__</span></span><br><span class="line"><span class="built_in">print</span> __name__</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看__name__属性常用情况</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">"It's main"</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">"It's not main"</span></span><br></pre></td></tr></table></figure></p>
<p>直接运行lname<em>.py则输出<strong>main</strong>，是主模块；<br>导入import lname</em>.py则它是非主模块。</p>
<p>注意：_ <em>name</em> _前后都是两个下划线</p>
<h2 id="5-_u81EA_u5B9A_u4E49_u6A21_u5757"><a href="#5-_u81EA_u5B9A_u4E49_u6A21_u5757" class="headerlink" title="5.自定义模块"></a>5.自定义模块</h2><p>系统自带模块：python安装时自带模块；<br>自定义模块：用户自己定义的模块，只需要将自己编写的.py文件放在Lib目录下。<br>myadd.py如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(i,j)</span>:</span></span><br><span class="line">    k=i+j</span><br><span class="line">    <span class="keyword">return</span> k</span><br><span class="line">k=add(i,j)</span><br><span class="line"><span class="keyword">print</span> k</span><br></pre></td></tr></table></figure></p>
<p>直接执行错误，因为k=add(i,j)中i,j没有确切的值；<br>如果在模块外面先定义i,j,再导入模块也会出错；<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">5</span>;</span><br><span class="line">j=<span class="number">6</span>;</span><br><span class="line">import myadd <span class="preprocessor">#出错 值还没有传递到模块的时候，模块就会错误</span></span><br></pre></td></tr></table></figure></p>
<p>所以模块myadd.py应该先初始化一个i,j如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span>;j=<span class="number">0</span>;<span class="comment">#也可以用 int i;int j;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(i,j)</span>:</span></span><br><span class="line">    k=i+j</span><br><span class="line">    <span class="keyword">return</span> k</span><br><span class="line">k=add(i,j)</span><br><span class="line"><span class="keyword">print</span> k</span><br></pre></td></tr></table></figure></p>
<p>然后如下调用：<br><img src="/img/python/15.png" alt="image"><br>但是这里用test.py调用时输出永远为0<br>这里将myadd.py改为：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(i,j)</span>:</span></span><br><span class="line">    k=i+j</span><br><span class="line">    <span class="keyword">return</span> k</span><br></pre></td></tr></table></figure></p>
<p>test.py如下正确<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from myadd import add</span><br><span class="line">i=<span class="number">6</span>;</span><br><span class="line">j=<span class="number">5</span>;</span><br><span class="line">k=add(i,j);</span><br><span class="line">print k;<span class="preprocessor">#运行结果:<span class="number">11</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="6-dir_28_29_u51FD_u6570"><a href="#6-dir_28_29_u51FD_u6570" class="headerlink" title="6.dir()函数"></a>6.dir()函数</h2><p>dir()函数：查看python模块的功能；<br>查看sys模块的功能<br><figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor"><span class="keyword">import</span> sys</span></span><br><span class="line"><span class="built_in">print</span> dir(sys)<span class="preprocessor">  #查看  输出：['__displayhook__', '__doc__',...]</span></span><br><span class="line"><span class="built_in">print</span> sys.__doc__;<span class="preprocessor"> #使用功能</span></span><br></pre></td></tr></table></figure></p>
<p>dir()查看的仅仅是属性的列表，而不携带数据。<br>如：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">a=[]</span><br><span class="line">b=[<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line">c=()</span><br><span class="line">print <span class="function"><span class="title">dir</span><span class="params">(a)</span></span>  #[<span class="string">'__add__'</span>, <span class="string">'__class__'</span>, <span class="string">'__contains__'</span>,...]</span><br><span class="line">print <span class="function"><span class="title">dir</span><span class="params">(b)</span></span> #输出同上一行</span><br><span class="line">print <span class="function"><span class="title">dir</span><span class="params">(c)</span></span> #输出元组的属性</span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u4E5D_u7AE0__u6570_u636E_u7ED3_u6784"><a href="#u7B2C_u4E5D_u7AE0__u6570_u636E_u7ED3_u6784" class="headerlink" title="第九章 数据结构"></a>第九章 数据结构</h1><h2 id="1-_u6982_u8FF0"><a href="#1-_u6982_u8FF0" class="headerlink" title="1.概述"></a>1.概述</h2><p>数据结构：将数据组织在一起的数据结构。<br>内置数据结构：系统定义的，如列表,元组，字典等；<br>拓展数据结构:需要用户定义的，如栈，队列等。<br>内置数据结构<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#列表 可以改变元素</span></span><br><span class="line">[<span class="string">"app"</span>,<span class="string">"aqq"</span>,<span class="string">"mmn"</span>]</span><br><span class="line"><span class="preprocessor">#元组 不可以改变元素</span></span><br><span class="line">(<span class="string">"app"</span>,<span class="string">"aqq"</span>,<span class="string">"mmn"</span>)</span><br><span class="line"><span class="preprocessor">#字典 有名称(字典的键) 键后面跟着的是键对应的值</span></span><br><span class="line">&#123;<span class="string">"name"</span>:<span class="string">"liming"</span>,<span class="string">"home"</span>:<span class="string">"beijin"</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>数据结构是静态的，算法是动态的；数据结构是算法的基础，相同的数据结构运用不同的算法有不同的效率。</p>
<h2 id="2-_u6808"><a href="#2-_u6808" class="headerlink" title="2.栈"></a>2.栈</h2><p>栈是一种数据结构；栈相当于一端开口一端封闭的容器，把数据移动到栈里面的过程叫进栈，也叫压栈或者入栈。数据只能从开口方进出。<br>栈是“先进后出，后进先出”。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#栈的实现 栈就是在列表的基础上进行一定的改进</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span><span class="params">()</span>:</span><span class="comment">#定义一个类</span></span><br><span class="line">    <span class="comment">#方法的第一个参数代表类本身</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(st,size)</span>:</span> <span class="comment">#定义初始化函数 st-栈的主体 size-栈的容量</span></span><br><span class="line">        st.stack=[]; <span class="comment">#把列表赋给栈</span></span><br><span class="line">        st.size=size; <span class="comment">#初始化容量</span></span><br><span class="line">        st.top=-<span class="number">1</span>; <span class="comment">#第一个数据位置为0，所以没有数据时栈顶用-1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(st,content)</span>:</span><span class="comment">#入栈</span></span><br><span class="line">        <span class="keyword">if</span> st.Full():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Stack is full"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            st.stack.append(content)</span><br><span class="line">            st.top+=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(st)</span>:</span><span class="comment">#出栈</span></span><br><span class="line">        <span class="keyword">if</span> st.Empty():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Stack is Empty"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            st.top-=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Full</span><span class="params">(st)</span>:</span><span class="comment">#判断栈是否满</span></span><br><span class="line">        <span class="keyword">if</span> st.top==st.size:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Empty</span><span class="params">(st)</span>:</span><span class="comment">#判断栈是否空</span></span><br><span class="line">        <span class="keyword">if</span> st.top==-<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#调用</span></span><br><span class="line">q=Stack(<span class="number">7</span>);</span><br><span class="line"><span class="keyword">print</span> q.Empty();  <span class="comment">#True</span></span><br><span class="line">q.push(<span class="string">"hello"</span>);</span><br><span class="line"><span class="keyword">print</span> q.Empty();  <span class="comment">#False</span></span><br><span class="line">q.out();</span><br><span class="line">q.out();           <span class="comment">#Stack is Empty</span></span><br><span class="line"><span class="keyword">print</span> q.Empty();  <span class="comment">#True</span></span><br></pre></td></tr></table></figure></p>
<p>上面的方法出栈时取不到值，如下是我改进后方法：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span><span class="params">()</span>:</span><span class="comment">#定义一个类</span></span><br><span class="line">    <span class="comment">#方法的第一个参数代表类本身</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(st,size)</span>:</span></span><br><span class="line">        st.stack=[]; <span class="comment">#把列表赋给栈</span></span><br><span class="line">        st.size=size; <span class="comment">#初始化容量</span></span><br><span class="line">        st.top=-<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(st,content)</span>:</span><span class="comment">#入栈</span></span><br><span class="line">        <span class="keyword">if</span> st.Full():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Stack is full"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            st.stack.append(content)</span><br><span class="line">            st.top+=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(st)</span>:</span><span class="comment">#出栈</span></span><br><span class="line">        <span class="keyword">if</span> st.Empty():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Stack is Empty"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            st.top-=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> st.stack.pop(st.top+<span class="number">1</span>);<span class="comment">#加上这行可以取得值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Full</span><span class="params">(st)</span>:</span><span class="comment">#判断栈是否满</span></span><br><span class="line">        <span class="keyword">if</span> st.top==st.size:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Empty</span><span class="params">(st)</span>:</span><span class="comment">#判断栈是否空</span></span><br><span class="line">        <span class="keyword">if</span> st.top==-<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#调用</span></span><br><span class="line">q=Stack(<span class="number">7</span>);</span><br><span class="line"><span class="keyword">print</span> q.Empty();     <span class="comment">#True</span></span><br><span class="line">q.push(<span class="string">"hello"</span>);</span><br><span class="line"><span class="keyword">print</span> q.Empty();     <span class="comment">#False</span></span><br><span class="line"><span class="keyword">print</span> q.pop();       <span class="comment">#hello </span></span><br><span class="line"><span class="keyword">print</span> q.pop();       <span class="comment">#Stack is Empty None</span></span><br><span class="line"><span class="keyword">print</span> q.Empty();     <span class="comment">#True</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u961F_u5217"><a href="#3-_u961F_u5217" class="headerlink" title="3.队列"></a>3.队列</h2><p>队列是一种拓展的数据结构；队列相当于两端都开通的队列，但是一端只能进行插入操作，叫做队尾；另外一端只能进行删除操作，叫做队首；<br>“对尾进，对首出”。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#队列的实现</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(qu,size)</span>:</span></span><br><span class="line">        qu.queue=[];</span><br><span class="line">        qu.size=size;</span><br><span class="line">        qu.head=-<span class="number">1</span>;</span><br><span class="line">        qu.tail=-<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span><span class="params">(qu)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> qu.head==qu.tail:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isFull</span><span class="params">(qu)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> qu.tail-qu.head+<span class="number">1</span>==qu.size:<span class="comment">########</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span>;</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inQueue</span><span class="params">(qu,content)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> qu.isFull():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Queue is full"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            qu.queue.append(content);</span><br><span class="line">            qu.tail+=<span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">outQueue</span><span class="params">(qu)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> qu.isEmpty():</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"Queue is empty"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            qu.head+=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> qu.queue.pop(qu.head-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#应用</span></span><br><span class="line">q=Queue(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">print</span> q.isEmpty(); <span class="comment">#True</span></span><br><span class="line">q.inQueue(<span class="string">"python"</span>);</span><br><span class="line"><span class="keyword">print</span> q.isEmpty(); <span class="comment">#False</span></span><br><span class="line"><span class="keyword">print</span> q.outQueue(); <span class="comment">#python</span></span><br><span class="line"><span class="keyword">print</span> q.isEmpty(); <span class="comment">#True</span></span><br></pre></td></tr></table></figure></p>
<h1 id="u7B2C_u5341_u7AE0__u57FA_u672C_u7684_u6B63_u5219_u8868_u8FBE_u5F0F"><a href="#u7B2C_u5341_u7AE0__u57FA_u672C_u7684_u6B63_u5219_u8868_u8FBE_u5F0F" class="headerlink" title="第十章 基本的正则表达式"></a>第十章 基本的正则表达式</h1><h2 id="1-pycharm_u8FD0_u7528"><a href="#1-pycharm_u8FD0_u7528" class="headerlink" title="1.pycharm运用"></a>1.pycharm运用</h2><p>显示行号：file-&gt;setting-&gt;Editor-&gt;General-&gt;Appearance,选中 Show line nu8mbers.<br>调整字体:file-&gt;setting-&gt;Editor-&gt;General-&gt;Colors &amp; Fonts-&gt;Font,选择主题(Scheme)如Default,点击Save As,弹出输入名字框随便输入名字（这里我用myFont）,之后发现在下面可以对字体进行改动。</p>
<p>pycharm调试：<br>在代码左边单击出现红色的断点，点击运行按钮右边的爬虫按钮进入调试。点击第一次发现i={int}0,a还没有执行。<br><img src="/img/python/16.png" alt="image"><br>点击如下按钮可以一步一步运行，如下，点击时a=0,i=0<br><img src="/img/python/17.png" alt="image"></p>
<h2 id="2-_u6B63_u5219_u8868_u8FBE_u5F0F_u7B26_u53F7_u4E0E_u65B9_u6CD5"><a href="#2-_u6B63_u5219_u8868_u8FBE_u5F0F_u7B26_u53F7_u4E0E_u65B9_u6CD5" class="headerlink" title="2.正则表达式符号与方法"></a>2.正则表达式符号与方法</h2><p><img src="/img/python/18.png" alt="image"><br>常用符号：<br>.：匹配任意字符，换行符\n除外；<br><em>:匹配前一个字符0次或者无限次；<br>?:匹配前一个字符0次或者一次；<br>.</em>:贪心算法；<br>.*?:非贪心算法；<br>():括号内的数据作为结果返回；</p>
<p>常用方法：<br>findall:匹配所有符合规律的内容，返回包含结果的列表<br>Search:匹配并提取第一个符合规律的内容，返回一个正则表达式对象(object)<br>Sub:替换符合规律的内容，返回替换后的内容</p>
<p>实例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#导入re库文件</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># .的使用；"."就是一个占位符</span></span><br><span class="line">a=<span class="string">"xyz4321"</span>;</span><br><span class="line">b=re.findall(<span class="string">'x...'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b;  <span class="comment">#['xyz4']</span></span><br><span class="line">b=re.findall(<span class="string">'x..'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b;  <span class="comment">#['xyz']</span></span><br><span class="line">a=<span class="string">"aaxss"</span></span><br><span class="line">b=re.findall(<span class="string">'x.'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b;  <span class="comment">#['xs']</span></span><br><span class="line">b=re.findall(<span class="string">'x....'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b;  <span class="comment">#[]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># *的使用</span></span><br><span class="line"><span class="comment">#如下找不到x的位置为空</span></span><br><span class="line">a=<span class="string">'xaaxy123'</span></span><br><span class="line">b=re.findall(<span class="string">'x*'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b; <span class="comment">#['x', '', '', 'x', '', '', '', '', '']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ？的使用</span></span><br><span class="line">a=<span class="string">'xaaxy123'</span></span><br><span class="line">b=re.findall(<span class="string">'x?'</span>,a);</span><br><span class="line"><span class="keyword">print</span> b; <span class="comment">#['x', '', '', 'x', '', '', '', '', '']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .*的使用</span></span><br><span class="line">code=<span class="string">'hadkfalifexxIxxfasdjifja134xxlovexx23345sdfxxyouxx8dfse'</span>;</span><br><span class="line">b=re.findall(<span class="string">'xx.*xx'</span>,code)</span><br><span class="line"><span class="keyword">print</span> b <span class="comment">#['xxIxxfasdjifja134xxlovexx23345sdfxxyouxx']</span></span><br><span class="line">c=re.findall(<span class="string">'xx.*?xx'</span>,code)</span><br><span class="line"><span class="keyword">print</span> c <span class="comment">#['xxIxx', 'xxlovexx', 'xxyouxx']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 括号的使用 将需要的内容用()括起来</span></span><br><span class="line">d=re.findall(<span class="string">'xx(.*?)xx'</span>,code)</span><br><span class="line"><span class="keyword">print</span> d <span class="comment">#['I', 'love', 'you']</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> each <span class="comment">#I love you</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">'''sdfxxhello</span><br><span class="line">xxfsdfxxworldxxasdf'''</span></span><br><span class="line"><span class="comment">#一般匹配是不会包含换行符，所以如下得到</span></span><br><span class="line"><span class="comment">#的是['fsdf']，xxhello之后遇到换行符没有找到后面的xx，直接抛弃重新开始</span></span><br><span class="line">e=re.findall(<span class="string">'xx(.*?)xx'</span>,s)</span><br><span class="line"><span class="keyword">print</span> e <span class="comment">#['fsdf']</span></span><br><span class="line"><span class="comment">#在后面加上re.S后可以包含换行符</span></span><br><span class="line">f=re.findall(<span class="string">'xx(.*?)xx'</span>,s,re.S)</span><br><span class="line"><span class="keyword">print</span> f <span class="comment">#['hello\n', 'world']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#search与findall区别</span></span><br><span class="line">s2=<span class="string">'asdfxxIxx123xxlovexxdfd'</span></span><br><span class="line">f1=re.search(<span class="string">'xx(.*?)xx123xx(.*?)xx'</span>,s2);</span><br><span class="line"><span class="keyword">print</span> f1.group(<span class="number">1</span>);<span class="comment">#I 第一个括号里面的内容</span></span><br><span class="line"><span class="keyword">print</span> f1.group(<span class="number">2</span>);<span class="comment">#love 第二个括号里面的内容</span></span><br><span class="line">f2=re.findall(<span class="string">'xx(.*?)xx123xx(.*?)xx'</span>,s2);</span><br><span class="line"><span class="keyword">print</span> f2;<span class="comment">#[('I', 'love')] 如果遇到匹配的第二个，将以元组的形式在列表中显示第二个</span></span><br><span class="line"><span class="keyword">print</span> f2[<span class="number">0</span>]; <span class="comment">#('I', 'love')</span></span><br><span class="line"><span class="keyword">print</span> f2[<span class="number">0</span>][<span class="number">1</span>]; <span class="comment">#love</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sub：将符合条件的内容用后面的内容替换</span></span><br><span class="line">s3=<span class="string">'123assdfghh123'</span></span><br><span class="line">f3=re.sub(<span class="string">'123(.*?)123'</span>,<span class="string">'123aaa123'</span>,s3);</span><br><span class="line"><span class="keyword">print</span> f3;<span class="comment">#123aaa123</span></span><br><span class="line">f4=re.sub(<span class="string">'123(.*?)123'</span>,<span class="string">'123%s123'</span>%<span class="string">'aaa'</span>,s3);</span><br><span class="line"><span class="keyword">print</span> f4;<span class="comment">#123aaa123</span></span><br><span class="line">f5=re.sub(<span class="string">'123(.*?)123'</span>,<span class="string">'123%d123'</span>%<span class="number">666</span>,s3);</span><br><span class="line"><span class="keyword">print</span> f5;<span class="comment">#123666123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#不要使用compile #因为多此一举--findall方法里面已经有这个</span></span><br><span class="line">pat=<span class="string">'xx(.*?)xx'</span></span><br><span class="line">pat1=re.compile(pat,re.S)</span><br><span class="line">out=re.findall(pat1,code)</span><br><span class="line"><span class="keyword">print</span> out <span class="comment">#['I', 'love', 'you']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#匹配数字</span></span><br><span class="line">ha=<span class="string">'dsaakdsj676djsi1213rer'</span></span><br><span class="line">hb=re.findall(<span class="string">'(\d+)'</span>,ha)</span><br><span class="line"><span class="keyword">print</span> hb <span class="comment">#['676', '1213']</span></span><br></pre></td></tr></table></figure></p>
<p>相关技巧：<br>import re<br>from re import *<br>from re import findall,search,sub,S<br>不需要complie<br>使用\d+匹配纯数字</p>
<p>总结:<br>一个符号组合:(.*?)<br>三个方法：findall,search,sub</p>
<h2 id="3-_u6B63_u5219_u8868_u8FBE_u5F0F_u5B9E_u4F8B"><a href="#3-_u6B63_u5219_u8868_u8FBE_u5F0F_u5B9E_u4F8B" class="headerlink" title="3.正则表达式实例"></a>3.正则表达式实例</h2><p>写一个a.txt如下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>网络爬虫<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"div1"</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://bestzhangjin.com"</span>&gt;</span>我的博客<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"list"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://bestzhangjin.com/1.html"</span>&gt;</span>第一条<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://bestzhangjin.com/2.html"</span>&gt;</span>第二条<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://bestzhangjin.com/3.html"</span>&gt;</span>第三条<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>可以从上面爬取内容<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#导入re库文件</span></span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">f=open(<span class="string">'a.txt'</span>,<span class="string">'r'</span>)</span><br><span class="line">html=f.read()</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#爬取标题 #search只找第一个，节约时间</span></span><br><span class="line">title=re.search(<span class="string">'&lt;title&gt;(.*?)&lt;/title&gt;'</span>,html,re.S).group(<span class="number">1</span>)</span><br><span class="line">print title #网络爬虫</span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#爬取链接</span></span><br><span class="line">links=re.findall(<span class="string">'href="(.*?)"'</span>,html,re.S)</span><br><span class="line"><span class="keyword">for</span> each in links:</span><br><span class="line">    print each</span><br><span class="line"><span class="preprocessor">#输出：</span></span><br><span class="line"><span class="preprocessor">#http://bestzhangjin.com</span></span><br><span class="line"><span class="preprocessor">#http://bestzhangjin.com/1.html</span></span><br><span class="line"><span class="preprocessor">#http://bestzhangjin.com/2.html</span></span><br><span class="line"><span class="preprocessor">#http://bestzhangjin.com/3.html</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#抓取文字</span></span><br><span class="line"><span class="preprocessor">#先爬大再爬小 可以限定范围</span></span><br><span class="line">text=re.findall(<span class="string">'&lt;ul&gt;(.*?)&lt;/ul&gt;'</span>,html,re.S)[<span class="number">0</span>]</span><br><span class="line">text1=re.findall(<span class="string">'"&gt;(.*?)&lt;/a&gt;'</span>,text,re.S)</span><br><span class="line"><span class="keyword">for</span> each_text in text1:</span><br><span class="line">    print each_text</span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#sub实现翻页</span></span><br><span class="line">old_url=<span class="string">'http://bestzhangjin.com/?pageNum=1'</span></span><br><span class="line"><span class="preprocessor">#爬取网页</span></span><br><span class="line">total_page=<span class="number">6</span> #总页数</span><br><span class="line"><span class="keyword">for</span> i in range(<span class="number">2</span>,total_page+<span class="number">1</span>):</span><br><span class="line">    link=re.sub(<span class="string">'pageNum=\d+'</span>,<span class="string">'pageNum=%d'</span>%i,old_url,re.S)</span><br><span class="line">    print link</span><br><span class="line"><span class="preprocessor">#输出:</span></span><br><span class="line"><span class="preprocessor"># http://bestzhangjin.com/?pageNum=2</span></span><br><span class="line"><span class="preprocessor"># http://bestzhangjin.com/?pageNum=3</span></span><br><span class="line"><span class="preprocessor"># http://bestzhangjin.com/?pageNum=4</span></span><br><span class="line"><span class="preprocessor"># http://bestzhangjin.com/?pageNum=5</span></span><br><span class="line"><span class="preprocessor"># http://bestzhangjin.com/?pageNum=6</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u5236_u4F5C_u6587_u672C_u722C_u866B"><a href="#4-_u5236_u4F5C_u6587_u672C_u722C_u866B" class="headerlink" title="4.制作文本爬虫"></a>4.制作文本爬虫</h2><p>目标：<br>提取网站<a href="http://www.jikexueyuan.com/的课程图片" target="_blank" rel="external">http://www.jikexueyuan.com/的课程图片</a><br>原理：<br>(1)保存网页源代码<br>(2)python读文件加载源代码<br>(3)正则表达式提取图片网址<br>(4)下载图片</p>
<p>网页<a href="http://www.jikexueyuan.com/如下，有较多图片" target="_blank" rel="external">http://www.jikexueyuan.com/如下，有较多图片</a><br>热门推荐，最新课程等等下面都有图片<br><img src="/img/python/19.png" alt="image"><br>鉴于还有一些知识没学，这里将<a href="http://www.jikexueyuan.com/页面的部分需要的代码复制到source.txt" target="_blank" rel="external">http://www.jikexueyuan.com/页面的部分需要的代码复制到source.txt</a><br>输入网址view-source:<a href="http://www.jikexueyuan.com/可以得到对应网页的源码" target="_blank" rel="external">http://www.jikexueyuan.com/可以得到对应网页的源码</a><br>我这里将源码全部复制粘贴到source.txt中<br>这里requests的安装详见附录<br>test.py如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">#导入re库文件</span><br><span class="line">import re</span><br><span class="line">import requests #这里用来保存图片</span><br><span class="line"></span><br><span class="line">f=<span class="function"><span class="title">open</span><span class="params">(<span class="string">'source.txt'</span>,<span class="string">'r'</span>)</span></span></span><br><span class="line">html=f.<span class="function"><span class="title">read</span><span class="params">()</span></span></span><br><span class="line">f.<span class="function"><span class="title">close</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">#匹配图片网址</span><br><span class="line">url=re.<span class="function"><span class="title">findall</span><span class="params">(<span class="string">'img src="(.*?)" class="lessonimg"'</span>,html,re.S)</span></span> #查找条件</span><br><span class="line">i=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> url:</span><br><span class="line">    print <span class="string">'loding: '</span>+each</span><br><span class="line">    pic=requests.<span class="function"><span class="title">get</span><span class="params">(each)</span></span></span><br><span class="line">    fp=<span class="function"><span class="title">open</span><span class="params">(<span class="string">'pic\\'</span>+str(i)</span></span>+<span class="string">'.jpg'</span>,<span class="string">'wb'</span>)</span><br><span class="line">    fp.<span class="function"><span class="title">write</span><span class="params">(pic.content)</span></span></span><br><span class="line">    fp.<span class="function"><span class="title">close</span><span class="params">()</span></span></span><br><span class="line">    i+=<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>运行后结果如下：<br><img src="/img/python/20.png" alt="image"></p>
<h1 id="u7B2C_u5341_u4E00_u7AE0__u5355_u7EBF_u7A0B_u722C_u866B"><a href="#u7B2C_u5341_u4E00_u7AE0__u5355_u7EBF_u7A0B_u722C_u866B" class="headerlink" title="第十一章 单线程爬虫"></a>第十一章 单线程爬虫</h1><h2 id="1-Requests_u4ECB_u7ECD"><a href="#1-Requests_u4ECB_u7ECD" class="headerlink" title="1.Requests介绍"></a>1.Requests介绍</h2><p>Requests：HTTP for Humans<br>完美替代python的urllib2模块</p>
<h2 id="2-_u7B2C_u4E00_u4E2A_u7F51_u9875_u722C_u866B"><a href="#2-_u7B2C_u4E00_u4E2A_u7F51_u9875_u722C_u866B" class="headerlink" title="2.第一个网页爬虫"></a>2.第一个网页爬虫</h2><p>使用Requests获取网页源代码，利用正则表达式获取自己想要的内容。<br>直接获取源代码或者修改http头获取源代码。<br>三行获取源代码：<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#导入re库文件</span></span><br><span class="line">import requests</span><br><span class="line"><span class="preprocessor">#爬取python百度贴吧的源代码</span></span><br><span class="line">html=requests.<span class="keyword">get</span>(<span class="string">'http://tieba.baidu.com/f?ie=utf-8&amp;kw=python'</span>)</span><br><span class="line">print html.text</span><br></pre></td></tr></table></figure></p>
<p>运行如下：<br><img src="/img/python/22.png" alt="image"><br>但不是这三行能够获得所有网页的源代码；<br>因为一个网站会对访问它的程序进行检查，防止网络爬虫，所以需要伪装。伪装相当于让网站以为你是浏览器请求而非爬虫。<br>网页User-Agent获取方法：<br>打开要爬取的网页，右键选择审查元素-&gt;Network-&gt;Network下面左边随便选择找到右边对应的User-Agent。<br><img src="/img/python/23.png" alt="image"><br>如下则可伪装爬取网页源码：<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#导入re库文件</span></span><br><span class="line">import requests</span><br><span class="line"><span class="preprocessor">#爬取如下网站的源代码</span></span><br><span class="line"><span class="preprocessor">#html=requests.get('http://jp.tingroom.com/yuedu/yd300p/')</span></span><br><span class="line">header=&#123;<span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0'</span>&#125;</span><br><span class="line">html=requests.<span class="keyword">get</span>(<span class="string">'http://jp.tingroom.com/yuedu/yd300p/'</span>,headers=header)</span><br><span class="line">html.encoding=<span class="string">'utf-8'</span></span><br><span class="line">print html.text</span><br></pre></td></tr></table></figure></p>
<p>内容提取：使用正则表达式获得我们想要的内容<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#coding=utf-8</span></span><br><span class="line"><span class="preprocessor">#导入re库文件</span></span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line"><span class="preprocessor">#爬取如下网站的源代码</span></span><br><span class="line"><span class="preprocessor">#html=requests.get('http://jp.tingroom.com/yuedu/yd300p/')</span></span><br><span class="line">header=&#123;<span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0'</span>&#125;</span><br><span class="line">html=requests.<span class="keyword">get</span>(<span class="string">'http://jp.tingroom.com/yuedu/yd300p/'</span>,headers=header)</span><br><span class="line">html.encoding=<span class="string">'utf-8'</span></span><br><span class="line">title=re.findall(<span class="string">'color:#666666;"&gt;(.*?)&lt;/span&gt;'</span>,html.text,re.S)</span><br><span class="line"><span class="keyword">for</span> each in title:</span><br><span class="line">    print each</span><br><span class="line"><span class="preprocessor">#输出</span></span><br><span class="line"><span class="preprocessor">#第二章 昔々、といってもせいぜい二十年ぐらい前のことなのだ...</span></span><br><span class="line"><span class="preprocessor">#挪威的森林（中日对照） 内容简介： 汉堡机场一曲忧郁的《挪...</span></span><br><span class="line"><span class="preprocessor">#藤野先生名文选读中日文对照 東京も格別のことはなかつた。上..</span></span><br><span class="line"><span class="preprocessor">#...</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u5411_u7F51_u9875_u63D0_u4EA4_u6570_u636E"><a href="#3-_u5411_u7F51_u9875_u63D0_u4EA4_u6570_u636E" class="headerlink" title="3.向网页提交数据"></a>3.向网页提交数据</h2><p>Get与Post介绍；分析目标网站；Requests的表单提交<br>Get是从服务器上获取数据，Post是向服务器传送数据；<br>Get通过构造url中的参数来实现功能，Post将数据放在header提交数据。<br>向网页提交数据-Requests表单提交：<br>核心方法：requests.post;<br>核心步骤:构造表单-提交表单-获取返回信息</p>
<p>有些网页如下：<br><img src="/img/python/24.png" alt="image"><br>点击show more显示更多，但是网页地址不会变。因为其使用了异步加载的技巧。<br>异步加载：先把网页的一些基本框架加载起来，然后剩下的信息需要哪里就加载哪里，可以大大提高网页的加载效率；<br>好比吃饭时做好一个菜上一个而非所有菜都好啦才上。<br>正是由于异步加载原因，我们利用原方法只能加载最开始显示的而不能加载点击show more显示的内容。<br>解决方法如下：<br>网页右键点击审查元素-&gt;network发现是空的，但是点击SHOW MORE之后如下：<br><img src="/img/python/25.png" alt="image"><br>点击出现的信息(图中左下角)如下：<br><img src="/img/python/26.png" alt="image"><br>说明采用了post向上一行的url地址提交了数据。继续往下有：<br><img src="/img/python/27.png" alt="image"><br>可以看到page:2 再点击show more有page:3 以此类推。<br>如下代码只能显示初始加载的源码：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">import requests</span><br><span class="line">url=<span class="string">'https://www.crowdfunder.com/browse/deals'</span></span><br><span class="line">html=requests.<span class="function"><span class="title">get</span><span class="params">(url)</span></span><span class="class">.text</span></span><br><span class="line">print html</span><br></pre></td></tr></table></figure></p>
<p>而如下改进后代码则可以根据’page’:’1’#这里1可以换2,3,4…得到show more后的源代码。<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">url=<span class="string">'https://www.crowdfunder.com/browse/deals&amp;template=false'</span></span><br><span class="line">data=&#123;</span><br><span class="line">    <span class="string">'entities_only'</span>:<span class="string">'true'</span>,<span class="comment">#这里true是字符串不是布尔值</span></span><br><span class="line">    <span class="string">'page'</span>:<span class="string">'1'</span> <span class="comment">#这里1可以改为2,3,...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">html_post=requests.<span class="built_in">get</span>(url,data=data)</span><br><span class="line">title=re.findall(<span class="string">'"card-title"&gt;(.*?)&lt;/div&gt;'</span>,html_post.<span class="keyword">text</span>,re.S)</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="operator">in</span> title:</span><br><span class="line">    print <span class="keyword">each</span></span><br></pre></td></tr></table></figure></p>
<p>上面代码：’page’:’1’ #这里1可以改为2,3,…<br>可以通过改变page后面的值为几得到第几次show more显示内容的源代码</p>
<h2 id="4-_u6781_u5BA2_u5B66_u9662_u8BFE_u7A0B_u722C_u866B"><a href="#4-_u6781_u5BA2_u5B66_u9662_u8BFE_u7A0B_u722C_u866B" class="headerlink" title="4.极客学院课程爬虫"></a>4.极客学院课程爬虫</h2><p>目标网站：<a href="http://www.jikexueyuan.com/course/" target="_blank" rel="external">http://www.jikexueyuan.com/course/</a><br>目标内容：获取前10页的课程名称，课程介绍，课程时间，课程等级，学习人数<br>知识点：Requests获取网页，re.sub换页，正则表达式匹配内容</p>
<p>目标网页如下：<br><img src="/img/python/28.png" alt="image"><br>第一页的网址和<a href="http://www.jikexueyuan.com/course/内容一样，第二页网址为http://www.jikexueyuan.com/course/?pageNum=2，以此类推。" target="_blank" rel="external">http://www.jikexueyuan.com/course/内容一样，第二页网址为http://www.jikexueyuan.com/course/?pageNum=2，以此类推。</a><br>点击开发者工具或者右键审查元素，如下再点击放大镜图标，之后点击网页上内容会跳到对应内容的代码，方便查看。<br><img src="/img/python/29.png" alt="image"><br>当然，点击代码也可以找到相应的页面内容。<br>分析代码以及与原网页对应课程对比如下：<br><img src="/img/python/30.png" alt="image"><br><img src="/img/python/31.png" alt="image"><br>for循环一一爬取可能会报错（如遇到没有课程说明的情况），这时候考虑先爬大再爬小的方法。<br>课程列表如下，可以从抓大着手：<br><img src="/img/python/32.png" alt="image"><br>可以通过输出获取的源代码利用相应的正则表达式技巧获得需要的内容<br>程序如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment">#这里的import语句其实并不是sys的第一次导入语句，也就是说这里其实可能是第二、三次进行sys模块的import，这里只是一个对sys的引用，只能reload才能进行重新加载。</span></span><br><span class="line">reload(sys)</span><br><span class="line">sys.setdefaultencoding(<span class="string">"utf-8"</span>);<span class="comment">#修改编码方式和网页一样，不然中文乱码</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">spider</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">u'开始爬取内容...'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getsource</span><span class="params">(self,url)</span>:</span></span><br><span class="line">        html=requests.get(url)</span><br><span class="line">        <span class="keyword">return</span> html.text</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">changepage</span><span class="params">(self,url,total_page)</span>:</span></span><br><span class="line">        now_page=int(re.search(<span class="string">'pageNum=(\d+)'</span>,url,re.S).group(<span class="number">1</span>))</span><br><span class="line">        page_group=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(now_page,total_page+<span class="number">1</span>):<span class="comment">#因为range包含下边不包含上边的 所以用total_page+1</span></span><br><span class="line">            link=re.sub(<span class="string">'pageNum=\d+'</span>,<span class="string">'pageNum=%s'</span>%i,url,re.S)</span><br><span class="line">            page_group.append(link)</span><br><span class="line">        <span class="keyword">return</span> page_group</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">geteveryclass</span><span class="params">(self,source)</span>:</span><span class="comment">#获取每一门课程</span></span><br><span class="line">        text = re.findall(<span class="string">'&lt;ul class="cf" style="display: block;"&gt;(.*?)&lt;/ul&gt;'</span>,source, re.S)[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">print</span> text</span><br><span class="line"><span class="comment">#  **************# 注意: 这里 .*? 不可以用 （.*?） 具体原因现在还没弄明白</span></span><br><span class="line">        everyclass=re.findall(<span class="string">'(&lt;li.*?&lt;/li&gt;)'</span>,text,re.S)</span><br><span class="line">        <span class="keyword">print</span> everyclass</span><br><span class="line">        <span class="keyword">return</span> everyclass</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getinfo</span><span class="params">(self,eachclass)</span>:</span></span><br><span class="line">        info=&#123;&#125; <span class="comment">#定义字典</span></span><br><span class="line">        txt=re.search(<span class="string">'&lt;h2 class="lesson-info-h2"&gt;(.*?)&lt;/h2&gt;'</span>,eachclass,re.S).group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">print</span> txt</span><br><span class="line">        info[<span class="string">'title'</span>]=re.search(<span class="string">'"&gt;(.*?)&lt;/a&gt;'</span>,txt,re.S).group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">print</span> info[<span class="string">'title'</span>]</span><br><span class="line">        info[<span class="string">'content'</span>]=re.search(<span class="string">'&lt;p style="height: 0px; opacity: 0; display: none;"&gt;\n\t\t\t(.*?)\n\t\t&lt;/p&gt;'</span>,eachclass,re.S).group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">print</span> info[<span class="string">'content'</span>]</span><br><span class="line">        timeandlevel=re.findall(<span class="string">'&lt;em&gt;(.*?)&lt;/em&gt;'</span>,eachclass,re.S)</span><br><span class="line">        info[<span class="string">'classtime'</span>]=timeandlevel[<span class="number">0</span>]</span><br><span class="line">        info[<span class="string">'classlevel'</span>]=timeandlevel[<span class="number">1</span>]</span><br><span class="line">        info[<span class="string">'learnnum'</span>]=re.search(<span class="string">'"learn-number"&gt;(.*?)&lt;/em&gt;'</span>,eachclass,re.S).group(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> info</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">saveinfo</span><span class="params">(self,classinfo)</span>:</span></span><br><span class="line">        <span class="comment">#f=open('info.txt','a') #'a'追加内容</span></span><br><span class="line">        f=open(<span class="string">'info.txt'</span>, <span class="string">'w'</span>)  <span class="comment"># 'w'写，没有时创建，有时清空内容再写入  'r'读</span></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> classinfo:</span><br><span class="line">            f.writelines(<span class="string">'title:'</span>+each[<span class="string">'title'</span>]+<span class="string">'\n'</span>)</span><br><span class="line">            f.writelines(<span class="string">'content:'</span>+each[<span class="string">'content'</span>]+<span class="string">'\n'</span>)</span><br><span class="line">            f.writelines(<span class="string">'classtime:'</span>+each[<span class="string">'classtime'</span>]+<span class="string">'\n'</span>)</span><br><span class="line">            f.writelines(<span class="string">'classlevel:'</span>+each[<span class="string">'classlevel'</span>]+<span class="string">'\n'</span>)</span><br><span class="line">            f.writelines(<span class="string">'learnnum:'</span>+each[<span class="string">'learnnum'</span>]+<span class="string">'\n\n'</span>)</span><br><span class="line">        f.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:<span class="comment">#如果本程序自己运行</span></span><br><span class="line">    classinfo=[] <span class="comment">#创建一个列表用来存放课程信息</span></span><br><span class="line">    url=<span class="string">'http://www.jikexueyuan.com/course/?pageNum=1'</span></span><br><span class="line">    jikespider=spider()</span><br><span class="line">    all_links=jikespider.changepage(url,<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">for</span> link <span class="keyword">in</span> all_links:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">u'正在处理页面：'</span>+link</span><br><span class="line">        html=jikespider.getsource(link)</span><br><span class="line">        everyclass=jikespider.geteveryclass(html)</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> everyclass:</span><br><span class="line">            info=jikespider.getinfo(each)</span><br><span class="line">            classinfo.append(info)</span><br><span class="line">        jikespider.saveinfo(classinfo)</span><br></pre></td></tr></table></figure></p>
<p>运行结果如下：<br><img src="/img/python/33.png" alt="image"></p>
<h1 id="u7B2C_u5341_u4E8C_u7AE0_XPath_u4E0E_u591A_u7EBF_u7A0B_u722C_u866B"><a href="#u7B2C_u5341_u4E8C_u7AE0_XPath_u4E0E_u591A_u7EBF_u7A0B_u722C_u866B" class="headerlink" title="第十二章 XPath与多线程爬虫"></a>第十二章 XPath与多线程爬虫</h1><h2 id="1-XPath_u4ECB_u7ECD_u4E0E_u914D_u7F6E"><a href="#1-XPath_u4ECB_u7ECD_u4E0E_u914D_u7F6E" class="headerlink" title="1.XPath介绍与配置"></a>1.XPath介绍与配置</h2><p>XPath是一门语言，可以在XML文档中查找信息<br>XPath支持HTML，XPath通过元素和属性进行导航<br>XPath可以用来提取信息，比正则表达式更加厉害，简单</p>
<p>安装lxml库：直接cmd下用pip install lxml即可<br>用法：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from lxml import etree</span><br><span class="line">Selector=etree.<span class="function"><span class="title">HTML</span><span class="params">(网页源代码)</span></span></span><br><span class="line">Selector.<span class="function"><span class="title">xpath</span><span class="params">(一段神奇的符号)</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-XPath_u7684_u4F7F_u7528"><a href="#2-XPath_u7684_u4F7F_u7528" class="headerlink" title="2.XPath的使用"></a>2.XPath的使用</h2><p>正则表达式与XPath的比喻：<br>正则表达式：极客大楼的左边是三角形大楼，右边是正方形大楼，全世界去找<br>XPath：极客大楼在北京xx路xx号</p>
<p>XPath与HTML结构：<br>树状结构；逐层展开；逐层定位；寻找独立节点。</p>
<p>网页实例(index.html):<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span> <span class="attribute">lang</span>=<span class="value">"en"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>XPath用法<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"content"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">ul</span> <span class="attribute">id</span>=<span class="value">"useful"</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">li</span>&gt;</span>第一条信息<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>第二条信息<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>第三条信息<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">id</span>=<span class="value">"useless"</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">li</span>&gt;</span>不需要信息1<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>不需要信息2<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>不需要信息3<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"url"</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://bestzhangjin.com"</span>&gt;</span>我的博客<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://jikexueyuan.com"</span> <span class="attribute">title</span>=<span class="value">"极客学院课程库"</span>&gt;</span>极客学院<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>获取网页的XPath方法：手动分析法；Chrome生成法<br>手动分析法：html-&gt;body-&gt;div-&gt;ul[@useful]-&gt;li<br>Chrome生成法://*[@id=”useful”]/li</p>
<p>Chrome生成法获取技巧：<br><img src="/img/python/34.png" alt="image"><br>在浏览器中打开index.html选择审查元素；选中需要的元素如图中li的第一条信息右键copy xpath即可得到//<em>[@id=”useful”]/li[1]<br>//</em>[@id=”useful”]/li则可以得到id=”useful”元素的所有li中内容。</p>
<p>//:定位根节点<br>/:往下层寻找<br>提取文本内容:/text()<br>提取属性内容:/@xxxx</p>
<p>提取一般内容程序：<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> lxml import etree</span><br><span class="line">html='''</span><br><span class="line"><span class="variable">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="variable">&lt;html&gt;</span></span><br><span class="line"><span class="variable">&lt;head lang="en"&gt;</span></span><br><span class="line">	<span class="variable">&lt;meta charset="utf-8" /&gt;</span></span><br><span class="line">    <span class="variable">&lt;title&gt;</span>XPath用法<span class="variable">&lt;/title&gt;</span></span><br><span class="line"><span class="variable">&lt;/head&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">&lt;body&gt;</span></span><br><span class="line"><span class="variable">&lt;div id="content"&gt;</span></span><br><span class="line">	<span class="variable">&lt;ul id="useful"&gt;</span></span><br><span class="line">    	<span class="variable">&lt;li&gt;</span>第一条信息<span class="variable">&lt;/li&gt;</span></span><br><span class="line">        <span class="variable">&lt;li&gt;</span>第二条信息<span class="variable">&lt;/li&gt;</span></span><br><span class="line">        <span class="variable">&lt;li&gt;</span>第三条信息<span class="variable">&lt;/li&gt;</span></span><br><span class="line">    <span class="variable">&lt;/ul&gt;</span></span><br><span class="line">    <span class="variable">&lt;ul id="useless"&gt;</span></span><br><span class="line">    	<span class="variable">&lt;li&gt;</span>不需要信息<span class="number">1</span><span class="variable">&lt;/li&gt;</span></span><br><span class="line">        <span class="variable">&lt;li&gt;</span>不需要信息<span class="number">2</span><span class="variable">&lt;/li&gt;</span></span><br><span class="line">        <span class="variable">&lt;li&gt;</span>不需要信息<span class="number">3</span><span class="variable">&lt;/li&gt;</span></span><br><span class="line">    <span class="variable">&lt;/ul&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="variable">&lt;div id="url"&gt;</span></span><br><span class="line">    	<span class="variable">&lt;a href="http://bestzhangjin.com"&gt;</span>我的博客<span class="variable">&lt;/a&gt;</span></span><br><span class="line">        <span class="variable">&lt;a href="http://jikexueyuan.com" title="极客学院课程库"&gt;</span>极客学院<span class="variable">&lt;/a&gt;</span></span><br><span class="line">    <span class="variable">&lt;/div&gt;</span></span><br><span class="line"><span class="variable">&lt;/div&gt;</span></span><br><span class="line"><span class="variable">&lt;/body&gt;</span></span><br><span class="line"><span class="variable">&lt;/html&gt;</span></span><br><span class="line">'''</span><br><span class="line">selector=etree.HTML(html)</span><br><span class="line"><span class="comment">#提取文本</span></span><br><span class="line">content=selector.xpath('//ul[@id=<span class="string">"useful"</span>]/li/text()')</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> content:</span><br><span class="line">    print each</span><br><span class="line"><span class="comment">#输出结果：</span></span><br><span class="line"><span class="comment">#第一条信息</span></span><br><span class="line"><span class="comment">#第二条信息</span></span><br><span class="line"><span class="comment">#第三条信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#提取属性</span></span><br><span class="line">link=selector.xpath('//a/@href')<span class="comment">#从a标签开始寻找其下面的href属性</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> link:</span><br><span class="line">    print each</span><br><span class="line"><span class="comment">#输出结果:</span></span><br><span class="line"><span class="comment">#http://bestzhangjin.com</span></span><br><span class="line"><span class="comment">#http://jikexueyuan.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#提取a标签里面的title</span></span><br><span class="line">title=selector.xpath('//a/@title')</span><br><span class="line"><span class="comment">#返回结果title是一个列表</span></span><br><span class="line">print title  <span class="comment">##[u'\u6781\u5ba2\u5b66\u9662\u8bfe\u7a0b\u5e93']</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> title:</span><br><span class="line">    print each  <span class="comment">#极客学院课程库</span></span><br><span class="line">print title[<span class="number">0</span>]  <span class="comment">#极客学院课程库</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-xpath_u7279_u6B8A_u4F7F_u7528"><a href="#3-xpath_u7279_u6B8A_u4F7F_u7528" class="headerlink" title="3.xpath特殊使用"></a>3.xpath特殊使用</h2><p>情况：(1)以相同字符开头；(2)标签套标签。<br>(1)以相同字符开头<br>方法：starts-with(@属性名称，属性字符相同部分)<br>eg：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="property">id</span>=<span class="string">"test-1"</span>&gt;内容<span class="number">1</span>&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="property">id</span>=<span class="string">"test-2"</span>&gt;内容<span class="number">2</span>&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="property">id</span>=<span class="string">"test-3"</span>&gt;内容<span class="number">3</span>&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure></p>
<p>(2)标签套标签<br>方法:string(.)<br>eg：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"class"</span>&gt;</span>你好，</span><br><span class="line">	<span class="tag">&lt;<span class="title">font</span> <span class="attribute">color</span>=<span class="value">red</span>&gt;</span>你的电话是多少啊?<span class="tag">&lt;/<span class="title">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>应用实例:<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> lxml import etree</span><br><span class="line">html='''</span><br><span class="line"><span class="variable">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="variable">&lt;html&gt;</span></span><br><span class="line"><span class="variable">&lt;head lang="en"&gt;</span></span><br><span class="line">	<span class="variable">&lt;meta charset="utf-8" /&gt;</span></span><br><span class="line">    <span class="variable">&lt;title&gt;</span>XPath用法<span class="variable">&lt;/title&gt;</span></span><br><span class="line"><span class="variable">&lt;/head&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">&lt;body&gt;</span></span><br><span class="line">    <span class="variable">&lt;div id="test1"&gt;</span>内容<span class="number">1</span><span class="variable">&lt;/div&gt;</span></span><br><span class="line">    <span class="variable">&lt;div id="test2"&gt;</span>内容<span class="number">2</span><span class="variable">&lt;/div&gt;</span></span><br><span class="line">    <span class="variable">&lt;div id="test3"&gt;</span>内容<span class="number">3</span><span class="variable">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="variable">&lt;div id="long"&gt;</span></span><br><span class="line">        我左青龙</span><br><span class="line">        <span class="variable">&lt;span id="tiger"&gt;</span></span><br><span class="line">            右白虎</span><br><span class="line">            <span class="variable">&lt;ul&gt;</span>上朱雀,</span><br><span class="line">                <span class="variable">&lt;li&gt;</span>下玄武。<span class="variable">&lt;/li&gt;</span></span><br><span class="line">            <span class="variable">&lt;/ul&gt;</span></span><br><span class="line">            老牛在当中,</span><br><span class="line">        <span class="variable">&lt;/span&gt;</span></span><br><span class="line">        龙头在胸口。</span><br><span class="line">    <span class="variable">&lt;/div&gt;</span></span><br><span class="line"><span class="variable">&lt;/body&gt;</span></span><br><span class="line"><span class="variable">&lt;/html&gt;</span></span><br><span class="line">'''</span><br><span class="line">selector=etree.HTML(html)</span><br><span class="line"><span class="comment">#以相同字符开头 提取文本</span></span><br><span class="line">content=selector.xpath('//div[starts-with(@id,<span class="string">"test"</span>)]/text()')</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> content:</span><br><span class="line">    print each</span><br><span class="line"><span class="comment">#  输出：</span></span><br><span class="line"><span class="comment"># 内容1</span></span><br><span class="line"><span class="comment"># 内容2</span></span><br><span class="line"><span class="comment"># 内容3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#标签套标签 提取其中的所有文字</span></span><br><span class="line"><span class="comment">#如下方法只能提取div中内容，div中标签中内容不可提取</span></span><br><span class="line">content1=selector.xpath('//div[@id=<span class="string">"long"</span>]/text()')</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> content1:</span><br><span class="line">    print each</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line"><span class="comment">#我左青龙</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#龙头在胸口。</span></span><br><span class="line"><span class="comment"># **************应该用如下方法</span></span><br><span class="line">data=selector.xpath('//div[@id=<span class="string">"long"</span>]')[<span class="number">0</span>] <span class="comment">#列表只有一个元素 故用[0]</span></span><br><span class="line">print data <span class="comment">#输出: &lt;Element div at 0x2955bc8&gt;</span></span><br><span class="line">info=data.xpath('string(.)')</span><br><span class="line">print info</span><br><span class="line"><span class="comment"># 输出:</span></span><br><span class="line"><span class="comment">#我左青龙</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#右白虎</span></span><br><span class="line"><span class="comment">#上朱雀,</span></span><br><span class="line"><span class="comment">#下玄武。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#老牛在当中,</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#龙头在胸口。</span></span><br><span class="line">content2=info.replace('\n','').replace(' ','')<span class="comment">#\n和' '用''替代</span></span><br><span class="line">print content2</span><br><span class="line"><span class="comment">#输出:</span></span><br><span class="line"><span class="comment">#我左青龙右白虎上朱雀,下玄武。老牛在当中,龙头在胸口。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="4-Python__u5E76_u884C_u5316_u4ECB_u7ECD_u4E0E_u6F14_u793A"><a href="#4-Python__u5E76_u884C_u5316_u4ECB_u7ECD_u4E0E_u6F14_u793A" class="headerlink" title="4.Python 并行化介绍与演示"></a>4.Python 并行化介绍与演示</h2><p>并行化(多线程)和Map的使用。<br>Python由于历史原因，多线程不是真正的多线程，但仍然可以提高爬虫的效率，下面进入主题。<br>多个线程同时处理：高效快速<br>Map函数包办了序列操作，参数传递和结果保存等一系列操作。<br>应用:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from multiprocessing<span class="class">.dummy</span> import Pool</span><br><span class="line">pool=<span class="function"><span class="title">Pool</span><span class="params">(<span class="number">4</span>)</span></span> #这里<span class="number">4</span>代表电脑<span class="number">4</span>核的 <span class="number">8</span>核电脑可以换成<span class="number">8</span>速度更快</span><br><span class="line">results=pool.<span class="function"><span class="title">map</span><span class="params">(爬取函数,网址列表)</span></span></span><br></pre></td></tr></table></figure></p>
<p>实例：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-<span class="number">8</span></span><br><span class="line">from multiprocessing<span class="class">.dummy</span> import Pool as ThreadPool</span><br><span class="line">import requests</span><br><span class="line">import <span class="tag">time</span></span><br><span class="line"></span><br><span class="line">def <span class="function"><span class="title">getsource</span><span class="params">(url)</span></span>:</span><br><span class="line">    html=requests.<span class="function"><span class="title">get</span><span class="params">(url)</span></span></span><br><span class="line"></span><br><span class="line">urls=[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="tag">i</span> <span class="keyword">in</span> <span class="function"><span class="title">range</span><span class="params">(<span class="number">1</span>,<span class="number">21</span>)</span></span>:</span><br><span class="line">    newpage=<span class="string">'http://tieba.baidu.com/p/3522395718?pn='</span> + <span class="function"><span class="title">str</span><span class="params">(i)</span></span></span><br><span class="line">    urls.<span class="function"><span class="title">append</span><span class="params">(newpage)</span></span></span><br><span class="line"></span><br><span class="line">time1=<span class="tag">time</span>.<span class="function"><span class="title">time</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">for</span> <span class="tag">i</span> <span class="keyword">in</span> urls:</span><br><span class="line">    <span class="id">#print</span> <span class="tag">i</span></span><br><span class="line">    <span class="function"><span class="title">getsource</span><span class="params">(i)</span></span></span><br><span class="line">time2=<span class="tag">time</span>.<span class="function"><span class="title">time</span><span class="params">()</span></span></span><br><span class="line">print u<span class="string">'单线程耗时:'</span>+<span class="function"><span class="title">str</span><span class="params">(time2-time1)</span></span></span><br><span class="line"></span><br><span class="line">pool=<span class="function"><span class="title">ThreadPool</span><span class="params">(<span class="number">4</span>)</span></span></span><br><span class="line">time3=<span class="tag">time</span>.<span class="function"><span class="title">time</span><span class="params">()</span></span></span><br><span class="line">#使用map函数连接函数和列表</span><br><span class="line">results=pool.<span class="function"><span class="title">map</span><span class="params">(getsource,urls)</span></span></span><br><span class="line">pool.<span class="function"><span class="title">close</span><span class="params">()</span></span></span><br><span class="line">pool.<span class="function"><span class="title">join</span><span class="params">()</span></span></span><br><span class="line">time4=<span class="tag">time</span>.<span class="function"><span class="title">time</span><span class="params">()</span></span></span><br><span class="line">print u<span class="string">'多线程耗时:'</span>+<span class="function"><span class="title">str</span><span class="params">(time4-time3)</span></span></span><br><span class="line"></span><br><span class="line">#************输出</span><br><span class="line">#单线程耗时:<span class="number">12.7400000095</span></span><br><span class="line">#多线程耗时:<span class="number">4.02600002289</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-_u767E_u5EA6_u8D34_u5427_u722C_u866B"><a href="#5-_u767E_u5EA6_u8D34_u5427_u722C_u866B" class="headerlink" title="5.百度贴吧爬虫"></a>5.百度贴吧爬虫</h2><p>目标网站:<a href="http://tieba.baidu.com/p/3522395718" target="_blank" rel="external">http://tieba.baidu.com/p/3522395718</a><br>目标内容:跟帖用户名,跟帖内容，跟帖时间<br>知识点：<br>Requests获取网页<br>XPath提取内容<br>map实现多线程爬虫</p>
<p>(1)打开网页发现网站第i页就是<a href="http://tieba.baidu.com/p/3522395718?pn=i" target="_blank" rel="external">http://tieba.baidu.com/p/3522395718?pn=i</a><br>(2)源码分析<br><img src="/img/python/35.png" alt="image"><br><img src="/img/python/36.png" alt="image"><br>(3)程序<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool <span class="keyword">as</span> ThreadPool</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json<span class="comment">#因为源码中有json格式 当然也可以用正则表达式解析</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">reload(sys)</span><br><span class="line"></span><br><span class="line">sys.setdefaultencoding(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">towrite</span><span class="params">(contentdict)</span>:</span></span><br><span class="line">    f.writelines(<span class="string">u'回帖时间:'</span>+str(contentdict[<span class="string">'topic_reply_time'</span>])+<span class="string">'\n'</span>)</span><br><span class="line">    f.writelines(<span class="string">u'回帖内容:'</span>+unicode(contentdict[<span class="string">'topic_reply_content'</span>])+<span class="string">'\n'</span>)</span><br><span class="line">    f.writelines(<span class="string">u'回帖人:'</span>+contentdict[<span class="string">'user_name'</span>]+<span class="string">'\n\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spider</span><span class="params">(url)</span>:</span></span><br><span class="line">    html=requests.get(url)</span><br><span class="line">    selector=etree.HTML(html.text)</span><br><span class="line">    content_filed=selector.xpath(<span class="string">'//div[@class="l_post j_l_post l_post_bright  "]'</span>)</span><br><span class="line">    item=&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> content_filed:</span><br><span class="line">        reply_info=json.loads(each.xpath(<span class="string">'@data-field'</span>)[<span class="number">0</span>].replace(<span class="string">'&amp;quot'</span>,<span class="string">''</span>))</span><br><span class="line">        <span class="keyword">print</span> reply_info</span><br><span class="line">        author=reply_info[<span class="string">'author'</span>][<span class="string">'user_name'</span>]</span><br><span class="line">        <span class="keyword">print</span> author</span><br><span class="line">        content=each.xpath(<span class="string">'div[@class="d_post_content_main"]/div/cc/div[@class="d_post_content j_d_post_content  clearfix"]/text()'</span>)[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">print</span> content</span><br><span class="line">        reply_time=reply_info[<span class="string">'content'</span>][<span class="string">'date'</span>]</span><br><span class="line">        <span class="keyword">print</span> reply_time</span><br><span class="line">        item[<span class="string">'user_name'</span>]=author</span><br><span class="line">        item[<span class="string">'topic_reply_content'</span>]=content</span><br><span class="line">        item[<span class="string">'topic_reply_time'</span>]=reply_time</span><br><span class="line">        towrite(item)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    pool=ThreadPool(<span class="number">4</span>)</span><br><span class="line">    f=open(<span class="string">'content.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line">    page=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">21</span>):</span><br><span class="line">        newpage=<span class="string">'http://tieba.baidu.com/p/3522395718?pn='</span>+str(i)</span><br><span class="line">        page.append(newpage)</span><br><span class="line">       <span class="comment"># spider(newpage)</span></span><br><span class="line">        <span class="keyword">print</span> newpage</span><br><span class="line">    <span class="keyword">print</span> page</span><br><span class="line">    results=pool.map(spider,page)</span><br><span class="line">    pool.close()</span><br><span class="line">    pool.join()</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure></p>
<p>运行结果:<br><img src="/img/python/37.png" alt="image"></p>
<h1 id="u7B2C_u5341_u4E09_u7AE0_Python_u64CD_u4F5C_u6570_u636E_u5E93_u2014_u2014MySQL_u7BC7"><a href="#u7B2C_u5341_u4E09_u7AE0_Python_u64CD_u4F5C_u6570_u636E_u5E93_u2014_u2014MySQL_u7BC7" class="headerlink" title="第十三章 Python操作数据库——MySQL篇"></a>第十三章 Python操作数据库——MySQL篇</h1><h2 id="1-_u6570_u636E_u5E93_u79CD_u7C7B_u6982_u8FF0"><a href="#1-_u6570_u636E_u5E93_u79CD_u7C7B_u6982_u8FF0" class="headerlink" title="1.数据库种类概述"></a>1.数据库种类概述</h2><p>数据库分类：<br>(1)SQL:结构化查询语言和NoSQL:泛指非关系型数据库<br>(2)单机(数据库运行在一台机器上)和分布式(数据库运行在服务器集群上)<br>(3)文件型(数据放硬盘)和内存型(数据放内存里)<br>(4)批处理(将SQL分成MR任务)和分布式(分级查询之后汇总)<br><img src="/img/python/38.png" alt="image"><br><img src="/img/python/39.png" alt="image"><br><img src="/img/python/40.png" alt="image"><br>mysql也可以搭分布式，只是用的少<br><img src="/img/python/41.png" alt="image"><br><img src="/img/python/42.png" alt="image"><br>云平台AWS（亚马逊）：<br><img src="/img/python/43.png" alt="image"></p>
<h2 id="2-MySQL__u6982_u8FF0_u53CA_u57FA_u672C_u4F7F_u7528"><a href="#2-MySQL__u6982_u8FF0_u53CA_u57FA_u672C_u4F7F_u7528" class="headerlink" title="2.MySQL 概述及基本使用"></a>2.MySQL 概述及基本使用</h2><p>可以用AWS(亚马逊)中启动MYSQL，免费用一年，但是注册需要信息较多，这里直接用自己电脑上的mysql讲解，mysql部分见博客的mysql.<br>mysql安装见博客mysql部分；mysql驱动安装见附录。<br>这里</p>
<h1 id="u9644_u5F55_uFF1A_u5DE5_u5177_u5305_u5B89_u88C5"><a href="#u9644_u5F55_uFF1A_u5DE5_u5177_u5305_u5B89_u88C5" class="headerlink" title="附录：工具包安装"></a>附录：工具包安装</h1><h2 id="1-easy_install"><a href="#1-easy_install" class="headerlink" title="1.easy_install"></a>1.easy_install</h2><p>easy_install是一个python的扩展包，主要是用来简化python安装第三方安装包，在安装了easy_install之后，安装python第三方安装包就只需要在命令行中输入：easy_install packagename，然后程序会自动搜索相应版本的安装包并配置各种文件，免去了手工下载安装的复杂度。<br>搜索easy_install    下载文件ez_setup.py<br>cmd下python ez_setup.py就可以安装成功<br>然后就会在python的安装目录中生成scripts目录，其中有easy_install.exe<br>将scripts目录配置环境变量到path就可以用啦<br>备注：少使用easy_install，因为easy_install只能安装不能卸载<br>一般安装用pip.</p>
<h2 id="2-pip"><a href="#2-pip" class="headerlink" title="2.pip"></a>2.pip</h2><p>pip install packagename可以安装工具包<br>cmd下easy_inatall pip安装好pip就可以直接用</p>
<h2 id="3-requests"><a href="#3-requests" class="headerlink" title="3.requests"></a>3.requests</h2><p>requests是python的一个HTTP客户端库。<br>win系统，下载了安装包（网页中download the zipball处链接），然后$ python setup.py install就装好了。<br>当然，有easy_install或pip的朋友可以直接使用：easy_install requests或者pip install requests来安装。<br>在IDLE中输入import requests，如果没提示错误，那说明已经安装成功了！</p>
<h2 id="4-mysql_u9A71_u52A8"><a href="#4-mysql_u9A71_u52A8" class="headerlink" title="4.mysql驱动"></a>4.mysql驱动</h2><p>网站<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#mysql-python" target="_blank" rel="external">http://www.lfd.uci.edu/~gohlke/pythonlibs/#mysql-python</a><br>下载MySQL_python-1.2.5-cp27-none-win_amd64.whl<br>在下载目录下运行pip install MySQL_python-1.2.5-cp27-none-win_amd64.whl</p>
<h1 id="u9644_u5F55_uFF1A_u5E38_u89C1_u95EE_u9898_u89E3_u51B3"><a href="#u9644_u5F55_uFF1A_u5E38_u89C1_u95EE_u9898_u89E3_u51B3" class="headerlink" title="附录：常见问题解决"></a>附录：常见问题解决</h1><h2 id="1-_u649E_u5899_u89E3_u51B3_u65B9_u6CD5"><a href="#1-_u649E_u5899_u89E3_u51B3_u65B9_u6CD5" class="headerlink" title="1.撞墙解决方法"></a>1.撞墙解决方法</h2><p>撞墙用如下网站：这里有基本上的python第三方库<br><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="external">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a><br>进入网页使用Ctrl+f可以进行搜索下载：<br><img src="/img/python/21.png" alt="image"><br>可以下载得到一个后缀名为.whl的文件<br>下载完后将后缀名.whl改为.zip然后解压将解压的文件夹放到python安装目录的Lib目录下即可。</p>
<h2 id="2-easy_install__u6216_u8005pip__u5B89_u88C5_u65F6_u51FA_u73B0unable_to_find_vcvarsall-bat"><a href="#2-easy_install__u6216_u8005pip__u5B89_u88C5_u65F6_u51FA_u73B0unable_to_find_vcvarsall-bat" class="headerlink" title="2.easy_install 或者pip 安装时出现unable to find vcvarsall.bat"></a>2.easy_install 或者pip 安装时出现unable to find vcvarsall.bat</h2><p>很多python 库实际上使用c或者c++写的，所以安装编译时会需要用到msvc的东西；如果你的机器里没有装VS或者注册表设置不太对的话，就会报错。<br>微软出了一个msi包来解决这个问题：<br>Microsoft Visual C++ Compiler for Python 2.7<br>下载地址：<br><a href="http://www.microsoft.com/en-us/download/details.aspx?id=44266" target="_blank" rel="external">http://www.microsoft.com/en-us/download/details.aspx?id=44266</a> </p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag">#Python</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/27/centos_windows/" rel="next" title="U盘装Windows10/CentOS双系统">
                <i class="fa fa-chevron-left"></i> U盘装Windows10/CentOS双系统
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/06/Ardunio/" rel="prev" title="Ardunio">
                Ardunio <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/06/15/python/"
     data-title="Python"
     data-content=""
     data-url="http://www.bestzhangjin.com/2016/06/15/python/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/06/15/python/"
           data-title="Python" data-url="http://www.bestzhangjin.com/2016/06/15/python/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpeg" alt="Jin Zhang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Jin Zhang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">天高任鸟飞，海阔凭鱼跃。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">29</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">45</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E00_u7AE0__u73AF_u5883_u642D_u5EFA"><span class="nav-number">1.</span> <span class="nav-text">第一章 环境搭建</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E8C_u7AE0__u57FA_u672C_u77E5_u8BC6"><span class="nav-number">2.</span> <span class="nav-text">第二章 基本知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u53D8_u91CF"><span class="nav-number">2.1.</span> <span class="nav-text">1.变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u5FAA_u73AF"><span class="nav-number">2.2.</span> <span class="nav-text">3.循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u5B9A_u4E49_u51FD_u6570"><span class="nav-number">2.3.</span> <span class="nav-text">4.定义函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u7C7B-_u9762_u5411_u5BF9_u8C61"><span class="nav-number">2.4.</span> <span class="nav-text">5.类-面向对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u5F15_u5165Python_u6587_u4EF6"><span class="nav-number">2.5.</span> <span class="nav-text">6.引入Python文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E09_u7AE0_Python_u8BED_u8A00Web_u5F00_u53D1_u6846_u67B6web2py"><span class="nav-number">3.</span> <span class="nav-text">第三章 Python语言Web开发框架web2py</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u521B_u5EFAweb2py_u9879_u76EE"><span class="nav-number">3.1.</span> <span class="nav-text">1.创建web2py项目</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5904_u7406_u9759_u6001_u6587_u4EF6"><span class="nav-number">3.2.</span> <span class="nav-text">2.处理静态文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u7F16_u5199_u63A7_u5236_u5668"><span class="nav-number">3.3.</span> <span class="nav-text">3.编写控制器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u56DB_u7AE0_Python__u521D_u8BC6"><span class="nav-number">4.</span> <span class="nav-text">第四章 Python 初识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-python_u7279_u70B9"><span class="nav-number">4.1.</span> <span class="nav-text">1.python特点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-cmd_u4E0B_u7F16_u5199"><span class="nav-number">4.2.</span> <span class="nav-text">2.cmd下编写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Python__u8BED_u6CD5_u57FA_u7840"><span class="nav-number">4.3.</span> <span class="nav-text">3.Python 语法基础</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E94_u7AE0_Python_u6838_u5FC3_u7F16_u7A0B_u57FA_u7840_u6559_u7A0B_u4E4BPython_u8FD0_u7B97_u7B26_u3001_u8FD0_u7B97_u7B26_u4F18_u5148_u7EA7_u3001_u8868_u8FBE_u5F0F_u7B80_u4ECB"><span class="nav-number">5.</span> <span class="nav-text">第五章 Python核心编程基础教程之Python运算符、运算符优先级、表达式简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u8FD0_u7B97_u7B26"><span class="nav-number">5.1.</span> <span class="nav-text">1.运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-python_u4F18_u5148_u7EA7"><span class="nav-number">5.2.</span> <span class="nav-text">2.python优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u8868_u8FBE_u5F0F"><span class="nav-number">5.3.</span> <span class="nav-text">3.表达式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u516D_u7AE0__u63A7_u5236_u6D41"><span class="nav-number">6.</span> <span class="nav-text">第六章 控制流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u63A7_u5236_u6D41_u7C7B_u578B"><span class="nav-number">6.1.</span> <span class="nav-text">1.控制流类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-if_uFF0Cwhile_2Cfor"><span class="nav-number">6.2.</span> <span class="nav-text">2.if，while,for</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E03_u7AE0__u51FD_u6570"><span class="nav-number">7.</span> <span class="nav-text">第七章 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u51FD_u6570_u8BA4_u8BC6"><span class="nav-number">7.1.</span> <span class="nav-text">1.函数认识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5F62_u53C2_u4E0E_u5B9E_u53C2"><span class="nav-number">7.2.</span> <span class="nav-text">2.形参与实参</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u53C2_u6570_u7684_u4F20_u9012"><span class="nav-number">7.3.</span> <span class="nav-text">3.参数的传递</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u5168_u5C40_u53D8_u91CF_u4E0E_u5C40_u90E8_u53D8_u91CF"><span class="nav-number">7.4.</span> <span class="nav-text">4.全局变量与局部变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u51FD_u6570_u4F7F_u7528_u4E0E_u8FD4_u56DE_u503C"><span class="nav-number">7.5.</span> <span class="nav-text">5.函数使用与返回值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u6587_u6863_u5B57_u7B26_u4E32"><span class="nav-number">7.6.</span> <span class="nav-text">6.文档字符串</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u516B_u7AE0__u6A21_u5757"><span class="nav-number">8.</span> <span class="nav-text">第八章 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u8BA4_u8BC6_u6A21_u5757"><span class="nav-number">8.1.</span> <span class="nav-text">1.认识模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u5B57_u8282_u7F16_u8BD1"><span class="nav-number">8.2.</span> <span class="nav-text">2.字节编译</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-from_u2026import"><span class="nav-number">8.3.</span> <span class="nav-text">3.from…import</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-name_u5C5E_u6027"><span class="nav-number">8.4.</span> <span class="nav-text">4.name属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u81EA_u5B9A_u4E49_u6A21_u5757"><span class="nav-number">8.5.</span> <span class="nav-text">5.自定义模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-dir_28_29_u51FD_u6570"><span class="nav-number">8.6.</span> <span class="nav-text">6.dir()函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u4E5D_u7AE0__u6570_u636E_u7ED3_u6784"><span class="nav-number">9.</span> <span class="nav-text">第九章 数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u6982_u8FF0"><span class="nav-number">9.1.</span> <span class="nav-text">1.概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u6808"><span class="nav-number">9.2.</span> <span class="nav-text">2.栈</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u961F_u5217"><span class="nav-number">9.3.</span> <span class="nav-text">3.队列</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u7AE0__u57FA_u672C_u7684_u6B63_u5219_u8868_u8FBE_u5F0F"><span class="nav-number">10.</span> <span class="nav-text">第十章 基本的正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-pycharm_u8FD0_u7528"><span class="nav-number">10.1.</span> <span class="nav-text">1.pycharm运用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u6B63_u5219_u8868_u8FBE_u5F0F_u7B26_u53F7_u4E0E_u65B9_u6CD5"><span class="nav-number">10.2.</span> <span class="nav-text">2.正则表达式符号与方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u6B63_u5219_u8868_u8FBE_u5F0F_u5B9E_u4F8B"><span class="nav-number">10.3.</span> <span class="nav-text">3.正则表达式实例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u5236_u4F5C_u6587_u672C_u722C_u866B"><span class="nav-number">10.4.</span> <span class="nav-text">4.制作文本爬虫</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u4E00_u7AE0__u5355_u7EBF_u7A0B_u722C_u866B"><span class="nav-number">11.</span> <span class="nav-text">第十一章 单线程爬虫</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Requests_u4ECB_u7ECD"><span class="nav-number">11.1.</span> <span class="nav-text">1.Requests介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u7B2C_u4E00_u4E2A_u7F51_u9875_u722C_u866B"><span class="nav-number">11.2.</span> <span class="nav-text">2.第一个网页爬虫</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u5411_u7F51_u9875_u63D0_u4EA4_u6570_u636E"><span class="nav-number">11.3.</span> <span class="nav-text">3.向网页提交数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u6781_u5BA2_u5B66_u9662_u8BFE_u7A0B_u722C_u866B"><span class="nav-number">11.4.</span> <span class="nav-text">4.极客学院课程爬虫</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u4E8C_u7AE0_XPath_u4E0E_u591A_u7EBF_u7A0B_u722C_u866B"><span class="nav-number">12.</span> <span class="nav-text">第十二章 XPath与多线程爬虫</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-XPath_u4ECB_u7ECD_u4E0E_u914D_u7F6E"><span class="nav-number">12.1.</span> <span class="nav-text">1.XPath介绍与配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-XPath_u7684_u4F7F_u7528"><span class="nav-number">12.2.</span> <span class="nav-text">2.XPath的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-xpath_u7279_u6B8A_u4F7F_u7528"><span class="nav-number">12.3.</span> <span class="nav-text">3.xpath特殊使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Python__u5E76_u884C_u5316_u4ECB_u7ECD_u4E0E_u6F14_u793A"><span class="nav-number">12.4.</span> <span class="nav-text">4.Python 并行化介绍与演示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u767E_u5EA6_u8D34_u5427_u722C_u866B"><span class="nav-number">12.5.</span> <span class="nav-text">5.百度贴吧爬虫</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u7B2C_u5341_u4E09_u7AE0_Python_u64CD_u4F5C_u6570_u636E_u5E93_u2014_u2014MySQL_u7BC7"><span class="nav-number">13.</span> <span class="nav-text">第十三章 Python操作数据库——MySQL篇</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u6570_u636E_u5E93_u79CD_u7C7B_u6982_u8FF0"><span class="nav-number">13.1.</span> <span class="nav-text">1.数据库种类概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-MySQL__u6982_u8FF0_u53CA_u57FA_u672C_u4F7F_u7528"><span class="nav-number">13.2.</span> <span class="nav-text">2.MySQL 概述及基本使用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u9644_u5F55_uFF1A_u5DE5_u5177_u5305_u5B89_u88C5"><span class="nav-number">14.</span> <span class="nav-text">附录：工具包安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-easy_install"><span class="nav-number">14.1.</span> <span class="nav-text">1.easy_install</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-pip"><span class="nav-number">14.2.</span> <span class="nav-text">2.pip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-requests"><span class="nav-number">14.3.</span> <span class="nav-text">3.requests</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-mysql_u9A71_u52A8"><span class="nav-number">14.4.</span> <span class="nav-text">4.mysql驱动</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u9644_u5F55_uFF1A_u5E38_u89C1_u95EE_u9898_u89E3_u51B3"><span class="nav-number">15.</span> <span class="nav-text">附录：常见问题解决</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u649E_u5899_u89E3_u51B3_u65B9_u6CD5"><span class="nav-number">15.1.</span> <span class="nav-text">1.撞墙解决方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-easy_install__u6216_u8005pip__u5B89_u88C5_u65F6_u51FA_u73B0unable_to_find_vcvarsall-bat"><span class="nav-number">15.2.</span> <span class="nav-text">2.easy_install 或者pip 安装时出现unable to find vcvarsall.bat</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jin Zhang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"bestzhangjin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
