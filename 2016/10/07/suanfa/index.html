<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="SxtUWZeCB1kdMgucSmFlZL9HwwJmgQHGcp9w_p4Xtgc" />
<meta name="baidu-site-verification" content="Sil1fR2zak" />



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="数据结构,算法," />





  <link rel="alternate" href="/atom.xml" title="做最好的自己" type="application/atom+xml" />




      <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="主要内容：各种算法总结">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构与算法">
<meta property="og:url" content="http://www.bestzhangjin.com/2016/10/07/suanfa/index.html">
<meta property="og:site_name" content="做最好的自己">
<meta property="og:description" content="主要内容：各种算法总结">
<meta property="og:image" content="http://www.bestzhangjin.com/img/suanfa/2.jpg">
<meta property="og:image" content="http://www.bestzhangjin.com/img/suanfa/3.jpg">
<meta property="og:image" content="http://www.bestzhangjin.com/img/suanfa/4.jpg">
<meta property="og:image" content="http://www.bestzhangjin.com/img/suanfa/5.jpg">
<meta property="og:image" content="http://www.bestzhangjin.com/img/suanfa/1.png">
<meta property="og:updated_time" content="2016-10-29T02:47:36.775Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据结构与算法">
<meta name="twitter:description" content="主要内容：各种算法总结">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> 数据结构与算法 | 做最好的自己 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">做最好的自己</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                数据结构与算法
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-10-07T21:45:02+08:00" content="2016-10-07">
              2016-10-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/数据结构与算法/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/07/suanfa/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/07/suanfa/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>主要内容：各种算法总结<br><a id="more"></a></p>
<h1 id="u4E00-_u6570_u636E_u7ED3_u6784"><a href="#u4E00-_u6570_u636E_u7ED3_u6784" class="headerlink" title="一.数据结构"></a>一.数据结构</h1><h2 id="1-_u4ECB_u7ECD"><a href="#1-_u4ECB_u7ECD" class="headerlink" title="1.介绍"></a>1.介绍</h2><p>数据之间三种基本数据结构：<br>线性结构：数据元素之间一对一关系；<br>树形结构：数据元素之间一对多关系；<br>网状结构：数据元素之间多对多关系。</p>
<h2 id="2-_u7EBF_u6027_u8868"><a href="#2-_u7EBF_u6027_u8868" class="headerlink" title="2.线性表"></a>2.线性表</h2><p>线性表分顺序表和链表；<br>顺序表存储位置是相邻连续的，可以随即访问的一种数据结构，一个顺序表在使用前必须指定起长度，一旦分配内存，则在使用中不可以动态的更改。他的优点是访问数据是比较方便，可以随即的访问表中的任何一个数据。<br>链表是通过指针来描述元素关系的一种数据结构，他可以是物理地址不连续的物理空间。不能随即访问链表元素，必须从表头开始，一步一步搜索元素。它的优点是：对于数组，可以动态的改变数据的长度，分配物理空间。<br>在使用中：如果一个数组在使用中，查询比较多，而插入，删除数据比较少，数组的长度不变时，选顺序表比较合理。如果插入，删除，长度不定的数组，可以选链表。</p>
<p>(1)顺序表<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXSIZE <span class="number">100</span> <span class="comment">//顺序表最大长度</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义数据类型 数据节点类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="keyword">char</span> key[<span class="number">16</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">16</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125; DATA;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义顺序表结构</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    DATA ListData[MAXSIZE+<span class="number">1</span>];<span class="comment">//保存顺序表的数组</span></span><br><span class="line">    <span class="keyword">int</span> ListLen;<span class="comment">//已经存储的节点数量</span></span><br><span class="line">&#125;SeqList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化顺序表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SeqListInit</span><span class="params">(SeqList *SL)</span></span>&#123;</span><br><span class="line">    SL-&gt;ListLen=<span class="number">0</span>;<span class="comment">//清空表</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//长度查询</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListLength</span><span class="params">(SeqList *SL)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> SL-&gt;ListLen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListADD</span><span class="params">(SeqList *SL,DATA data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(SL-&gt;ListLen&gt;=MAXSIZE)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"表满，不可添加!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    SL-&gt;ListData[++SL-&gt;ListLen]=data;<span class="comment">//在表后面添加数据同时len+1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListInsert</span><span class="params">(SeqList *SL,<span class="keyword">int</span> n,DATA data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(SL-&gt;ListLen==MAXSIZE)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"表满,不可插入节点!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span>||n&gt;SL-&gt;ListLen-<span class="number">1</span>)&#123;<span class="comment">//插入序号不对</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"插入节点序号错误，不能插入!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=SL-&gt;ListLen;i&gt;=n;i--)&#123;<span class="comment">//数据后移</span></span><br><span class="line">        SL-&gt;ListData[i+<span class="number">1</span>]=SL-&gt;ListData[i];</span><br><span class="line">    &#125;</span><br><span class="line">    SL-&gt;ListData[n]=data;</span><br><span class="line">    SL-&gt;ListLen++;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListDelete</span><span class="params">(SeqList *SL,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span>||n&gt;SL-&gt;ListLen+<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"输入节点序号错误，不能删除节点!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=n;i&lt;SL-&gt;ListLen;i++)<span class="comment">//数据表前移</span></span><br><span class="line">        SL-&gt;ListData[i]=SL-&gt;ListData[i+<span class="number">1</span>];</span><br><span class="line">    SL-&gt;ListLen--;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//按序号查找节点</span></span><br><span class="line"><span class="function">DATA *<span class="title">SeqListFindByNum</span><span class="params">(SeqList *SL,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span> || n&gt;SL-&gt;ListLen+<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"节点序号错误，不能返回节点!"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*************/</span></span><br><span class="line">    <span class="keyword">return</span> &amp;(SL-&gt;ListData[n]);<span class="comment">//返回找到节点的指针</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//按关键字（这里用key）查找节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListFindByKey</span><span class="params">(SeqList *SL,<span class="keyword">char</span> *key)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=SL-&gt;ListLen;i++)&#123;</span><br><span class="line">        <span class="comment">// /////////////////////</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(SL-&gt;ListData[i].key,key)==<span class="number">0</span>)<span class="comment">//查到节点</span></span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历输出</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqListAll</span><span class="params">(SeqList *SL)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=SL-&gt;ListLen;i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"(%s,%s,%d)\n"</span>,SL-&gt;ListData[i].key,SL-&gt;ListData[i].name,SL-&gt;ListData[i].age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    SeqList SL;</span><br><span class="line">    DATA data,*data1;</span><br><span class="line">    <span class="keyword">char</span> key[<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line">    SeqListInit(&amp;SL);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"输入添加的节点(学号 姓名 年龄)："</span>);</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);<span class="comment">//清空输入缓冲区</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s%s%d"</span>,&amp;data.key,&amp;data.name,&amp;data.age);</span><br><span class="line">        <span class="keyword">if</span>(data.age)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!SeqListADD(&amp;SL,data))<span class="comment">//添加节点失败</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//年龄为0时退出死循环</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n顺序表中的数据为:\n"</span>);</span><br><span class="line">    SeqListAll(&amp;SL);</span><br><span class="line"></span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n要取出节点的序号:"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;i);</span><br><span class="line">    data1=SeqListFindByNum(&amp;SL,i);</span><br><span class="line">    <span class="keyword">if</span>(data1)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第%d个节点为:(%s,%s,%d)\n"</span>,i,data1-&gt;key,data1-&gt;name,data1-&gt;age);</span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n要查找节点的关键字:"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,key);</span><br><span class="line">    i=SeqListFindByKey(&amp;SL,key);</span><br><span class="line">    data1=SeqListFindByNum(&amp;SL,i);</span><br><span class="line">    <span class="keyword">if</span>(data1)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"第%d个节点为:(%s,%s,%d)\n"</span>,i,data1-&gt;key,data1-&gt;name,data1-&gt;age);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">输入添加的节点(学号 姓名 年龄)：<span class="number">1</span> liming <span class="number">23</span></span><br><span class="line">输入添加的节点(学号 姓名 年龄)：<span class="number">2</span> wanghua <span class="number">21</span></span><br><span class="line">输入添加的节点(学号 姓名 年龄)：<span class="number">3</span> nisan <span class="number">14</span></span><br><span class="line">输入添加的节点(学号 姓名 年龄)：<span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">顺序表中的数据为:</span><br><span class="line">(<span class="number">1</span>,liming,<span class="number">23</span>)</span><br><span class="line">(<span class="number">2</span>,wanghua,<span class="number">21</span>)</span><br><span class="line">(<span class="number">3</span>,nisan,<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">要取出节点的序号:<span class="number">1</span></span><br><span class="line">第<span class="number">1</span>个节点为:(<span class="number">1</span>,liming,<span class="number">23</span>)</span><br><span class="line"></span><br><span class="line">要查找节点的关键字:<span class="number">2</span></span><br><span class="line">第<span class="number">2</span>个节点为:(<span class="number">2</span>,wanghua,<span class="number">21</span>)</span><br></pre></td></tr></table></figure></p>
<p>(2)链表<br>链表有单向链表、双向链表、循环链表<br>A.单向链表<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数据类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="keyword">char</span> key[<span class="number">16</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">16</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;DATA;</span><br><span class="line"></span><br><span class="line"><span class="comment">//链表</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> Node&#123;</span><br><span class="line">    DATA data;</span><br><span class="line">    <span class="keyword">struct</span> Node *next;</span><br><span class="line">&#125;ChainList;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//添加节点到尾部</span></span><br><span class="line"><span class="function">ChainList *<span class="title">ChainListAddEnd</span><span class="params">(ChainList *head,DATA data)</span></span>&#123;</span><br><span class="line">    ChainList *node,*h;</span><br><span class="line">    <span class="keyword">if</span>(!(node=(ChainList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ChainList))))&#123;<span class="comment">//为节点分配空间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"为节点数据申请内存失败!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;data=data;</span><br><span class="line">    node-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        head=node;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    h=head;</span><br><span class="line">    <span class="keyword">while</span>(h-&gt;next!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        h=h-&gt;next;<span class="comment">//找到尾部</span></span><br><span class="line">    &#125;</span><br><span class="line">    h-&gt;next=node;<span class="comment">//尾部插入数据</span></span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加节点到头部</span></span><br><span class="line"><span class="function">ChainList *<span class="title">ChainListAddFirst</span><span class="params">(ChainList *head,DATA data)</span></span>&#123;</span><br><span class="line">    ChainList *node,*h;</span><br><span class="line">    <span class="keyword">if</span>(!(node=(ChainList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ChainList))))&#123;<span class="comment">//为节点分配空间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"为节点数据申请内存失败!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;data=data;</span><br><span class="line">    node-&gt;next=head;</span><br><span class="line">    head=node;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找节点 按关键字key</span></span><br><span class="line"><span class="function">ChainList *<span class="title">ChainListFind</span><span class="params">(ChainList *head,<span class="keyword">char</span> *key)</span></span>&#123;<span class="comment">//注意：这里关键字key用指针 ---- 因为是数组</span></span><br><span class="line">    ChainList *h;</span><br><span class="line">    h=head;</span><br><span class="line">    <span class="keyword">while</span>(h)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(h-&gt;data.key,key)==<span class="number">0</span>)<span class="comment">//节点关键字与传入关键字对比</span></span><br><span class="line">            <span class="keyword">return</span> h;</span><br><span class="line">        h=h-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入节点</span></span><br><span class="line"><span class="function">ChainList *<span class="title">ChainListInsert</span><span class="params">(ChainList *head,<span class="keyword">char</span> *findkey,DATA data)</span></span>&#123;</span><br><span class="line">    ChainList *node ,*node1;</span><br><span class="line">    <span class="keyword">if</span>(!(node=(ChainList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ChainList))))&#123;<span class="comment">//为节点分配空间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"为节点数据申请内存失败!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    node-&gt;data=data;</span><br><span class="line">    node1=ChainListFind(head,findkey);</span><br><span class="line">    <span class="keyword">if</span>(node1)&#123;<span class="comment">//插入新节点</span></span><br><span class="line">        node-&gt;next=node1-&gt;next;</span><br><span class="line">        node1-&gt;next=node;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">free</span>(node);<span class="comment">//  *******************malloc之后没有插入需要释放空间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"没有找到插入口\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除节点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ChainListDeleteByKey</span><span class="params">(ChainList *head,<span class="keyword">char</span> *key)</span></span>&#123;</span><br><span class="line">    ChainList *node,*h;</span><br><span class="line">    node=h=head;</span><br><span class="line">    <span class="keyword">while</span>(h)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(h-&gt;data.key,key)==<span class="number">0</span>)&#123;</span><br><span class="line">            node-&gt;next=h-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(h);<span class="comment">// ****************释放节点</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            node=h;<span class="comment">// *****指向当前节点</span></span><br><span class="line">            h=h-&gt;next;<span class="comment">// 指向下一节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//链表长度</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ChainListLength</span><span class="params">(ChainList *head)</span></span>&#123;</span><br><span class="line">    ChainList *h;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    h=head;</span><br><span class="line">    <span class="keyword">while</span>(h)&#123;</span><br><span class="line">        i++;</span><br><span class="line">        h=h-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ChainListAll</span><span class="params">(ChainList *head)</span></span>&#123;</span><br><span class="line">    ChainList *h;</span><br><span class="line">    DATA data;</span><br><span class="line">    h=head;</span><br><span class="line">    <span class="keyword">while</span>(h)&#123;</span><br><span class="line">        data=h-&gt;data;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"(%s,%s,%d)\n"</span>,data.key,data.name,data.age);</span><br><span class="line">        h=h-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    ChainList *node,*head=<span class="literal">NULL</span>;</span><br><span class="line">    DATA data;</span><br><span class="line">    <span class="keyword">char</span> key[<span class="number">16</span>],findkey[<span class="number">16</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入链表数据，关键字(为0时停止)、姓名、年龄:\n"</span>);</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,data.key);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(data.key,<span class="string">"0"</span>)==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s%d"</span>,data.name,&amp;data.age);<span class="comment">// 数组本身就是地址 不用加&amp;</span></span><br><span class="line">        head=ChainListAddEnd(head,data);</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"链表有 %d 个节点:\n"</span>,ChainListLength(head));</span><br><span class="line">    ChainListAll(head);</span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n插入节点，输入位置关键字key："</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>,&amp;findkey);</span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入插入数据: 关键字 姓名 年龄 :"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s%s%d"</span>,data.key,data.name,&amp;data.age);</span><br><span class="line">    head=ChainListInsert(head,findkey,data);</span><br><span class="line">    ChainListAll(head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">输入链表数据，关键字(为<span class="number">0</span>时停止)、姓名、年龄:</span><br><span class="line"><span class="number">1</span> xiaoming <span class="number">32</span></span><br><span class="line"><span class="number">2</span> lixiao <span class="number">21</span></span><br><span class="line"><span class="number">3</span> xuhan <span class="number">13</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">链表有 <span class="number">3</span> 个节点:</span><br><span class="line">(<span class="number">1</span>,xiaoming,<span class="number">32</span>)</span><br><span class="line">(<span class="number">2</span>,lixiao,<span class="number">21</span>)</span><br><span class="line">(<span class="number">3</span>,xuhan,<span class="number">13</span>)</span><br><span class="line"></span><br><span class="line">插入节点，输入位置关键字key：<span class="number">1</span></span><br><span class="line">输入插入数据: 关键字 姓名 年龄 :<span class="number">4</span> shendu <span class="number">80</span></span><br><span class="line">(<span class="number">1</span>,xiaoming,<span class="number">32</span>)</span><br><span class="line">(<span class="number">4</span>,shendu,<span class="number">80</span>)</span><br><span class="line">(<span class="number">2</span>,lixiao,<span class="number">21</span>)</span><br><span class="line">(<span class="number">3</span>,xuhan,<span class="number">13</span>)</span><br></pre></td></tr></table></figure></p>
<p>B.双向链表<br>双向链表对比单项链表多了一个指向前边的指针；<br>可以定义如下：<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">typedef struct <span class="keyword">Node</span><span class="identifier"></span><span class="title">&#123;</span><br><span class="line">	struct</span> <span class="keyword">Node</span><span class="identifier"> </span><span class="title">*before</span>;</span><br><span class="line">    DATA data;</span><br><span class="line">    struct <span class="keyword">Node</span><span class="identifier"> </span><span class="title">*after</span>;</span><br><span class="line">&#125;ChainList;</span><br></pre></td></tr></table></figure></p>
<p>原理与单向一样。</p>
<p>C.循环链表<br>循环链表就是单项链表的尾部又指向头部，形成一个循环。</p>
<h2 id="3-_u961F_u5217"><a href="#3-_u961F_u5217" class="headerlink" title="3.队列"></a>3.队列</h2><p>先进先出。<br>只能前端删除，后端添加。插入端为队尾，删除端为队头。<br>分顺序队列和循环队列。<br>顺序队列：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> QUEUEMAX <span class="number">15</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">16</span>];</span><br><span class="line">&#125;DATA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    DATA data[QUEUEMAX];<span class="comment">//队列数组</span></span><br><span class="line">    <span class="keyword">int</span> head;<span class="comment">//队头</span></span><br><span class="line">    <span class="keyword">int</span> tail;<span class="comment">//队尾</span></span><br><span class="line">&#125;SeqQueue;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化队列</span></span><br><span class="line"><span class="function">SeqQueue *<span class="title">SeqQueueInit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SeqQueue *q;</span><br><span class="line">    <span class="keyword">if</span>(q=(SeqQueue *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(SeqQueue)))&#123;<span class="comment">//申请保存队列的内存</span></span><br><span class="line">        q-&gt;head=<span class="number">0</span>;<span class="comment">//设置队头</span></span><br><span class="line">        q-&gt;tail=<span class="number">0</span>;<span class="comment">//设置队尾</span></span><br><span class="line">        <span class="keyword">return</span> q;</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//释放队列</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SeqQueueFree</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(q!=<span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">free</span>(q);<span class="comment">// 释放队列   malloc申请的内存都应该释放</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取状态 空?满?长度?</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqQueueIsEmpty</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (q-&gt;head==q-&gt;tail);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqQueueIsFull</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (q-&gt;tail==QUEUEMAX);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqQueueLength</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (q-&gt;tail-q-&gt;head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqQueueIn</span><span class="params">(SeqQueue *q,DATA data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;tail==QUEUEMAX)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列满\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        q-&gt;data[q-&gt;tail++]=data;<span class="comment">//加入队列 修改对尾序号</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line"><span class="function">DATA *<span class="title">SeqQueueOut</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;head==q-&gt;tail)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n队列空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;(q-&gt;data[q-&gt;head++]);<span class="comment">//返回指向队列头的元素指针 修改队头序号</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SeqQueueAll</span><span class="params">(SeqQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(SeqQueueIsEmpty(q))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列为空\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    DATA data;</span><br><span class="line">    SeqQueue *h=q;</span><br><span class="line">    <span class="keyword">while</span>(h-&gt;tail-h-&gt;head)&#123;</span><br><span class="line">        data=h-&gt;data[h-&gt;head];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"(%d,%s)\n"</span>,data.key,data.name);</span><br><span class="line">        h-&gt;head++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    SeqQueue *head=SeqQueueInit();</span><br><span class="line">    DATA data;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"输入队列元素(key(int),name(char[16])),key=0时退出:"</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;data.key);</span><br><span class="line">        <span class="keyword">if</span>(data.key==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,data.name);</span><br><span class="line">        SeqQueueIn(head,data);</span><br><span class="line">    &#125;</span><br><span class="line">    SeqQueueAll(head);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">输入队列元素(key(<span class="keyword">int</span>),name(<span class="keyword">char</span>[<span class="number">16</span>])),key=<span class="number">0</span>时退出:<span class="number">1</span> limin</span><br><span class="line">输入队列元素(key(<span class="keyword">int</span>),name(<span class="keyword">char</span>[<span class="number">16</span>])),key=<span class="number">0</span>时退出:<span class="number">2</span> wanghua</span><br><span class="line">输入队列元素(key(<span class="keyword">int</span>),name(<span class="keyword">char</span>[<span class="number">16</span>])),key=<span class="number">0</span>时退出:<span class="number">3</span> xiaoming</span><br><span class="line">输入队列元素(key(<span class="keyword">int</span>),name(<span class="keyword">char</span>[<span class="number">16</span>])),key=<span class="number">0</span>时退出:<span class="number">0</span></span><br><span class="line">(<span class="number">1</span>,limin)</span><br><span class="line">(<span class="number">2</span>,wanghua)</span><br><span class="line">(<span class="number">3</span>,xiaoming)</span><br></pre></td></tr></table></figure></p>
<p>循环队列:<br>将队列的首尾相连构成一个环形区域，当第n个位置元素入队后，下一个地址就变为1，如此循环，称之为循环队列。<br>当tail=n+1时，tail=1;<br>head=tail则队列满。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> QUEUEMAX <span class="number">15</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;<span class="comment">//编号</span></span><br><span class="line">    <span class="keyword">long</span> time;<span class="comment">//加入队列时间</span></span><br><span class="line">&#125;DATA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    DATA data[QUEUEMAX];</span><br><span class="line">    <span class="keyword">int</span> head;</span><br><span class="line">    <span class="keyword">int</span> tail;</span><br><span class="line">&#125;CycQueue;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function">CycQueue *<span class="title">CycQueueInit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    CycQueue *q;</span><br><span class="line">    <span class="keyword">if</span>(q=(CycQueue *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CycQueue)))&#123;<span class="comment">//申请保存队列的内存</span></span><br><span class="line">        q-&gt;head=<span class="number">0</span>;</span><br><span class="line">        q-&gt;tail=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> q;</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//释放队列</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CycQueueFree</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(q!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">free</span>(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CycQueueIsEmpty</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (q-&gt;head==q-&gt;tail);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CycQueueIsFull</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ((q-&gt;tail+<span class="number">1</span>)%QUEUEMAX==q-&gt;head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CycQueueIn</span><span class="params">(CycQueue *q,DATA data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((q-&gt;tail+<span class="number">1</span>)%QUEUEMAX==q-&gt;head)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列满!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        q-&gt;tail=(q-&gt;tail+<span class="number">1</span>)%QUEUEMAX;</span><br><span class="line">        q-&gt;data[q-&gt;tail]=data;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">DATA *<span class="title">CycQueueOut</span><span class="params">(CycQueue *q)</span></span>&#123;<span class="comment">//循环出队</span></span><br><span class="line">    <span class="keyword">if</span>(q-&gt;head==q-&gt;tail)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        q-&gt;head=(q-&gt;head+<span class="number">1</span>)%QUEUEMAX;</span><br><span class="line">        <span class="keyword">return</span> &amp;(q-&gt;data[q-&gt;head]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CycQueueLen</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    n=q-&gt;tail-q-&gt;head;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        n=QUEUEMAX+n;<span class="comment">//循环队列</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">DATA *<span class="title">CycQueuePeek</span><span class="params">(CycQueue *q)</span></span>&#123;<span class="comment">//获取队列中的第一个位置的数据</span></span><br><span class="line">    <span class="keyword">if</span>(q-&gt;head==q-&gt;tail)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;(q-&gt;data[(q-&gt;head+<span class="number">1</span>)%QUEUEMAX]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num=<span class="number">0</span>;<span class="comment">//顾客序号</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    DATA data;</span><br><span class="line">    <span class="keyword">if</span>(!CycQueueIsFull(q))&#123;</span><br><span class="line">        data.num=++num;</span><br><span class="line">        data.time=time(<span class="literal">NULL</span>);<span class="comment">//保存顾客排号时间</span></span><br><span class="line">        CycQueueIn(q,data);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n排队的人太多，请稍后再排!\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">next</span><span class="params">(CycQueue *q)</span></span>&#123;</span><br><span class="line">    DATA *data;</span><br><span class="line">    <span class="keyword">if</span>(!CycQueueIsEmpty(q))&#123;</span><br><span class="line">        data=CycQueueOut(q);<span class="comment">//取队列头部数据</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n请编号为%d的顾客办理业务!\n"</span>,data-&gt;num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!CycQueueIsEmpty(q))&#123;</span><br><span class="line">        data=CycQueuePeek(q);<span class="comment">//取队列中指定位置的数据</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"请编号为%d的顾客准备，马上将为你办理业务!\n"</span>,data-&gt;num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    CycQueue *q;</span><br><span class="line">    <span class="keyword">int</span> i,n;</span><br><span class="line">    <span class="keyword">char</span> select;</span><br><span class="line">    num=<span class="number">0</span>;</span><br><span class="line">    q=CycQueueInit();</span><br><span class="line">    <span class="keyword">if</span>(q==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"创建队列时错误!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n请输入:1.新到顾客 2.下一个顾客 0.退出"</span>);</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        select=getch();</span><br><span class="line">        <span class="keyword">switch</span> (select) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'1'</span>:</span><br><span class="line">            add(q);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n现在共有%d位顾客在等候!\n"</span>,CycQueueLen(q));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'2'</span>:</span><br><span class="line">            next(q);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n现在共有%d位顾客在等候!\n"</span>,CycQueueLen(q));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(select!=<span class="string">'0'</span>);</span><br><span class="line">    CycQueueFree(q);<span class="comment">//释放队列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">请输入:<span class="number">1.</span>新到顾客 <span class="number">2.</span>下一个顾客 <span class="number">0.</span>退出</span><br><span class="line">现在共有<span class="number">1</span>位顾客在等候!</span><br><span class="line"></span><br><span class="line">请输入:<span class="number">1.</span>新到顾客 <span class="number">2.</span>下一个顾客 <span class="number">0.</span>退出</span><br><span class="line">现在共有<span class="number">2</span>位顾客在等候!</span><br><span class="line"></span><br><span class="line">请输入:<span class="number">1.</span>新到顾客 <span class="number">2.</span>下一个顾客 <span class="number">0.</span>退出</span><br><span class="line">请编号为<span class="number">1</span>的顾客办理业务!</span><br><span class="line">请编号为<span class="number">2</span>的顾客准备，马上将为你办理业务!</span><br><span class="line"></span><br><span class="line">现在共有<span class="number">1</span>位顾客在等候!</span><br></pre></td></tr></table></figure></p>
<h2 id="4-_u6808"><a href="#4-_u6808" class="headerlink" title="4.栈"></a>4.栈</h2><p>后进先出；<br>顺序栈：使用一连续内存地址保存栈中数据；<br>链式栈：使用链表形式保存栈中各元素的值。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> SIZE <span class="number">16</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">15</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">&#125;DATA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">stack</span>&#123;</span><br><span class="line">    DATA data[SIZE+<span class="number">1</span>];<span class="comment">//数据元素</span></span><br><span class="line">    <span class="keyword">int</span> top;</span><br><span class="line">&#125;SeqStack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化栈</span></span><br><span class="line"><span class="function">SeqStack *<span class="title">SeqStackInit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SeqStack *p;</span><br><span class="line">    <span class="keyword">if</span>(p=(SeqStack *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(SeqStack)))&#123;</span><br><span class="line">        p-&gt;top=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//释放内存</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SeqStackFree</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s)&#123;</span><br><span class="line">        <span class="built_in">free</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqStackIsEmpty</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (s-&gt;top==<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SeqStackClear</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    s-&gt;top=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断栈是否满</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqStackIsFull</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (s-&gt;top==SIZE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//入栈</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SeqStackPush</span><span class="params">(SeqStack *s,DATA data)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((s-&gt;top+<span class="number">1</span>)&gt;SIZE)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"栈溢出!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;data[++s-&gt;top]=data;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出栈</span></span><br><span class="line"><span class="function">DATA <span class="title">SeqStackPop</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"栈为空"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (s-&gt;data[s-&gt;top--]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取栈顶元素</span></span><br><span class="line"><span class="function">DATA <span class="title">SeqStackPeek</span><span class="params">(SeqStack *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;top==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"栈为空!"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (s-&gt;data[s-&gt;top]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    SeqStack *<span class="built_in">stack</span>;</span><br><span class="line">    DATA data,data1;</span><br><span class="line">    <span class="built_in">stack</span>=SeqStackInit();</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.入栈 2.出栈 3.退出:"</span>);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;i);</span><br><span class="line">        <span class="keyword">switch</span> (i) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"输入姓名 年龄入栈:"</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s%d"</span>,data.name,&amp;data.age);</span><br><span class="line">            <span class="keyword">if</span>(data.name==<span class="string">"0"</span>||data.age==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            SeqStackPush(<span class="built_in">stack</span>,data);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            data1=SeqStackPop(<span class="built_in">stack</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"出栈数据是(%s,%d)\n"</span>,data1.name,data1.age);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            SeqStackFree(<span class="built_in">stack</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line"><span class="number">1.</span>入栈 <span class="number">2.</span>出栈 <span class="number">3.</span>退出:<span class="number">1</span></span><br><span class="line">输入姓名 年龄入栈:小明 <span class="number">23</span></span><br><span class="line"><span class="number">1.</span>入栈 <span class="number">2.</span>出栈 <span class="number">3.</span>退出:<span class="number">1</span></span><br><span class="line">输入姓名 年龄入栈:李华 <span class="number">21</span></span><br><span class="line"><span class="number">1.</span>入栈 <span class="number">2.</span>出栈 <span class="number">3.</span>退出:<span class="number">2</span></span><br><span class="line">出栈数据是(李华,<span class="number">21</span>)</span><br><span class="line"><span class="number">1.</span>入栈 <span class="number">2.</span>出栈 <span class="number">3.</span>退出:<span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-_u6811"><a href="#5-_u6811" class="headerlink" title="5.树"></a>5.树</h2><p>树是n个节点的集合，集合中有一个称为根的特殊节点，根节点下分布着一些互不相交的集合，每一个集合又是一个树，这些树称为根节点的子树。<br>空集合也是树，称为空树，空树中没有节点；<br>单个节点是一棵树，树根就是节点本身；<br>有多个节点时，每个节点都可以看做根节点(整个树或者某个树的根节点)；<br>在一棵树中，有且仅有根节点没有前驱，其余每个节点有且只有一个前驱，每个节点有任意多个后继（连接当前节点的接着的后面节点）；<br>节点的度：一个节点的子树（下面的后继）的数量称为该节点的度；<br>树的度：一棵树的度是指该树中节点的最大度数；<br>叶节点：树中度为0的节点；<br>分支节点：树中度不为0的节点；<br>根节点为第一层，后面依次第二层、第三层、…<br>树的深度:一棵树的最大层数；<br>有序树：树中节点的子树（兄弟节点）是按一定的次序从左到右安排的，称为有序树；否则称为无序树。<br>森林：m(m&gt;=0)棵互不相交的树的集合。</p>
<p>二叉树：<br>任意树可以方便地转化为对应的二叉树，二叉树对许多算法应用简单。<br>二叉树任意节点最多只能有两个子节点，如果只有一个子节点，可以是左子树，也可以是右子树；<br>空树或者单个节点也是二叉树。</p>
<p>二叉树与树区别：<br>树中节点最大度数没有限制，而二叉树节点最大度数为2；<br>树的节点无左右之分，而二叉树的节点有左右之分。</p>
<p>满二叉树：除了最下面一层叶节点，每层的节点都有两个子节点；<br>完全二叉树：除了最后一层外，其他各层节点数都达到最大个数，最后一层从左到右叶节点连续存在，只缺右边若干个节点。<br>满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树。</p>
<p>二叉树性质:<br>(1) 第i层节点的总数最多为2^(i-1)个；<br>(2) 深度为k的二叉树最多有2^k-1个；最少有k个节点；<br>(3) 叶节点数n余度为2的节点总数m,有n=m+1;<br>(4) 有n个节点的完全二叉树的深度k=[log2n]+1;([log2n]—以2为底n的对数再取整)<br>(5) 有n个节点的完全二叉树各节点如果顺序存储，对任意节点i有：<br>   如果i!=1,则其父节点的编号为i/2;<br>   如果2<em>i&lt;=n,则其左子树根节点的编号为2</em>i,若2<em>i&gt;n,则无左子树；<br>   如果2</em>i+1&lt;=n，则其右子树根节点编号为2<em>i+1;若2</em>i+1&gt;n,则无右子树；</p>
<p>二叉树按存储结构分为顺序存储与链式存储结构<br>顺序存储结构：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">typedef DATA SeqB<span class="keyword">in</span>Tree[MAXSIZE];</span><br><span class="line">SeqB<span class="keyword">in</span>Tree SBT;//定义保存二叉树数组的变量</span><br></pre></td></tr></table></figure></p>
<p>对一个完全二叉树，用顺序结构，各节点之间有对应关系，对于节点i,其父节点为i/2(若商不整数，则进行取整)，而其左子节点的编号为2<em>i,右子节点的编号为2</em>i+1。<br>对于不是完全二叉树的的树转化为完全二叉树，将缺少的节点虚设为无数据的节点（这里以”#”表示），如图：<br><img src="/img/suanfa/2.jpg" alt="image"><br>之后每个节点的序号与数组有了对应关系</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>B</td>
<td>C</td>
<td>#</td>
<td>D</td>
<td>#</td>
<td>E</td>
<td>#</td>
<td>#</td>
<td>F</td>
<td>#</td>
<td>#</td>
<td>#</td>
<td>G</td>
<td>H</td>
</tr>
</tbody>
</table>
<p>保存A~H共7个节点共占用15个节点的存储空间，空间造成了浪费。<br>顺序存储浪费空间，所以常用链式存储。</p>
<p>链式存储结构<br>二叉链表结构：一个节点由节点元素和两个分别指向左、右子树的指针组成的节点结构；<br>三叉链表结构：在二叉链表结构基础上增加父节点的指针。<br>二叉链式结构<br>—————————————————————<br>| LSon | Data | RSon |<br>—————————————————————<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">typedef <span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span>&#123;</span></span><br><span class="line">	<span class="constant">DATA</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span> *<span class="title">left</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span> *<span class="title">right</span>;</span></span><br><span class="line">&#125;<span class="constant">ChainTreeType</span>;</span><br><span class="line"><span class="constant">ChainTreeType</span> *root=<span class="constant">NULL</span>;<span class="regexp">//</span>定义二叉树根节点指针</span><br></pre></td></tr></table></figure></p>
<p>三叉链式结构<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">typedef <span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span>&#123;</span></span><br><span class="line">	<span class="constant">DATA</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span> *<span class="title">left</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span> *<span class="title">right</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">ChainTree</span> *<span class="title">parent</span>;</span>/<span class="regexp">/父节点指针</span><br><span class="line">&#125;ChainTreeType;</span><br><span class="line">ChainTreeType *root=NULL;/</span><span class="regexp">/定义二叉树根节点指针</span></span><br></pre></td></tr></table></figure></p>
<p>——————————————————————————————<br>| LSon | Data | RSon | Parent |<br>——————————————————————————————</p>
<p>操作二叉树：<br><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#define QUEUE_MAXSIZE 50</span></span><br><span class="line">typedef <span class="keyword">char</span> DATA;<span class="comment">//元素类型</span></span><br><span class="line">typedef struct ChainTree&#123;<span class="comment">//二叉树节点类型</span></span><br><span class="line">    DATA data;</span><br><span class="line">    struct ChainTree *left;</span><br><span class="line">    struct ChainTree *right;</span><br><span class="line">&#125;ChainBinTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化二叉树</span></span><br><span class="line">ChainBinTree *BinTreeInit(ChainBinTree *node)&#123;</span><br><span class="line">    <span class="keyword">if</span>(node!=<span class="keyword">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加节点</span></span><br><span class="line"><span class="comment">//bt--父节点 node--子节点 n=1添加左子树 n=2添加右子树</span></span><br><span class="line"><span class="keyword">int</span> BinTreeAddNode(ChainBinTree *bt,ChainBinTree *node,<span class="keyword">int</span> n)&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)&#123;</span><br><span class="line">        printf(<span class="string">"父节点不存在,请先设置父节点！\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span>(bt-&gt;left)&#123;</span><br><span class="line">            printf(<span class="string">"左子树节点不为空!\n"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            bt-&gt;left=node;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">if</span>(bt-&gt;right)&#123;</span><br><span class="line">            printf(<span class="string">"右树节点不为空!\n"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            bt-&gt;right=node;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        printf(<span class="string">"参数错误!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回二叉树的左右子树节点</span></span><br><span class="line">ChainBinTree *BinTreeLeft(ChainBinTree *bt)&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> bt-&gt;left;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">ChainBinTree *BinTreeRight(ChainBinTree *bt)&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> bt-&gt;right;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取二叉树状态</span></span><br><span class="line"><span class="keyword">int</span> BinTreeIsEmpty(ChainBinTree *bt)&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> BinTreeDepth(ChainBinTree *bt)&#123;</span><br><span class="line">    <span class="keyword">int</span> dep1,dep2;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        dep1=BinTreeDepth(bt-&gt;left);</span><br><span class="line">        dep2=BinTreeDepth(bt-&gt;right);</span><br><span class="line">        <span class="keyword">if</span>(dep1&gt;dep2)</span><br><span class="line">            <span class="keyword">return</span> dep1+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> dep2+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line">ChainBinTree *BinTreeFind(ChainBinTree *bt,DATA data)&#123;</span><br><span class="line">    ChainBinTree *p;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(bt-&gt;data==data)</span><br><span class="line">            <span class="keyword">return</span> bt;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(p=BinTreeFind(bt-&gt;left,data))</span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p=BinTreeFind(bt-&gt;right,data))</span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空二叉树</span></span><br><span class="line">void BinTreeClear(ChainBinTree *bt)&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)&#123;</span><br><span class="line">        BinTreeClear(bt-&gt;left);</span><br><span class="line">        BinTreeClear(bt-&gt;right);</span><br><span class="line">        free(bt);</span><br><span class="line">        bt=<span class="keyword">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//***********************遍历************</span></span><br><span class="line"><span class="comment">//先序遍历   oper--函数指针</span></span><br><span class="line">void BinTree_BLR(ChainBinTree *bt,void (*oper)(ChainBinTree *p))&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)&#123;</span><br><span class="line">        oper(bt);</span><br><span class="line">        BinTree_BLR(bt-&gt;left,oper);</span><br><span class="line">        BinTree_BLR(bt-&gt;right,oper);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line">void BinTree_LDR(ChainBinTree *bt,void(*oper)(ChainBinTree *p))&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)&#123;</span><br><span class="line">        BinTree_LDR(bt-&gt;left,oper);</span><br><span class="line">        oper(bt);</span><br><span class="line">        BinTree_LDR(bt-&gt;right,oper);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line">void BinTree_LRD(ChainBinTree *bt,void(*oper)(ChainBinTree *p))&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)&#123;</span><br><span class="line">        BinTree_LRD(bt-&gt;left,oper);</span><br><span class="line">        BinTree_LRD(bt-&gt;right,oper);</span><br><span class="line">        oper(bt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//按层遍历</span></span><br><span class="line">void Bintree_level(ChainBinTree *bt,void(*oper)(ChainBinTree *p))&#123;</span><br><span class="line">    ChainBinTree *p;</span><br><span class="line">    ChainBinTree *q[QUEUE_MAXSIZE];</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(bt)&#123;</span><br><span class="line">        tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;<span class="comment">//计算循环队列的队尾序号</span></span><br><span class="line">        q[tail]=bt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(head!=tail)&#123;</span><br><span class="line">        head=(head+<span class="number">1</span>)%QUEUE_MAXSIZE;<span class="comment">//计算循环队列队首序号</span></span><br><span class="line">        p=q[head];</span><br><span class="line">        oper(p);</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;left!=<span class="keyword">NULL</span>)&#123;<span class="comment">//节点为左子树，则左子树指针进队</span></span><br><span class="line">            tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;</span><br><span class="line">            q[tail]=p-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;right!=<span class="keyword">NULL</span>)&#123;</span><br><span class="line">            tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;</span><br><span class="line">            q[tail]=p-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void oper(ChainBinTree *p)&#123;</span><br><span class="line">    printf(<span class="string">"%c "</span>,p-&gt;data);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建二叉树根节点</span></span><br><span class="line">ChainBinTree *InitRoot()&#123;</span><br><span class="line">    ChainBinTree *node;</span><br><span class="line">    <span class="keyword">if</span>(node=(ChainBinTree *)malloc(sizeof(ChainBinTree)))&#123;</span><br><span class="line">        printf(<span class="string">"\n输入根节点数据："</span>);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;node-&gt;data);</span><br><span class="line">        node-&gt;left=<span class="keyword">NULL</span>;</span><br><span class="line">        node-&gt;right=<span class="keyword">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//向二叉树添加子节点</span></span><br><span class="line">void ADDNode(ChainBinTree *bt)&#123;</span><br><span class="line">    ChainBinTree *node,*<span class="keyword">parent</span>;</span><br><span class="line">    DATA data;</span><br><span class="line">    <span class="keyword">char</span> select;</span><br><span class="line">    <span class="keyword">if</span>(node=(ChainBinTree *)malloc(sizeof(ChainBinTree)))&#123;</span><br><span class="line">        printf(<span class="string">"\n输入二叉树节点数据:"</span>);</span><br><span class="line">        fflush(stdin);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;node-&gt;data);</span><br><span class="line">        node-&gt;left=<span class="keyword">NULL</span>;</span><br><span class="line">        node-&gt;right=<span class="keyword">NULL</span>;</span><br><span class="line">        printf(<span class="string">"输入父节点数据："</span>);</span><br><span class="line">        fflush(stdin);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;data);</span><br><span class="line">        <span class="keyword">parent</span>=BinTreeFind(bt,data);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">parent</span>)&#123;</span><br><span class="line">            printf(<span class="string">"没有找到父节点!\n"</span>);</span><br><span class="line">            free(node);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        printf(<span class="string">"1.添加到左子树\n2.添加到右子树\n"</span>);</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            select=getch();</span><br><span class="line">            select-=<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span>(select==<span class="number">1</span>||select==<span class="number">2</span>)</span><br><span class="line">                BinTreeAddNode(<span class="keyword">parent</span>,node,select);</span><br><span class="line">        &#125;<span class="keyword">while</span>(select!=<span class="number">1</span>&amp;&amp;select!=<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(void)</span><br><span class="line">&#123;</span><br><span class="line">    ChainBinTree *root=<span class="keyword">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> select;</span><br><span class="line">    void (*oper1)();<span class="comment">//指向函数的指针</span></span><br><span class="line">    oper1=oper;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        printf(<span class="string">"\n1.设置二叉树根元素 2.添加二叉树节点 3.先序遍历 4.中序遍历 5.后序遍历 6.按层遍历 7.二叉树深度 0.退出\n"</span>);</span><br><span class="line">        select=getch();</span><br><span class="line">        <span class="keyword">switch</span> (select) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'1'</span>:</span><br><span class="line">            root=InitRoot();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'2'</span>:</span><br><span class="line">            ADDNode(root);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'3'</span>:</span><br><span class="line">            printf(<span class="string">"先序遍历结果:\n"</span>);</span><br><span class="line">            BinTree_BLR(root,oper1);</span><br><span class="line">            printf(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'4'</span>:</span><br><span class="line">            printf(<span class="string">"中序遍历结果：\n"</span>);</span><br><span class="line">            BinTree_LDR(root,oper1);</span><br><span class="line">            printf(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'5'</span>:</span><br><span class="line">            printf(<span class="string">"后序遍历结果:\n"</span>);</span><br><span class="line">            BinTree_LRD(root,oper1);</span><br><span class="line">            printf(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'6'</span>:</span><br><span class="line">            printf(<span class="string">"按层遍历结果：\n"</span>);</span><br><span class="line">            Bintree_level(root,oper1);</span><br><span class="line">            printf(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'7'</span>:</span><br><span class="line">            printf(<span class="string">"二叉树深度:%d\n"</span>,BinTreeDepth(root));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'0'</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(select!=<span class="number">0</span>);</span><br><span class="line">    BinTreeClear(root);</span><br><span class="line">    root=<span class="keyword">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line"><span class="number">1.</span>设置二叉树根元素 <span class="number">2.</span>添加二叉树节点 <span class="number">3.</span>先序遍历 <span class="number">4.</span>中序遍历 <span class="number">5.</span>后序遍历 <span class="number">6.</span>按层遍历 <span class="number">7.</span>二叉树深度 <span class="number">0.</span>退出</span><br><span class="line">先序遍历结果:</span><br><span class="line">A B D E C F G</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素 <span class="number">2.</span>添加二叉树节点 <span class="number">3.</span>先序遍历 <span class="number">4.</span>中序遍历 <span class="number">5.</span>后序遍历 <span class="number">6.</span>按层遍历 <span class="number">7.</span>二叉树深度 <span class="number">0.</span>退出</span><br><span class="line">中序遍历结果：</span><br><span class="line">D B E A F C G</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素 <span class="number">2.</span>添加二叉树节点 <span class="number">3.</span>先序遍历 <span class="number">4.</span>中序遍历 <span class="number">5.</span>后序遍历 <span class="number">6.</span>按层遍历 <span class="number">7.</span>二叉树深度 <span class="number">0.</span>退出</span><br><span class="line">后序遍历结果:</span><br><span class="line">D E B F G C A</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素 <span class="number">2.</span>添加二叉树节点 <span class="number">3.</span>先序遍历 <span class="number">4.</span>中序遍历 <span class="number">5.</span>后序遍历 <span class="number">6.</span>按层遍历 <span class="number">7.</span>二叉树深度 <span class="number">0.</span>退出</span><br><span class="line">按层遍历结果：</span><br><span class="line">A B C D E F G</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素 <span class="number">2.</span>添加二叉树节点 <span class="number">3.</span>先序遍历 <span class="number">4.</span>中序遍历 <span class="number">5.</span>后序遍历 <span class="number">6.</span>按层遍历 <span class="number">7.</span>二叉树深度 <span class="number">0.</span>退出</span><br><span class="line">二叉树深度:<span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<p>线索二叉树：<br>二叉树遍历结果可以看成一个线性表（节点序列），除了第1个节点外，每个节点有且仅有一个前驱，除最后一个节点，每个节点有且仅有一个后继。<br>二叉树链表保存二叉树只能找到节点的左右子树，不能直接得到节点的前驱和后继（只有遍历才行）<br>为了将二叉树在遍历过程中的前驱后继谢谢保存起来，将每个节点为空的左右指针分别用于指向节点的前驱和后继得到线索二叉树<br>左线索：左指针域中存放的指向前驱节点的指针<br>右线索：右这边域中存放的指向后继节点的指针<br>按遍历顺序不同保存的线索二叉树分先序，中序，后序。<br><img src="/img/suanfa/3.jpg" alt="image"><br>上图中序遍历为BFDACGEH<br>为了区别每个节点左右指针域存放的是子树的指针还是线索，必须在节点结构中添加两个标志域：一个左线索域lflag另外一个右线索域rflag,这个标志为1则表示指针域为线索，否则为子树指针。<br><img src="/img/suanfa/4.jpg" alt="image"><br>操作线索二叉树<br><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#define QUEUE_MAXSIZE 50</span></span><br><span class="line">typedef <span class="keyword">char</span> DATA;       <span class="comment">//定义元素类型</span></span><br><span class="line">typedef enum</span><br><span class="line">&#123;</span><br><span class="line">    SubTree,</span><br><span class="line">    Thread</span><br><span class="line">&#125;NodeFlag;  <span class="comment">//枚举值SubTree(子树)和Thread(线索)分别为0，1</span></span><br><span class="line">typedef struct ThreadTree  <span class="comment">//定义线索二叉树结点类型</span></span><br><span class="line">&#123;</span><br><span class="line">    DATA data;	<span class="comment">//元素数据</span></span><br><span class="line">    NodeFlag lflag; <span class="comment">//左标志</span></span><br><span class="line">    NodeFlag rflag; <span class="comment">//右标志</span></span><br><span class="line">    struct ThreadTree *left;	<span class="comment">//左子树结点指针</span></span><br><span class="line">    struct ThreadTree *right;	<span class="comment">//右子树结点指针</span></span><br><span class="line">&#125;ThreadBinTree;</span><br><span class="line"></span><br><span class="line">ThreadBinTree *Previous=<span class="keyword">NULL</span>;     <span class="comment">//前驱结点指针</span></span><br><span class="line"></span><br><span class="line">ThreadBinTree *BinTreeInit(ThreadBinTree *node) <span class="comment">//初始化二叉树根结点</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(node!=<span class="keyword">NULL</span>) <span class="comment">//若二叉树根结点不为空</span></span><br><span class="line">         <span class="keyword">return</span> node;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> BinTreeAddNode(ThreadBinTree *bt,ThreadBinTree *node,<span class="keyword">int</span> n) <span class="comment">//添加数据到二叉树</span></span><br><span class="line"><span class="comment">//bt为父结点，node为子结点,n=1表示添加左子树，n=2表示添加右子树</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">"父结点不存在，请先设置父结点!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span>(n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">//添加到左结点</span></span><br><span class="line">            <span class="keyword">if</span>(bt-&gt;left) <span class="comment">//左子树不为空</span></span><br><span class="line">            &#123;</span><br><span class="line">                printf(<span class="string">"左子树结点不为空!\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                bt-&gt;left=node;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//添加到右结点</span></span><br><span class="line">            <span class="keyword">if</span>( bt-&gt;right) <span class="comment">//右子树不为空</span></span><br><span class="line">            &#123;</span><br><span class="line">                printf(<span class="string">"右子树结点不为空!\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                bt-&gt;right=node;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            printf(<span class="string">"参数错误!\n"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *BinTreeLeft(ThreadBinTree *bt) <span class="comment">//返回左子结点</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> bt-&gt;left;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *BinTreeRight(ThreadBinTree *bt) <span class="comment">//返回右子结点</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> bt-&gt;right;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> BinTreeIsEmpty(ThreadBinTree *bt) <span class="comment">//检查二叉树是否为空，为空则返回1,否则返回0</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> BinTreeDepth(ThreadBinTree *bt) <span class="comment">//求二叉树深度</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> dep1,dep2;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//对于空树，深度为0</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        dep1 = BinTreeDepth(bt-&gt;left); <span class="comment">//左子树深度 (递归调用)</span></span><br><span class="line">        dep2 = BinTreeDepth(bt-&gt;right); <span class="comment">//右子树深度 (递归调用)</span></span><br><span class="line">        <span class="keyword">if</span>(dep1&gt;dep2)</span><br><span class="line">           <span class="keyword">return</span> dep1 + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> dep2 + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *BinTreeFind(ThreadBinTree *bt,DATA data) <span class="comment">//在二叉树中查找值为data的结点</span></span><br><span class="line">&#123;</span><br><span class="line">    ThreadBinTree *p;</span><br><span class="line">    <span class="keyword">if</span>(bt==<span class="keyword">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(bt-&gt;data==data)</span><br><span class="line">            <span class="keyword">return</span> bt;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">// 分别向左右子树递归查找</span></span><br><span class="line">            <span class="keyword">if</span>(p=BinTreeFind(bt-&gt;left,data))</span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p=BinTreeFind(bt-&gt;right, data))</span><br><span class="line">                <span class="keyword">return</span> p;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">void BinTreeClear(ThreadBinTree *bt) <span class="comment">// 清空二叉树，使之变为一棵空树</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(bt)</span><br><span class="line">     &#123;</span><br><span class="line">         BinTreeClear(bt-&gt;left); <span class="comment">//清空左子树</span></span><br><span class="line">         BinTreeClear(bt-&gt;right);<span class="comment">//清空右子树</span></span><br><span class="line">         free(bt);<span class="comment">//释放当前结点所占内存</span></span><br><span class="line">         bt=<span class="keyword">NULL</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">void BinTree_DLR(ThreadBinTree *bt,void (*oper)(ThreadBinTree *p))  <span class="comment">//先序遍历</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(bt)<span class="comment">//树不为空，则执行如下操作</span></span><br><span class="line">     &#123;</span><br><span class="line">         oper(bt); <span class="comment">//处理结点的数据</span></span><br><span class="line">         BinTree_DLR(bt-&gt;left,oper);</span><br><span class="line">         BinTree_DLR(bt-&gt;right,oper);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">void BinTree_LDR(ThreadBinTree *bt,void(*oper)(ThreadBinTree *p))  <span class="comment">//中序遍历</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(bt)<span class="comment">//树不为空，则执行如下操作</span></span><br><span class="line">     &#123;</span><br><span class="line">         BinTree_LDR(bt-&gt;left,oper); <span class="comment">//中序遍历左子树</span></span><br><span class="line">         oper(bt);<span class="comment">//处理结点数据</span></span><br><span class="line">         BinTree_LDR(bt-&gt;right,oper); <span class="comment">//中序遍历右子树/</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">void BinTree_LRD(ThreadBinTree *bt,void (*oper)(ThreadBinTree *p)) <span class="comment">//后序遍历</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">if</span>(bt)</span><br><span class="line">     &#123;</span><br><span class="line">         BinTree_LRD(bt-&gt;left,oper); <span class="comment">//后序遍历左子树</span></span><br><span class="line">         BinTree_LRD(bt-&gt;right,oper); <span class="comment">//后序遍历右子树/</span></span><br><span class="line">         oper(bt); <span class="comment">//处理结点数据</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">void BinTree_Level(ThreadBinTree *bt,void (*oper)(ThreadBinTree *p)) <span class="comment">//按层遍历</span></span><br><span class="line">&#123;</span><br><span class="line">     ThreadBinTree *p;</span><br><span class="line">     ThreadBinTree *q[QUEUE_MAXSIZE]; <span class="comment">//定义一个顺序栈</span></span><br><span class="line">     <span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">0</span>;<span class="comment">//队首、队尾序号</span></span><br><span class="line">     <span class="keyword">if</span>(bt)<span class="comment">//若队首指针不为空</span></span><br><span class="line">     &#123;</span><br><span class="line">         tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;<span class="comment">//计算循环队列队尾序号</span></span><br><span class="line">         q[tail] = bt;<span class="comment">//将二叉树根指针进队</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">while</span>(head!=tail) <span class="comment">//队列不为空，进行循环</span></span><br><span class="line">     &#123;</span><br><span class="line">         head=(head+<span class="number">1</span>)%QUEUE_MAXSIZE; <span class="comment">//计算循环队列的队首序号</span></span><br><span class="line">         p=q[head]; <span class="comment">//获取队首元素</span></span><br><span class="line">         oper(p);<span class="comment">//处理队首元素</span></span><br><span class="line">         <span class="keyword">if</span>(p-&gt;left!=<span class="keyword">NULL</span>) <span class="comment">//若结点存在左子树，则左子树指针进队</span></span><br><span class="line">         &#123;</span><br><span class="line">             tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;<span class="comment">//计算循环队列的队尾序号</span></span><br><span class="line">             q[tail]=p-&gt;left;<span class="comment">//将左子树指针进队</span></span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span>(p-&gt;right!=<span class="keyword">NULL</span>)<span class="comment">//若结点存在右孩子，则右孩子结点指针进队</span></span><br><span class="line">         &#123;</span><br><span class="line">             tail=(tail+<span class="number">1</span>)%QUEUE_MAXSIZE;<span class="comment">//计算循环队列的队尾序号</span></span><br><span class="line">             q[tail]=p-&gt;right;<span class="comment">//将右子树指针进队</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">void BinTreeThreading_LDR(ThreadBinTree *bt)     <span class="comment">//二叉树按中序线索化</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt) <span class="comment">//结点非空时，当前访问结点</span></span><br><span class="line">    &#123;</span><br><span class="line">        BinTreeThreading_LDR(bt-&gt;left); <span class="comment">//递归调用，将左子树线索化</span></span><br><span class="line">        bt-&gt;lflag=(bt-&gt;left)?SubTree:Thread; <span class="comment">//设置左指针域的标志</span></span><br><span class="line">        bt-&gt;rflag=(bt-&gt;right)?SubTree:Thread;<span class="comment">//设置右指针域的标志</span></span><br><span class="line">        <span class="keyword">if</span>(Previous) <span class="comment">//若当前结点的前驱Previous存在</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(Previous-&gt;rflag==Thread) <span class="comment">//若当前结点的前驱右标志为线索</span></span><br><span class="line">                Previous-&gt;right=bt;<span class="comment">//设Previous的右线索指向后继</span></span><br><span class="line">            <span class="keyword">if</span>(bt-&gt;lflag==Thread) <span class="comment">//若当前结点的左标志为线索</span></span><br><span class="line">                bt-&gt;left=Previous;<span class="comment">//设当前结点的左线索指向中序前驱</span></span><br><span class="line">        &#125;</span><br><span class="line">        Previous=bt;<span class="comment">//让Previous保存刚访问的结点</span></span><br><span class="line">        BinTreeThreading_LDR(bt-&gt;right);<span class="comment">//递归调用，将右子树线索化</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *BinTreeNext_LDR(ThreadBinTree *bt) <span class="comment">//求指定结点的后继</span></span><br><span class="line">&#123;</span><br><span class="line">    ThreadBinTree *nextnode;</span><br><span class="line">    <span class="keyword">if</span>(!bt) <span class="keyword">return</span> <span class="keyword">NULL</span>; <span class="comment">//若当前结点为空，则返回空</span></span><br><span class="line">    <span class="keyword">if</span>(bt-&gt;rflag==Thread) <span class="comment">//若当前结点的右子树为空</span></span><br><span class="line">        <span class="keyword">return</span> bt-&gt;right; <span class="comment">//返回右线索所指的中序后继</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        nextnode=bt-&gt;right; <span class="comment">//从当前结点的右子树开始查找</span></span><br><span class="line">        <span class="keyword">while</span>(nextnode-&gt;lflag==SubTree) <span class="comment">//循环处理所有左子树不为空的结点</span></span><br><span class="line">            nextnode=nextnode-&gt;left;</span><br><span class="line">        <span class="keyword">return</span> nextnode; <span class="comment">//返回左下方的结点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *BinTreePrevious_LDR(ThreadBinTree *bt) <span class="comment">//求指定结点的前驱</span></span><br><span class="line">&#123;</span><br><span class="line">    ThreadBinTree *prenode;</span><br><span class="line">    <span class="keyword">if</span>(!bt) <span class="keyword">return</span> <span class="keyword">NULL</span>; <span class="comment">//若当前结点为空，则返回空</span></span><br><span class="line">    <span class="keyword">if</span>(bt-&gt;lflag==Thread) <span class="comment">//若当前结点的左子树为空</span></span><br><span class="line">        <span class="keyword">return</span> bt-&gt;left; <span class="comment">//返回左线索所指的中序后继</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        prenode=bt-&gt;left; <span class="comment">//从当前结点的左子树开始查找</span></span><br><span class="line">        <span class="keyword">while</span>(prenode-&gt;rflag==SubTree) <span class="comment">//循环处理所有右子树不为空的结点</span></span><br><span class="line">            prenode=prenode-&gt;right;<span class="comment">//书中错误为 prenode=prenode-&gt;left;</span></span><br><span class="line">        <span class="keyword">return</span> prenode; <span class="comment">//返回右下方的结点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ThreadBinTree_LDR(ThreadBinTree *bt,void (*oper)(ThreadBinTree *p)) <span class="comment">//遍历中序线索二叉树</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(bt) <span class="comment">//二叉树不为空</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(bt-&gt;lflag==SubTree)<span class="comment">//有左子树</span></span><br><span class="line">            bt=bt-&gt;left; <span class="comment">//从根往下找最左下结点，即中序序列的开始结点</span></span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">           oper(bt); <span class="comment">//处理结点</span></span><br><span class="line">           bt=BinTreeNext_LDR(bt);<span class="comment">//找中序后继结点</span></span><br><span class="line">        &#125;<span class="keyword">while</span>(bt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void oper(ThreadBinTree *p) <span class="comment">//操作二叉树结点数据</span></span><br><span class="line">&#123;</span><br><span class="line">     printf(<span class="string">"%c "</span>,p-&gt;data); <span class="comment">//输出数据</span></span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">ThreadBinTree *InitRoot()  <span class="comment">//初始化二叉树的根</span></span><br><span class="line">&#123;</span><br><span class="line">    ThreadBinTree *node;</span><br><span class="line">    <span class="keyword">if</span>(node=(ThreadBinTree *)malloc(sizeof(ThreadBinTree))) <span class="comment">//分配内存</span></span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">"\n输入根结点数据:"</span>);</span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;node-&gt;data);</span><br><span class="line">        node-&gt;left=<span class="keyword">NULL</span>;</span><br><span class="line">        node-&gt;right=<span class="keyword">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> BinTreeInit(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">void AddNode(ThreadBinTree *bt)</span><br><span class="line">&#123;</span><br><span class="line">     ThreadBinTree *node,*<span class="keyword">parent</span>;</span><br><span class="line">     DATA data;</span><br><span class="line">     <span class="keyword">char</span> select;</span><br><span class="line">    <span class="keyword">if</span>(node=(ThreadBinTree *)malloc(sizeof(ThreadBinTree))) <span class="comment">//分配内存</span></span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">"\n输入二叉树结点数据:"</span>);</span><br><span class="line">        fflush(stdin);<span class="comment">//清空输入缓冲区</span></span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;node-&gt;data);</span><br><span class="line">        node-&gt;left=<span class="keyword">NULL</span>; <span class="comment">//设置左右子树为空</span></span><br><span class="line">        node-&gt;right=<span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        printf(<span class="string">"输入父结点数据:"</span>);</span><br><span class="line">        fflush(stdin);<span class="comment">//清空输入缓冲区</span></span><br><span class="line">        scanf(<span class="string">"%s"</span>,&amp;data);</span><br><span class="line">        <span class="keyword">parent</span>=BinTreeFind(bt,data);<span class="comment">//查找指定数据的结点</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">parent</span>)<span class="comment">//若未找到指定数据的结点</span></span><br><span class="line">        &#123;</span><br><span class="line">            printf(<span class="string">"未找到父结点!\n"</span>);</span><br><span class="line">            free(node); <span class="comment">//释放创建的结点内存</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         printf(<span class="string">"1.添加到左子树\n2.添加到右子树\n"</span>);</span><br><span class="line">         <span class="keyword">do</span>&#123;</span><br><span class="line">            select=getch();</span><br><span class="line">            select-=<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span>(select==<span class="number">1</span> || select==<span class="number">2</span>)</span><br><span class="line">                BinTreeAddNode(<span class="keyword">parent</span>,node,select); <span class="comment">//添加结点到二叉树</span></span><br><span class="line">         &#125;<span class="keyword">while</span>(select!=<span class="number">1</span> &amp;&amp; select!=<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> main()</span><br><span class="line">&#123;</span><br><span class="line">    ThreadBinTree *root=<span class="keyword">NULL</span>; <span class="comment">//root为指向二叉树根结点的指针</span></span><br><span class="line">    <span class="keyword">char</span> select;</span><br><span class="line">    void (*oper1)(); <span class="comment">//指向函数的指针</span></span><br><span class="line">    oper1=oper; <span class="comment">//指向具体操作的函数</span></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        printf(<span class="string">"\n1.设置二叉树根元素    2.添加二叉树结点\n"</span>);</span><br><span class="line">        printf(<span class="string">"3.生成中序线索二叉树  4.遍历线索二叉树\n"</span>);</span><br><span class="line">        printf(<span class="string">"0.退出\n"</span>);</span><br><span class="line">        select=getch();</span><br><span class="line">        <span class="keyword">switch</span>(select)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'1'</span>: <span class="comment">//设置根元素</span></span><br><span class="line">             root=InitRoot();</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'2'</span>: <span class="comment">//添加结点</span></span><br><span class="line">             AddNode(root);</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'3'</span>:<span class="comment">//生成中序线索二叉树</span></span><br><span class="line">             BinTreeThreading_LDR(root);</span><br><span class="line">             printf(<span class="string">"\n生成中序线索二叉树完毕！\n"</span>);</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'4'</span>:<span class="comment">//遍历中序线索二叉树</span></span><br><span class="line">             printf(<span class="string">"\n中序线索二叉树遍历的结果："</span>);</span><br><span class="line">             ThreadBinTree_LDR(root,oper1);</span><br><span class="line">             printf(<span class="string">"\n"</span>);</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'0'</span>:</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(select!=<span class="string">'0'</span>);</span><br><span class="line">    BinTreeClear(root);<span class="comment">//清空二叉树</span></span><br><span class="line">    root=<span class="keyword">NULL</span>;</span><br><span class="line">    getch();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line"><span class="number">1.</span>设置二叉树根元素    <span class="number">2.</span>添加二叉树结点</span><br><span class="line"><span class="number">3.</span>生成中序线索二叉树  <span class="number">4.</span>遍历线索二叉树</span><br><span class="line"><span class="number">0.</span>退出</span><br><span class="line"></span><br><span class="line">输入根结点数据:A</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素    <span class="number">2.</span>添加二叉树结点</span><br><span class="line"><span class="number">3.</span>生成中序线索二叉树  <span class="number">4.</span>遍历线索二叉树</span><br><span class="line"><span class="number">0.</span>退出</span><br><span class="line"></span><br><span class="line">输入二叉树结点数据:B</span><br><span class="line">输入父结点数据:A</span><br><span class="line"><span class="number">1.</span>添加到左子树</span><br><span class="line"><span class="number">2.</span>添加到右子树</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素    <span class="number">2.</span>添加二叉树结点</span><br><span class="line"><span class="number">3.</span>生成中序线索二叉树  <span class="number">4.</span>遍历线索二叉树</span><br><span class="line"><span class="number">0.</span>退出</span><br><span class="line"></span><br><span class="line">输入二叉树结点数据:C</span><br><span class="line">输入父结点数据:B</span><br><span class="line"><span class="number">1.</span>添加到左子树</span><br><span class="line"><span class="number">2.</span>添加到右子树</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素    <span class="number">2.</span>添加二叉树结点</span><br><span class="line"><span class="number">3.</span>生成中序线索二叉树  <span class="number">4.</span>遍历线索二叉树</span><br><span class="line"><span class="number">0.</span>退出</span><br><span class="line"></span><br><span class="line">生成中序线索二叉树完毕！</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>设置二叉树根元素    <span class="number">2.</span>添加二叉树结点</span><br><span class="line"><span class="number">3.</span>生成中序线索二叉树  <span class="number">4.</span>遍历线索二叉树</span><br><span class="line"><span class="number">0.</span>退出</span><br><span class="line"></span><br><span class="line">中序线索二叉树遍历的结果：B C A</span><br></pre></td></tr></table></figure></p>
<p>哈夫曼树(最优二叉树)基本概念：<br>节点的权：根据各节点数据的重要性赋予节点的数；<br>路径：树中从一个节点到另外一个节点的分支，称为这两个节点之间的路径；<br>路径长度：一个路径上分支数量；<br>树的路径长度：从树的根节点到每个节点的路径长度之和，节点数目相同的二叉树，完全二叉树路径最短；<br>节点的带权路径长度：若节点是带权的，从节点到根节点的路径长度与该节点的权的乘积；<br>树的带权路径长度：树中所有节点的带权路径长度之和(WPL)<br><img src="/img/suanfa/5.jpg" alt="image"><br>上图中带权路径长度分别为节点A B C D的带权路径长度之和：<br>(a)WPL=5x2+7x2+2x2+13x2=54;<br>(b)WPL=5x1+7x2+2x3+13x3=64;<br>(c)WPL=1x13+2x7+3x2+5x3=48;<br>图c最小，为一棵哈夫曼树。<br>哈夫曼树创建过程：</p>
<h2 id="6-_u56FE"><a href="#6-_u56FE" class="headerlink" title="6.图"></a>6.图</h2><h1 id="u4E8C-_u7B97_u6CD5"><a href="#u4E8C-_u7B97_u6CD5" class="headerlink" title="二.算法"></a>二.算法</h1><h1 id="u4E09-_u5E38_u7528_u7A0B_u5E8F"><a href="#u4E09-_u5E38_u7528_u7A0B_u5E8F" class="headerlink" title="三.常用程序"></a>三.常用程序</h1><h2 id="1__u8FDB_u5236_u8F6C_u5316"><a href="#1__u8FDB_u5236_u8F6C_u5316" class="headerlink" title="1 进制转化"></a>1 进制转化</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="comment">/** **********进制转换</span><br><span class="line"> *输入10进制数和需要转换的进制</span><br><span class="line"> *输出对应进制数</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">convto</span><span class="params">(<span class="keyword">char</span> *s,<span class="keyword">int</span> n,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> bit[]=&#123;<span class="string">"0123456789ABCDEF"</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">strcpy</span>(s,<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    convto(s,n/b,b);</span><br><span class="line">    len=<span class="built_in">strlen</span>(s);</span><br><span class="line">    s[len]=bit[n%b];</span><br><span class="line">    s[len+<span class="number">1</span>]=<span class="string">'\0'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">80</span>];</span><br><span class="line">    <span class="keyword">int</span> base,old;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入十进制数:"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;old);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"输入转换的进制:"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;base);</span><br><span class="line">    convto(s,old,base);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,s);</span><br><span class="line">    <span class="comment">//char i=getch(); //从控制台读取一个字符，但不显示在屏幕上 会等待你按下任意键，再继续执行下面的语句</span></span><br><span class="line">    <span class="comment">//printf("%c\n",i);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="u56DB-_u9898_u5E93"><a href="#u56DB-_u9898_u5E93" class="headerlink" title="四.题库"></a>四.题库</h1><h2 id="1-_u8BD5_u63A2_u6CD5_u751F_u6210_u5F69_u7968_u7EC4_u5408"><a href="#1-_u8BD5_u63A2_u6CD5_u751F_u6210_u5F69_u7968_u7EC4_u5408" class="headerlink" title="1.试探法生成彩票组合"></a>1.试探法生成彩票组合</h2><p>描述：通过每一注彩票的位数和组成彩票的数字输出彩票号码。不可重复。<br>如:位数3 数字4<br>则组合：<br>4 3 2<br>4 3 1<br>4 2 1<br>3 2 1</p>
<p>程序如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXN <span class="number">3</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> NUM <span class="number">4</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num[NUM];</span><br><span class="line"><span class="keyword">int</span> lottery[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combine</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(i=n;i&gt;=m;i--)&#123;</span><br><span class="line">        lottery[m-<span class="number">1</span>]=num[i-<span class="number">1</span>];<span class="comment">//保存一位数字</span></span><br><span class="line">        <span class="keyword">if</span>(m&gt;<span class="number">1</span>)</span><br><span class="line">            combine(i-<span class="number">1</span>,m-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(j=MAXN-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%3d"</span>,lottery[j]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;NUM;i++)</span><br><span class="line">        num[i]=i+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;MAXN;j++)</span><br><span class="line">        lottery[j]=<span class="number">0</span>;</span><br><span class="line">    combine(NUM,MAXN);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output：</span><br><span class="line">  <span class="number">4</span>  <span class="number">3</span>  <span class="number">2</span></span><br><span class="line">  <span class="number">4</span>  <span class="number">3</span>  <span class="number">1</span></span><br><span class="line">  <span class="number">4</span>  <span class="number">2</span>  <span class="number">1</span></span><br><span class="line">  <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<h2 id="2-_u6C49_u8BFA_u5854_u95EE_u9898"><a href="#2-_u6C49_u8BFA_u5854_u95EE_u9898" class="headerlink" title="2.汉诺塔问题"></a>2.汉诺塔问题</h2><p>汉诺塔问题是使用递归解决问题的经典范例。<br>汉诺（Hanoi）塔问题：古代有一个梵塔，塔内有三个座A、B、C，A座上有64个盘子，盘子大小不等，大的在下，小的在上。有一个和尚想把这64个盘子从A座移到C座，但每次只能允许移动一个盘子，并且在移动过程中，3个座上的盘子始终保持大盘在下，小盘在上。在移动过程中可以利用B座，要求打印移动的步骤。如果只有一个盘子，则不需要利用B座，直接将盘子从A移动到C。<br>分析：<br>(1)如果只有一个圆盘，则把该圆盘从A棒移动到C棒，完成任务；<br>(2)如果圆盘数量n&gt;1,移动过程分三步：<br>第一步：将A棒的n-1个圆盘移动到B棒上，<br>第二步：将A棒的1个盘移动到C棒上，<br>第三步：将B棒的n-1个圆盘移动到C棒上。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">hanio</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">char</span> one ,<span class="keyword">char</span> two,<span class="keyword">char</span> three)</span></span>;</span><br><span class="line">  <span class="keyword">int</span> m;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"输入盘子的数量"</span>);</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"移动个%d盘子步骤\n"</span>,m);</span><br><span class="line">  hanio(m,<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"总共移动了%d次"</span>,count);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hanio</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">char</span> one,<span class="keyword">char</span> two,<span class="keyword">char</span> three)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">char</span> x,<span class="keyword">char</span> y)</span></span>;</span><br><span class="line">  <span class="keyword">if</span>(<span class="number">1</span>==n) move(one,three);</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">        hanio(n-<span class="number">1</span>,one ,three,two);</span><br><span class="line">        move(one,three);</span><br><span class="line">        hanio(n-<span class="number">1</span>,two,one,three);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">char</span> x,<span class="keyword">char</span> y)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%c---&gt;%c\n"</span>,x,y);</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line">输入盘子的数量<span class="number">3</span></span><br><span class="line">移动个<span class="number">3</span>盘子步骤</span><br><span class="line">A---&gt;C</span><br><span class="line">A---&gt;B</span><br><span class="line">C---&gt;B</span><br><span class="line">A---&gt;C</span><br><span class="line">B---&gt;A</span><br><span class="line">B---&gt;C</span><br><span class="line">A---&gt;C</span><br><span class="line">总共移动了<span class="number">7</span>次</span><br></pre></td></tr></table></figure></p>
<h2 id="3-_u7B97_u672F_u8868_u8FBE_u5F0F_u6C42_u503C"><a href="#3-_u7B97_u672F_u8868_u8FBE_u5F0F_u6C42_u503C" class="headerlink" title="3.算术表达式求值"></a>3.算术表达式求值</h2><p>输入表达式，输出计算值,这里只有数字和加减乘除小括号。<br>如:<br>输入:(1+1)*2=<br>输出:4<br>分析如下:<br><img src="/img/suanfa/1.png" alt="image"><br>运算符优先级：</p>
<table>
<thead>
<tr>
<th>O1\O2</th>
<th>+、-</th>
<th>*、/</th>
<th>（</th>
<th>）</th>
</tr>
</thead>
<tbody>
<tr>
<td>+、-</td>
<td>1</td>
<td>-1</td>
<td>-1</td>
<td>1</td>
</tr>
<tr>
<td>*、/</td>
<td>1</td>
<td>1</td>
<td>-1</td>
<td>1</td>
</tr>
<tr>
<td>（</td>
<td>-1</td>
<td>-1</td>
<td>-1</td>
<td>0</td>
</tr>
<tr>
<td>）</td>
<td>1</td>
<td>1</td>
<td></td>
<td>1</td>
</tr>
</tbody>
</table>
<p>程序：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/数据结构/" rel="tag">#数据结构</a>
          
            <a href="/tags/算法/" rel="tag">#算法</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/07/19/PHP/" rel="next" title="PHP">
                <i class="fa fa-chevron-left"></i> PHP
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/09/ext_js/" rel="prev" title="Ext JS">
                Ext JS <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2016/10/07/suanfa/"
     data-title="数据结构与算法"
     data-content=""
     data-url="http://www.bestzhangjin.com/2016/10/07/suanfa/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/10/07/suanfa/"
           data-title="数据结构与算法" data-url="http://www.bestzhangjin.com/2016/10/07/suanfa/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpeg" alt="Jin Zhang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Jin Zhang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">天高任鸟飞，海阔凭鱼跃。</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">34</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">46</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#u4E00-_u6570_u636E_u7ED3_u6784"><span class="nav-number">1.</span> <span class="nav-text">一.数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u4ECB_u7ECD"><span class="nav-number">1.1.</span> <span class="nav-text">1.介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u7EBF_u6027_u8868"><span class="nav-number">1.2.</span> <span class="nav-text">2.线性表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u961F_u5217"><span class="nav-number">1.3.</span> <span class="nav-text">3.队列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-_u6808"><span class="nav-number">1.4.</span> <span class="nav-text">4.栈</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-_u6811"><span class="nav-number">1.5.</span> <span class="nav-text">5.树</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-_u56FE"><span class="nav-number">1.6.</span> <span class="nav-text">6.图</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u4E8C-_u7B97_u6CD5"><span class="nav-number">2.</span> <span class="nav-text">二.算法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u4E09-_u5E38_u7528_u7A0B_u5E8F"><span class="nav-number">3.</span> <span class="nav-text">三.常用程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1__u8FDB_u5236_u8F6C_u5316"><span class="nav-number">3.1.</span> <span class="nav-text">1 进制转化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#u56DB-_u9898_u5E93"><span class="nav-number">4.</span> <span class="nav-text">四.题库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-_u8BD5_u63A2_u6CD5_u751F_u6210_u5F69_u7968_u7EC4_u5408"><span class="nav-number">4.1.</span> <span class="nav-text">1.试探法生成彩票组合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-_u6C49_u8BFA_u5854_u95EE_u9898"><span class="nav-number">4.2.</span> <span class="nav-text">2.汉诺塔问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-_u7B97_u672F_u8868_u8FBE_u5F0F_u6C42_u503C"><span class="nav-number">4.3.</span> <span class="nav-text">3.算术表达式求值</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jin Zhang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"bestzhangjin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
